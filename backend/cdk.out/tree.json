{
  "version": "tree-0.1",
  "tree": {
    "id": "App",
    "path": "",
    "children": {
      "CloudMoviesStack": {
        "id": "CloudMoviesStack",
        "path": "CloudMoviesStack",
        "children": {
          "videosTable": {
            "id": "videosTable",
            "path": "CloudMoviesStack/videosTable",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/videosTable/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::DynamoDB::Table",
                  "aws:cdk:cloudformation:props": {
                    "attributeDefinitions": [
                      {
                        "attributeName": "videoId",
                        "attributeType": "S"
                      },
                      {
                        "attributeName": "videoType",
                        "attributeType": "S"
                      },
                      {
                        "attributeName": "title",
                        "attributeType": "S"
                      },
                      {
                        "attributeName": "description",
                        "attributeType": "S"
                      },
                      {
                        "attributeName": "actors",
                        "attributeType": "S"
                      },
                      {
                        "attributeName": "directors",
                        "attributeType": "S"
                      },
                      {
                        "attributeName": "genres",
                        "attributeType": "S"
                      }
                    ],
                    "globalSecondaryIndexes": [
                      {
                        "indexName": "videoTypeIndex",
                        "keySchema": [
                          {
                            "attributeName": "videoType",
                            "keyType": "HASH"
                          }
                        ],
                        "projection": {
                          "projectionType": "ALL"
                        },
                        "provisionedThroughput": {
                          "readCapacityUnits": 5,
                          "writeCapacityUnits": 5
                        }
                      },
                      {
                        "indexName": "titleIndex",
                        "keySchema": [
                          {
                            "attributeName": "title",
                            "keyType": "HASH"
                          }
                        ],
                        "projection": {
                          "projectionType": "ALL"
                        },
                        "provisionedThroughput": {
                          "readCapacityUnits": 5,
                          "writeCapacityUnits": 5
                        }
                      },
                      {
                        "indexName": "descriptionIndex",
                        "keySchema": [
                          {
                            "attributeName": "description",
                            "keyType": "HASH"
                          }
                        ],
                        "projection": {
                          "projectionType": "ALL"
                        },
                        "provisionedThroughput": {
                          "readCapacityUnits": 5,
                          "writeCapacityUnits": 5
                        }
                      },
                      {
                        "indexName": "actorsIndex",
                        "keySchema": [
                          {
                            "attributeName": "actors",
                            "keyType": "HASH"
                          }
                        ],
                        "projection": {
                          "projectionType": "ALL"
                        },
                        "provisionedThroughput": {
                          "readCapacityUnits": 5,
                          "writeCapacityUnits": 5
                        }
                      },
                      {
                        "indexName": "directorsIndex",
                        "keySchema": [
                          {
                            "attributeName": "directors",
                            "keyType": "HASH"
                          }
                        ],
                        "projection": {
                          "projectionType": "ALL"
                        },
                        "provisionedThroughput": {
                          "readCapacityUnits": 5,
                          "writeCapacityUnits": 5
                        }
                      },
                      {
                        "indexName": "genresIndex",
                        "keySchema": [
                          {
                            "attributeName": "genres",
                            "keyType": "HASH"
                          }
                        ],
                        "projection": {
                          "projectionType": "ALL"
                        },
                        "provisionedThroughput": {
                          "readCapacityUnits": 5,
                          "writeCapacityUnits": 5
                        }
                      }
                    ],
                    "keySchema": [
                      {
                        "attributeName": "videoId",
                        "keyType": "HASH"
                      },
                      {
                        "attributeName": "videoType",
                        "keyType": "RANGE"
                      }
                    ],
                    "provisionedThroughput": {
                      "readCapacityUnits": 5,
                      "writeCapacityUnits": 5
                    },
                    "streamSpecification": {
                      "streamViewType": "NEW_AND_OLD_IMAGES"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_dynamodb.CfnTable",
                  "version": "2.142.1"
                }
              },
              "ScalingRole": {
                "id": "ScalingRole",
                "path": "CloudMoviesStack/videosTable/ScalingRole",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.Resource",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_dynamodb.Table",
              "version": "2.142.1"
            }
          },
          "subscriptionsTable": {
            "id": "subscriptionsTable",
            "path": "CloudMoviesStack/subscriptionsTable",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/subscriptionsTable/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::DynamoDB::Table",
                  "aws:cdk:cloudformation:props": {
                    "attributeDefinitions": [
                      {
                        "attributeName": "userId",
                        "attributeType": "S"
                      },
                      {
                        "attributeName": "subscriptionType",
                        "attributeType": "S"
                      }
                    ],
                    "keySchema": [
                      {
                        "attributeName": "userId",
                        "keyType": "HASH"
                      },
                      {
                        "attributeName": "subscriptionType",
                        "keyType": "RANGE"
                      }
                    ],
                    "provisionedThroughput": {
                      "readCapacityUnits": 5,
                      "writeCapacityUnits": 5
                    },
                    "streamSpecification": {
                      "streamViewType": "NEW_AND_OLD_IMAGES"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_dynamodb.CfnTable",
                  "version": "2.142.1"
                }
              },
              "ScalingRole": {
                "id": "ScalingRole",
                "path": "CloudMoviesStack/subscriptionsTable/ScalingRole",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.Resource",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_dynamodb.Table",
              "version": "2.142.1"
            }
          },
          "ratingTable": {
            "id": "ratingTable",
            "path": "CloudMoviesStack/ratingTable",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/ratingTable/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::DynamoDB::Table",
                  "aws:cdk:cloudformation:props": {
                    "attributeDefinitions": [
                      {
                        "attributeName": "userId",
                        "attributeType": "S"
                      },
                      {
                        "attributeName": "contentId",
                        "attributeType": "S"
                      }
                    ],
                    "keySchema": [
                      {
                        "attributeName": "userId",
                        "keyType": "HASH"
                      },
                      {
                        "attributeName": "contentId",
                        "keyType": "RANGE"
                      }
                    ],
                    "provisionedThroughput": {
                      "readCapacityUnits": 5,
                      "writeCapacityUnits": 5
                    },
                    "streamSpecification": {
                      "streamViewType": "NEW_AND_OLD_IMAGES"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_dynamodb.CfnTable",
                  "version": "2.142.1"
                }
              },
              "ScalingRole": {
                "id": "ScalingRole",
                "path": "CloudMoviesStack/ratingTable/ScalingRole",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.Resource",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_dynamodb.Table",
              "version": "2.142.1"
            }
          },
          "feedsTable": {
            "id": "feedsTable",
            "path": "CloudMoviesStack/feedsTable",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/feedsTable/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::DynamoDB::Table",
                  "aws:cdk:cloudformation:props": {
                    "attributeDefinitions": [
                      {
                        "attributeName": "userId",
                        "attributeType": "S"
                      }
                    ],
                    "keySchema": [
                      {
                        "attributeName": "userId",
                        "keyType": "HASH"
                      }
                    ],
                    "provisionedThroughput": {
                      "readCapacityUnits": 5,
                      "writeCapacityUnits": 5
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_dynamodb.CfnTable",
                  "version": "2.142.1"
                }
              },
              "ScalingRole": {
                "id": "ScalingRole",
                "path": "CloudMoviesStack/feedsTable/ScalingRole",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.Resource",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_dynamodb.Table",
              "version": "2.142.1"
            }
          },
          "sourceBucket": {
            "id": "sourceBucket",
            "path": "CloudMoviesStack/sourceBucket",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/sourceBucket/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::S3::Bucket",
                  "aws:cdk:cloudformation:props": {
                    "corsConfiguration": {
                      "corsRules": [
                        {
                          "allowedHeaders": [
                            "*"
                          ],
                          "allowedMethods": [
                            "GET",
                            "PUT",
                            "POST",
                            "DELETE",
                            "HEAD"
                          ],
                          "allowedOrigins": [
                            "*"
                          ]
                        }
                      ]
                    },
                    "tags": [
                      {
                        "key": "aws-cdk:auto-delete-objects",
                        "value": "true"
                      }
                    ]
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3.CfnBucket",
                  "version": "2.142.1"
                }
              },
              "Policy": {
                "id": "Policy",
                "path": "CloudMoviesStack/sourceBucket/Policy",
                "children": {
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/sourceBucket/Policy/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::S3::BucketPolicy",
                      "aws:cdk:cloudformation:props": {
                        "bucket": {
                          "Ref": "sourceBucket5C83C9D6"
                        },
                        "policyDocument": {
                          "Statement": [
                            {
                              "Action": [
                                "s3:DeleteObject*",
                                "s3:GetBucket*",
                                "s3:List*",
                                "s3:PutBucketPolicy"
                              ],
                              "Effect": "Allow",
                              "Principal": {
                                "AWS": {
                                  "Fn::GetAtt": [
                                    "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092",
                                    "Arn"
                                  ]
                                }
                              },
                              "Resource": [
                                {
                                  "Fn::GetAtt": [
                                    "sourceBucket5C83C9D6",
                                    "Arn"
                                  ]
                                },
                                {
                                  "Fn::Join": [
                                    "",
                                    [
                                      {
                                        "Fn::GetAtt": [
                                          "sourceBucket5C83C9D6",
                                          "Arn"
                                        ]
                                      },
                                      "/*"
                                    ]
                                  ]
                                }
                              ]
                            }
                          ],
                          "Version": "2012-10-17"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.CfnBucketPolicy",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3.BucketPolicy",
                  "version": "2.142.1"
                }
              },
              "AutoDeleteObjectsCustomResource": {
                "id": "AutoDeleteObjectsCustomResource",
                "path": "CloudMoviesStack/sourceBucket/AutoDeleteObjectsCustomResource",
                "children": {
                  "Default": {
                    "id": "Default",
                    "path": "CloudMoviesStack/sourceBucket/AutoDeleteObjectsCustomResource/Default",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.CfnResource",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.CustomResource",
                  "version": "2.142.1"
                }
              },
              "Notifications": {
                "id": "Notifications",
                "path": "CloudMoviesStack/sourceBucket/Notifications",
                "children": {
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/sourceBucket/Notifications/Resource",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.CfnResource",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "constructs.Construct",
                  "version": "10.3.0"
                }
              },
              "AllowBucketNotificationsToCloudMoviesStackunzipvideolambdaLambda3195A805": {
                "id": "AllowBucketNotificationsToCloudMoviesStackunzipvideolambdaLambda3195A805",
                "path": "CloudMoviesStack/sourceBucket/AllowBucketNotificationsToCloudMoviesStackunzipvideolambdaLambda3195A805",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                  "aws:cdk:cloudformation:props": {
                    "action": "lambda:InvokeFunction",
                    "functionName": {
                      "Fn::GetAtt": [
                        "unzipvideolambdaLambda21A9B6C9",
                        "Arn"
                      ]
                    },
                    "principal": "s3.amazonaws.com",
                    "sourceAccount": {
                      "Ref": "AWS::AccountId"
                    },
                    "sourceArn": {
                      "Fn::GetAtt": [
                        "sourceBucket5C83C9D6",
                        "Arn"
                      ]
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                  "version": "2.142.1"
                }
              },
              "AllowBucketNotificationsToCloudMoviesStackstarttranscodinglambdaLambdaC265D889": {
                "id": "AllowBucketNotificationsToCloudMoviesStackstarttranscodinglambdaLambdaC265D889",
                "path": "CloudMoviesStack/sourceBucket/AllowBucketNotificationsToCloudMoviesStackstarttranscodinglambdaLambdaC265D889",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                  "aws:cdk:cloudformation:props": {
                    "action": "lambda:InvokeFunction",
                    "functionName": {
                      "Fn::GetAtt": [
                        "starttranscodinglambdaLambda5DD0E2FB",
                        "Arn"
                      ]
                    },
                    "principal": "s3.amazonaws.com",
                    "sourceAccount": {
                      "Ref": "AWS::AccountId"
                    },
                    "sourceArn": {
                      "Fn::GetAtt": [
                        "sourceBucket5C83C9D6",
                        "Arn"
                      ]
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_s3.Bucket",
              "version": "2.142.1"
            }
          },
          "Custom::S3AutoDeleteObjectsCustomResourceProvider": {
            "id": "Custom::S3AutoDeleteObjectsCustomResourceProvider",
            "path": "CloudMoviesStack/Custom::S3AutoDeleteObjectsCustomResourceProvider",
            "children": {
              "Staging": {
                "id": "Staging",
                "path": "CloudMoviesStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Staging",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.AssetStaging",
                  "version": "2.142.1"
                }
              },
              "Role": {
                "id": "Role",
                "path": "CloudMoviesStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.CfnResource",
                  "version": "2.142.1"
                }
              },
              "Handler": {
                "id": "Handler",
                "path": "CloudMoviesStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.CfnResource",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.CustomResourceProviderBase",
              "version": "2.142.1"
            }
          },
          "publishBucket": {
            "id": "publishBucket",
            "path": "CloudMoviesStack/publishBucket",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/publishBucket/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::S3::Bucket",
                  "aws:cdk:cloudformation:props": {
                    "corsConfiguration": {
                      "corsRules": [
                        {
                          "allowedHeaders": [
                            "*"
                          ],
                          "allowedMethods": [
                            "GET",
                            "PUT",
                            "POST",
                            "DELETE",
                            "HEAD"
                          ],
                          "allowedOrigins": [
                            "*"
                          ]
                        }
                      ]
                    },
                    "tags": [
                      {
                        "key": "aws-cdk:auto-delete-objects",
                        "value": "true"
                      }
                    ]
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3.CfnBucket",
                  "version": "2.142.1"
                }
              },
              "Policy": {
                "id": "Policy",
                "path": "CloudMoviesStack/publishBucket/Policy",
                "children": {
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/publishBucket/Policy/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::S3::BucketPolicy",
                      "aws:cdk:cloudformation:props": {
                        "bucket": {
                          "Ref": "publishBucketBD758787"
                        },
                        "policyDocument": {
                          "Statement": [
                            {
                              "Action": [
                                "s3:DeleteObject*",
                                "s3:GetBucket*",
                                "s3:List*",
                                "s3:PutBucketPolicy"
                              ],
                              "Effect": "Allow",
                              "Principal": {
                                "AWS": {
                                  "Fn::GetAtt": [
                                    "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092",
                                    "Arn"
                                  ]
                                }
                              },
                              "Resource": [
                                {
                                  "Fn::GetAtt": [
                                    "publishBucketBD758787",
                                    "Arn"
                                  ]
                                },
                                {
                                  "Fn::Join": [
                                    "",
                                    [
                                      {
                                        "Fn::GetAtt": [
                                          "publishBucketBD758787",
                                          "Arn"
                                        ]
                                      },
                                      "/*"
                                    ]
                                  ]
                                }
                              ]
                            }
                          ],
                          "Version": "2012-10-17"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.CfnBucketPolicy",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3.BucketPolicy",
                  "version": "2.142.1"
                }
              },
              "AutoDeleteObjectsCustomResource": {
                "id": "AutoDeleteObjectsCustomResource",
                "path": "CloudMoviesStack/publishBucket/AutoDeleteObjectsCustomResource",
                "children": {
                  "Default": {
                    "id": "Default",
                    "path": "CloudMoviesStack/publishBucket/AutoDeleteObjectsCustomResource/Default",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.CfnResource",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.CustomResource",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_s3.Bucket",
              "version": "2.142.1"
            }
          },
          "userEventFeedQueue": {
            "id": "userEventFeedQueue",
            "path": "CloudMoviesStack/userEventFeedQueue",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/userEventFeedQueue/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::SQS::Queue",
                  "aws:cdk:cloudformation:props": {}
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_sqs.CfnQueue",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_sqs.Queue",
              "version": "2.142.1"
            }
          },
          "publishEventFeedQueue": {
            "id": "publishEventFeedQueue",
            "path": "CloudMoviesStack/publishEventFeedQueue",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/publishEventFeedQueue/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::SQS::Queue",
                  "aws:cdk:cloudformation:props": {}
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_sqs.CfnQueue",
                  "version": "2.142.1"
                }
              },
              "Policy": {
                "id": "Policy",
                "path": "CloudMoviesStack/publishEventFeedQueue/Policy",
                "children": {
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/publishEventFeedQueue/Policy/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::SQS::QueuePolicy",
                      "aws:cdk:cloudformation:props": {
                        "policyDocument": {
                          "Statement": [
                            {
                              "Action": "sqs:SendMessage",
                              "Condition": {
                                "ArnEquals": {
                                  "aws:SourceArn": {
                                    "Ref": "videoPublishedTopic0F33FD9B"
                                  }
                                }
                              },
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "sns.amazonaws.com"
                              },
                              "Resource": {
                                "Fn::GetAtt": [
                                  "publishEventFeedQueueF16A58E7",
                                  "Arn"
                                ]
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "queues": [
                          {
                            "Ref": "publishEventFeedQueueF16A58E7"
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_sqs.CfnQueuePolicy",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_sqs.QueuePolicy",
                  "version": "2.142.1"
                }
              },
              "CloudMoviesStackvideoPublishedTopic42F971A2": {
                "id": "CloudMoviesStackvideoPublishedTopic42F971A2",
                "path": "CloudMoviesStack/publishEventFeedQueue/CloudMoviesStackvideoPublishedTopic42F971A2",
                "children": {
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/publishEventFeedQueue/CloudMoviesStackvideoPublishedTopic42F971A2/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::SNS::Subscription",
                      "aws:cdk:cloudformation:props": {
                        "endpoint": {
                          "Fn::GetAtt": [
                            "publishEventFeedQueueF16A58E7",
                            "Arn"
                          ]
                        },
                        "protocol": "sqs",
                        "topicArn": {
                          "Ref": "videoPublishedTopic0F33FD9B"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_sns.CfnSubscription",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_sns.Subscription",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_sqs.Queue",
              "version": "2.142.1"
            }
          },
          "sourceUploadProcessingTopic": {
            "id": "sourceUploadProcessingTopic",
            "path": "CloudMoviesStack/sourceUploadProcessingTopic",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/sourceUploadProcessingTopic/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::SNS::Topic",
                  "aws:cdk:cloudformation:props": {}
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_sns.CfnTopic",
                  "version": "2.142.1"
                }
              },
              "vuk.dimitrov@gmail.com": {
                "id": "vuk.dimitrov@gmail.com",
                "path": "CloudMoviesStack/sourceUploadProcessingTopic/vuk.dimitrov@gmail.com",
                "children": {
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/sourceUploadProcessingTopic/vuk.dimitrov@gmail.com/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::SNS::Subscription",
                      "aws:cdk:cloudformation:props": {
                        "endpoint": "vuk.dimitrov@gmail.com",
                        "protocol": "email",
                        "topicArn": {
                          "Ref": "sourceUploadProcessingTopic119D2B2E"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_sns.CfnSubscription",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_sns.Subscription",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_sns.Topic",
              "version": "2.142.1"
            }
          },
          "videoPublishedTopic": {
            "id": "videoPublishedTopic",
            "path": "CloudMoviesStack/videoPublishedTopic",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/videoPublishedTopic/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::SNS::Topic",
                  "aws:cdk:cloudformation:props": {}
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_sns.CfnTopic",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_sns.Topic",
              "version": "2.142.1"
            }
          },
          "registerConfirmationTopic": {
            "id": "registerConfirmationTopic",
            "path": "CloudMoviesStack/registerConfirmationTopic",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/registerConfirmationTopic/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::SNS::Topic",
                  "aws:cdk:cloudformation:props": {}
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_sns.CfnTopic",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_sns.Topic",
              "version": "2.142.1"
            }
          },
          "utils": {
            "id": "utils",
            "path": "CloudMoviesStack/utils",
            "children": {
              "Code": {
                "id": "Code",
                "path": "CloudMoviesStack/utils/Code",
                "children": {
                  "Stage": {
                    "id": "Stage",
                    "path": "CloudMoviesStack/utils/Code/Stage",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.AssetStaging",
                      "version": "2.142.1"
                    }
                  },
                  "AssetBucket": {
                    "id": "AssetBucket",
                    "path": "CloudMoviesStack/utils/Code/AssetBucket",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                  "version": "2.142.1"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/utils/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::LayerVersion",
                  "aws:cdk:cloudformation:props": {
                    "compatibleRuntimes": [
                      "python3.9"
                    ],
                    "content": {
                      "s3Bucket": {
                        "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
                      },
                      "s3Key": "ff73407ef2703512d1a4cfbc11cf5ae586bfe9872d9f84c4efa45903b1639a56.zip"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnLayerVersion",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "@aws-cdk/aws-lambda-python-alpha.PythonLayerVersion",
              "version": "2.142.1-alpha.0"
            }
          },
          "attachRoleLambda": {
            "id": "attachRoleLambda",
            "path": "CloudMoviesStack/attachRoleLambda",
            "children": {
              "ServiceRole": {
                "id": "ServiceRole",
                "path": "CloudMoviesStack/attachRoleLambda/ServiceRole",
                "children": {
                  "ImportServiceRole": {
                    "id": "ImportServiceRole",
                    "path": "CloudMoviesStack/attachRoleLambda/ServiceRole/ImportServiceRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.142.1"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/attachRoleLambda/ServiceRole/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "lambda.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "managedPolicyArns": [
                          {
                            "Fn::Join": [
                              "",
                              [
                                "arn:",
                                {
                                  "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                              ]
                            ]
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.142.1"
                }
              },
              "Code": {
                "id": "Code",
                "path": "CloudMoviesStack/attachRoleLambda/Code",
                "children": {
                  "Stage": {
                    "id": "Stage",
                    "path": "CloudMoviesStack/attachRoleLambda/Code/Stage",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.AssetStaging",
                      "version": "2.142.1"
                    }
                  },
                  "AssetBucket": {
                    "id": "AssetBucket",
                    "path": "CloudMoviesStack/attachRoleLambda/Code/AssetBucket",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                  "version": "2.142.1"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/attachRoleLambda/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                  "aws:cdk:cloudformation:props": {
                    "code": {
                      "s3Bucket": {
                        "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
                      },
                      "s3Key": "2b3a8b1de721ce767d3e420aee639e5a14f18f12cea553a51b94580eb4866a64.zip"
                    },
                    "handler": "attach_role.handler",
                    "memorySize": 128,
                    "role": {
                      "Fn::GetAtt": [
                        "attachRoleLambdaServiceRole58112395",
                        "Arn"
                      ]
                    },
                    "runtime": "python3.9",
                    "timeout": 10
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                  "version": "2.142.1"
                }
              },
              "AllowInvoke:CloudMoviesStackregisterConfirmationTopic946C1E0B": {
                "id": "AllowInvoke:CloudMoviesStackregisterConfirmationTopic946C1E0B",
                "path": "CloudMoviesStack/attachRoleLambda/AllowInvoke:CloudMoviesStackregisterConfirmationTopic946C1E0B",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                  "aws:cdk:cloudformation:props": {
                    "action": "lambda:InvokeFunction",
                    "functionName": {
                      "Fn::GetAtt": [
                        "attachRoleLambda9405B926",
                        "Arn"
                      ]
                    },
                    "principal": "sns.amazonaws.com",
                    "sourceArn": {
                      "Ref": "registerConfirmationTopicEB93F8F5"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                  "version": "2.142.1"
                }
              },
              "registerConfirmationTopic": {
                "id": "registerConfirmationTopic",
                "path": "CloudMoviesStack/attachRoleLambda/registerConfirmationTopic",
                "children": {
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/attachRoleLambda/registerConfirmationTopic/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::SNS::Subscription",
                      "aws:cdk:cloudformation:props": {
                        "endpoint": {
                          "Fn::GetAtt": [
                            "attachRoleLambda9405B926",
                            "Arn"
                          ]
                        },
                        "protocol": "lambda",
                        "topicArn": {
                          "Ref": "registerConfirmationTopicEB93F8F5"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_sns.CfnSubscription",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_sns.Subscription",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_lambda.Function",
              "version": "2.142.1"
            }
          },
          "registrationConfirmationLambda": {
            "id": "registrationConfirmationLambda",
            "path": "CloudMoviesStack/registrationConfirmationLambda",
            "children": {
              "ServiceRole": {
                "id": "ServiceRole",
                "path": "CloudMoviesStack/registrationConfirmationLambda/ServiceRole",
                "children": {
                  "ImportServiceRole": {
                    "id": "ImportServiceRole",
                    "path": "CloudMoviesStack/registrationConfirmationLambda/ServiceRole/ImportServiceRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.142.1"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/registrationConfirmationLambda/ServiceRole/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "lambda.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "managedPolicyArns": [
                          {
                            "Fn::Join": [
                              "",
                              [
                                "arn:",
                                {
                                  "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                              ]
                            ]
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.142.1"
                    }
                  },
                  "DefaultPolicy": {
                    "id": "DefaultPolicy",
                    "path": "CloudMoviesStack/registrationConfirmationLambda/ServiceRole/DefaultPolicy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "CloudMoviesStack/registrationConfirmationLambda/ServiceRole/DefaultPolicy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                          "aws:cdk:cloudformation:props": {
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": "sns:Publish",
                                  "Effect": "Allow",
                                  "Resource": {
                                    "Ref": "registerConfirmationTopicEB93F8F5"
                                  }
                                }
                              ],
                              "Version": "2012-10-17"
                            },
                            "policyName": "registrationConfirmationLambdaServiceRoleDefaultPolicyE4781B37",
                            "roles": [
                              {
                                "Ref": "registrationConfirmationLambdaServiceRoleB93B9679"
                              }
                            ]
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                          "version": "2.142.1"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Policy",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.142.1"
                }
              },
              "Code": {
                "id": "Code",
                "path": "CloudMoviesStack/registrationConfirmationLambda/Code",
                "children": {
                  "Stage": {
                    "id": "Stage",
                    "path": "CloudMoviesStack/registrationConfirmationLambda/Code/Stage",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.AssetStaging",
                      "version": "2.142.1"
                    }
                  },
                  "AssetBucket": {
                    "id": "AssetBucket",
                    "path": "CloudMoviesStack/registrationConfirmationLambda/Code/AssetBucket",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                  "version": "2.142.1"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/registrationConfirmationLambda/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                  "aws:cdk:cloudformation:props": {
                    "code": {
                      "s3Bucket": {
                        "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
                      },
                      "s3Key": "a00665444f4da6f8137c5c47ffdddebff4f098f18f08523bfc0ba228753238b8.zip"
                    },
                    "environment": {
                      "variables": {
                        "REGISTER_CONFIRMATION_TOPIC_ARN": {
                          "Ref": "registerConfirmationTopicEB93F8F5"
                        }
                      }
                    },
                    "handler": "registration_confirmation.handler",
                    "memorySize": 128,
                    "role": {
                      "Fn::GetAtt": [
                        "registrationConfirmationLambdaServiceRoleB93B9679",
                        "Arn"
                      ]
                    },
                    "runtime": "python3.9",
                    "timeout": 10
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_lambda.Function",
              "version": "2.142.1"
            }
          },
          "moviesUserPool": {
            "id": "moviesUserPool",
            "path": "CloudMoviesStack/moviesUserPool",
            "children": {
              "PostConfirmationCognito": {
                "id": "PostConfirmationCognito",
                "path": "CloudMoviesStack/moviesUserPool/PostConfirmationCognito",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                  "aws:cdk:cloudformation:props": {
                    "action": "lambda:InvokeFunction",
                    "functionName": {
                      "Fn::GetAtt": [
                        "registrationConfirmationLambda162FB2A4",
                        "Arn"
                      ]
                    },
                    "principal": "cognito-idp.amazonaws.com",
                    "sourceArn": {
                      "Fn::GetAtt": [
                        "moviesUserPool80190EBD",
                        "Arn"
                      ]
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                  "version": "2.142.1"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/moviesUserPool/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Cognito::UserPool",
                  "aws:cdk:cloudformation:props": {
                    "accountRecoverySetting": {
                      "recoveryMechanisms": [
                        {
                          "name": "verified_phone_number",
                          "priority": 1
                        },
                        {
                          "name": "verified_email",
                          "priority": 2
                        }
                      ]
                    },
                    "adminCreateUserConfig": {
                      "allowAdminCreateUserOnly": false
                    },
                    "aliasAttributes": [
                      "email"
                    ],
                    "autoVerifiedAttributes": [
                      "email"
                    ],
                    "lambdaConfig": {
                      "postConfirmation": {
                        "Fn::GetAtt": [
                          "registrationConfirmationLambda162FB2A4",
                          "Arn"
                        ]
                      }
                    },
                    "schema": [
                      {
                        "name": "birthdate",
                        "mutable": false,
                        "required": true
                      },
                      {
                        "name": "email",
                        "mutable": false,
                        "required": true
                      },
                      {
                        "name": "family_name",
                        "mutable": false,
                        "required": true
                      },
                      {
                        "name": "given_name",
                        "mutable": false,
                        "required": true
                      }
                    ],
                    "smsVerificationMessage": "The verification code to your new account is {####}",
                    "usernameConfiguration": {
                      "caseSensitive": false
                    },
                    "verificationMessageTemplate": {
                      "defaultEmailOption": "CONFIRM_WITH_LINK",
                      "emailMessageByLink": "\n                Thank you for registering with Movies-app. To complete your registration, please verify your email address by clicking {##here##}. \n\n\n                If you did not register for Movies-app, please ignore this email.\n\n\n                Thank you,\n\n                Movies-app Team\n",
                      "emailSubjectByLink": "Verify Your Email Address for movies-app",
                      "smsMessage": "The verification code to your new account is {####}"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_cognito.CfnUserPool",
                  "version": "2.142.1"
                }
              },
              "CognitoDomain": {
                "id": "CognitoDomain",
                "path": "CloudMoviesStack/moviesUserPool/CognitoDomain",
                "children": {
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/moviesUserPool/CognitoDomain/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::Cognito::UserPoolDomain",
                      "aws:cdk:cloudformation:props": {
                        "domain": "movies-app-123456789",
                        "userPoolId": {
                          "Ref": "moviesUserPool80190EBD"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_cognito.CfnUserPoolDomain",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_cognito.UserPoolDomain",
                  "version": "2.142.1"
                }
              },
              "movies-client": {
                "id": "movies-client",
                "path": "CloudMoviesStack/moviesUserPool/movies-client",
                "children": {
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/moviesUserPool/movies-client/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::Cognito::UserPoolClient",
                      "aws:cdk:cloudformation:props": {
                        "allowedOAuthFlows": [
                          "code"
                        ],
                        "allowedOAuthFlowsUserPoolClient": true,
                        "allowedOAuthScopes": [
                          "openid"
                        ],
                        "callbackUrLs": [
                          "https://example.com"
                        ],
                        "explicitAuthFlows": [
                          "ALLOW_USER_PASSWORD_AUTH",
                          "ALLOW_ADMIN_USER_PASSWORD_AUTH",
                          "ALLOW_CUSTOM_AUTH",
                          "ALLOW_USER_SRP_AUTH",
                          "ALLOW_REFRESH_TOKEN_AUTH"
                        ],
                        "generateSecret": false,
                        "supportedIdentityProviders": [
                          "COGNITO"
                        ],
                        "userPoolId": {
                          "Ref": "moviesUserPool80190EBD"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_cognito.CfnUserPoolClient",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_cognito.UserPoolClient",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_cognito.UserPool",
              "version": "2.142.1"
            }
          },
          "UserRole": {
            "id": "UserRole",
            "path": "CloudMoviesStack/UserRole",
            "children": {
              "ImportUserRole": {
                "id": "ImportUserRole",
                "path": "CloudMoviesStack/UserRole/ImportUserRole",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.Resource",
                  "version": "2.142.1"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/UserRole/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                  "aws:cdk:cloudformation:props": {
                    "assumeRolePolicyDocument": {
                      "Statement": [
                        {
                          "Action": "sts:AssumeRole",
                          "Effect": "Allow",
                          "Principal": {
                            "Service": "cognito-idp.amazonaws.com"
                          }
                        }
                      ],
                      "Version": "2012-10-17"
                    },
                    "managedPolicyArns": [
                      {
                        "Fn::Join": [
                          "",
                          [
                            "arn:",
                            {
                              "Ref": "AWS::Partition"
                            },
                            ":iam::aws:policy/ReadOnlyAccess"
                          ]
                        ]
                      }
                    ]
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_iam.Role",
              "version": "2.142.1"
            }
          },
          "AdminRole": {
            "id": "AdminRole",
            "path": "CloudMoviesStack/AdminRole",
            "children": {
              "ImportAdminRole": {
                "id": "ImportAdminRole",
                "path": "CloudMoviesStack/AdminRole/ImportAdminRole",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.Resource",
                  "version": "2.142.1"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/AdminRole/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                  "aws:cdk:cloudformation:props": {
                    "assumeRolePolicyDocument": {
                      "Statement": [
                        {
                          "Action": "sts:AssumeRole",
                          "Effect": "Allow",
                          "Principal": {
                            "Service": "cognito-idp.amazonaws.com"
                          }
                        }
                      ],
                      "Version": "2012-10-17"
                    },
                    "managedPolicyArns": [
                      {
                        "Fn::Join": [
                          "",
                          [
                            "arn:",
                            {
                              "Ref": "AWS::Partition"
                            },
                            ":iam::aws:policy/AdministratorAccess"
                          ]
                        ]
                      }
                    ]
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_iam.Role",
              "version": "2.142.1"
            }
          },
          "UserGroup": {
            "id": "UserGroup",
            "path": "CloudMoviesStack/UserGroup",
            "attributes": {
              "aws:cdk:cloudformation:type": "AWS::Cognito::UserPoolGroup",
              "aws:cdk:cloudformation:props": {
                "groupName": "User",
                "roleArn": {
                  "Fn::GetAtt": [
                    "UserRoleB7C3739B",
                    "Arn"
                  ]
                },
                "userPoolId": {
                  "Ref": "moviesUserPool80190EBD"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_cognito.CfnUserPoolGroup",
              "version": "2.142.1"
            }
          },
          "AdminGroup": {
            "id": "AdminGroup",
            "path": "CloudMoviesStack/AdminGroup",
            "attributes": {
              "aws:cdk:cloudformation:type": "AWS::Cognito::UserPoolGroup",
              "aws:cdk:cloudformation:props": {
                "groupName": "Admin",
                "roleArn": {
                  "Fn::GetAtt": [
                    "AdminRole38563C57",
                    "Arn"
                  ]
                },
                "userPoolId": {
                  "Ref": "moviesUserPool80190EBD"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_cognito.CfnUserPoolGroup",
              "version": "2.142.1"
            }
          },
          "userpool-policy": {
            "id": "userpool-policy",
            "path": "CloudMoviesStack/userpool-policy",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/userpool-policy/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                  "aws:cdk:cloudformation:props": {
                    "policyDocument": {
                      "Statement": [
                        {
                          "Action": "cognito-idp:AdminAddUserToGroup",
                          "Effect": "Allow",
                          "Resource": {
                            "Fn::GetAtt": [
                              "moviesUserPool80190EBD",
                              "Arn"
                            ]
                          }
                        }
                      ],
                      "Version": "2012-10-17"
                    },
                    "policyName": "userpoolpolicy884146CA",
                    "roles": [
                      {
                        "Ref": "attachRoleLambdaServiceRole58112395"
                      }
                    ]
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_iam.Policy",
              "version": "2.142.1"
            }
          },
          "UserPoolId": {
            "id": "UserPoolId",
            "path": "CloudMoviesStack/UserPoolId",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnOutput",
              "version": "2.142.1"
            }
          },
          "UserPoolClientId": {
            "id": "UserPoolClientId",
            "path": "CloudMoviesStack/UserPoolClientId",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnOutput",
              "version": "2.142.1"
            }
          },
          "UserPoolDomain": {
            "id": "UserPoolDomain",
            "path": "CloudMoviesStack/UserPoolDomain",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnOutput",
              "version": "2.142.1"
            }
          },
          "uploadVideoLambda": {
            "id": "uploadVideoLambda",
            "path": "CloudMoviesStack/uploadVideoLambda",
            "children": {
              "ServiceRole": {
                "id": "ServiceRole",
                "path": "CloudMoviesStack/uploadVideoLambda/ServiceRole",
                "children": {
                  "ImportServiceRole": {
                    "id": "ImportServiceRole",
                    "path": "CloudMoviesStack/uploadVideoLambda/ServiceRole/ImportServiceRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.142.1"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/uploadVideoLambda/ServiceRole/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "lambda.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "managedPolicyArns": [
                          {
                            "Fn::Join": [
                              "",
                              [
                                "arn:",
                                {
                                  "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                              ]
                            ]
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.142.1"
                    }
                  },
                  "DefaultPolicy": {
                    "id": "DefaultPolicy",
                    "path": "CloudMoviesStack/uploadVideoLambda/ServiceRole/DefaultPolicy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "CloudMoviesStack/uploadVideoLambda/ServiceRole/DefaultPolicy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                          "aws:cdk:cloudformation:props": {
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": [
                                    "s3:Abort*",
                                    "s3:PutObject",
                                    "s3:PutObjectLegalHold",
                                    "s3:PutObjectRetention",
                                    "s3:PutObjectTagging",
                                    "s3:PutObjectVersionTagging"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": {
                                    "Fn::Join": [
                                      "",
                                      [
                                        {
                                          "Fn::GetAtt": [
                                            "sourceBucket5C83C9D6",
                                            "Arn"
                                          ]
                                        },
                                        "/*"
                                      ]
                                    ]
                                  }
                                }
                              ],
                              "Version": "2012-10-17"
                            },
                            "policyName": "uploadVideoLambdaServiceRoleDefaultPolicy23702A78",
                            "roles": [
                              {
                                "Ref": "uploadVideoLambdaServiceRoleC78E1897"
                              }
                            ]
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                          "version": "2.142.1"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Policy",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.142.1"
                }
              },
              "Code": {
                "id": "Code",
                "path": "CloudMoviesStack/uploadVideoLambda/Code",
                "children": {
                  "Stage": {
                    "id": "Stage",
                    "path": "CloudMoviesStack/uploadVideoLambda/Code/Stage",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.AssetStaging",
                      "version": "2.142.1"
                    }
                  },
                  "AssetBucket": {
                    "id": "AssetBucket",
                    "path": "CloudMoviesStack/uploadVideoLambda/Code/AssetBucket",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                  "version": "2.142.1"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/uploadVideoLambda/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                  "aws:cdk:cloudformation:props": {
                    "code": {
                      "s3Bucket": {
                        "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
                      },
                      "s3Key": "fd6e1e28d7d751ccb4eac2d7f88c6310c47ae3a50dae131104321921184dc95e.zip"
                    },
                    "environment": {
                      "variables": {
                        "SOURCE_BUCKET": {
                          "Ref": "sourceBucket5C83C9D6"
                        }
                      }
                    },
                    "handler": "upload_video.handler",
                    "memorySize": 128,
                    "role": {
                      "Fn::GetAtt": [
                        "uploadVideoLambdaServiceRoleC78E1897",
                        "Arn"
                      ]
                    },
                    "runtime": "python3.9",
                    "timeout": 10
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_lambda.Function",
              "version": "2.142.1"
            }
          },
          "listVideosLambda": {
            "id": "listVideosLambda",
            "path": "CloudMoviesStack/listVideosLambda",
            "children": {
              "ServiceRole": {
                "id": "ServiceRole",
                "path": "CloudMoviesStack/listVideosLambda/ServiceRole",
                "children": {
                  "ImportServiceRole": {
                    "id": "ImportServiceRole",
                    "path": "CloudMoviesStack/listVideosLambda/ServiceRole/ImportServiceRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.142.1"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/listVideosLambda/ServiceRole/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "lambda.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "managedPolicyArns": [
                          {
                            "Fn::Join": [
                              "",
                              [
                                "arn:",
                                {
                                  "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                              ]
                            ]
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.142.1"
                    }
                  },
                  "DefaultPolicy": {
                    "id": "DefaultPolicy",
                    "path": "CloudMoviesStack/listVideosLambda/ServiceRole/DefaultPolicy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "CloudMoviesStack/listVideosLambda/ServiceRole/DefaultPolicy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                          "aws:cdk:cloudformation:props": {
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": [
                                    "dynamodb:BatchGetItem",
                                    "dynamodb:ConditionCheckItem",
                                    "dynamodb:DescribeTable",
                                    "dynamodb:GetItem",
                                    "dynamodb:GetRecords",
                                    "dynamodb:GetShardIterator",
                                    "dynamodb:Query",
                                    "dynamodb:Scan"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "videosTableBCC40D2B",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          {
                                            "Fn::GetAtt": [
                                              "videosTableBCC40D2B",
                                              "Arn"
                                            ]
                                          },
                                          "/index/*"
                                        ]
                                      ]
                                    }
                                  ]
                                }
                              ],
                              "Version": "2012-10-17"
                            },
                            "policyName": "listVideosLambdaServiceRoleDefaultPolicyA01EF08B",
                            "roles": [
                              {
                                "Ref": "listVideosLambdaServiceRole92979127"
                              }
                            ]
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                          "version": "2.142.1"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Policy",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.142.1"
                }
              },
              "Code": {
                "id": "Code",
                "path": "CloudMoviesStack/listVideosLambda/Code",
                "children": {
                  "Stage": {
                    "id": "Stage",
                    "path": "CloudMoviesStack/listVideosLambda/Code/Stage",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.AssetStaging",
                      "version": "2.142.1"
                    }
                  },
                  "AssetBucket": {
                    "id": "AssetBucket",
                    "path": "CloudMoviesStack/listVideosLambda/Code/AssetBucket",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                  "version": "2.142.1"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/listVideosLambda/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                  "aws:cdk:cloudformation:props": {
                    "code": {
                      "s3Bucket": {
                        "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
                      },
                      "s3Key": "12206a1f89e40bbf16b5b47343b89bb891316c3b391e19e31fe811a604547ff3.zip"
                    },
                    "environment": {
                      "variables": {
                        "VIDEOS_TABLE": {
                          "Ref": "videosTableBCC40D2B"
                        }
                      }
                    },
                    "handler": "list_videos.handler",
                    "layers": [
                      {
                        "Ref": "utilsF6FC768D"
                      }
                    ],
                    "memorySize": 128,
                    "role": {
                      "Fn::GetAtt": [
                        "listVideosLambdaServiceRole92979127",
                        "Arn"
                      ]
                    },
                    "runtime": "python3.9",
                    "timeout": 10
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_lambda.Function",
              "version": "2.142.1"
            }
          },
          "getDetailsLambda": {
            "id": "getDetailsLambda",
            "path": "CloudMoviesStack/getDetailsLambda",
            "children": {
              "ServiceRole": {
                "id": "ServiceRole",
                "path": "CloudMoviesStack/getDetailsLambda/ServiceRole",
                "children": {
                  "ImportServiceRole": {
                    "id": "ImportServiceRole",
                    "path": "CloudMoviesStack/getDetailsLambda/ServiceRole/ImportServiceRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.142.1"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/getDetailsLambda/ServiceRole/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "lambda.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "managedPolicyArns": [
                          {
                            "Fn::Join": [
                              "",
                              [
                                "arn:",
                                {
                                  "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                              ]
                            ]
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.142.1"
                    }
                  },
                  "DefaultPolicy": {
                    "id": "DefaultPolicy",
                    "path": "CloudMoviesStack/getDetailsLambda/ServiceRole/DefaultPolicy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "CloudMoviesStack/getDetailsLambda/ServiceRole/DefaultPolicy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                          "aws:cdk:cloudformation:props": {
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": [
                                    "dynamodb:BatchGetItem",
                                    "dynamodb:ConditionCheckItem",
                                    "dynamodb:DescribeTable",
                                    "dynamodb:GetItem",
                                    "dynamodb:GetRecords",
                                    "dynamodb:GetShardIterator",
                                    "dynamodb:Query",
                                    "dynamodb:Scan"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "videosTableBCC40D2B",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          {
                                            "Fn::GetAtt": [
                                              "videosTableBCC40D2B",
                                              "Arn"
                                            ]
                                          },
                                          "/index/*"
                                        ]
                                      ]
                                    }
                                  ]
                                }
                              ],
                              "Version": "2012-10-17"
                            },
                            "policyName": "getDetailsLambdaServiceRoleDefaultPolicy979DDD3B",
                            "roles": [
                              {
                                "Ref": "getDetailsLambdaServiceRoleDF82AAA5"
                              }
                            ]
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                          "version": "2.142.1"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Policy",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.142.1"
                }
              },
              "Code": {
                "id": "Code",
                "path": "CloudMoviesStack/getDetailsLambda/Code",
                "children": {
                  "Stage": {
                    "id": "Stage",
                    "path": "CloudMoviesStack/getDetailsLambda/Code/Stage",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.AssetStaging",
                      "version": "2.142.1"
                    }
                  },
                  "AssetBucket": {
                    "id": "AssetBucket",
                    "path": "CloudMoviesStack/getDetailsLambda/Code/AssetBucket",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                  "version": "2.142.1"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/getDetailsLambda/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                  "aws:cdk:cloudformation:props": {
                    "code": {
                      "s3Bucket": {
                        "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
                      },
                      "s3Key": "be919e4429c7a3a73cad378e546fc21ce5e1e93a8b9074264eaf8b5e2bcb991b.zip"
                    },
                    "environment": {
                      "variables": {
                        "VIDEOS_TABLE": {
                          "Ref": "videosTableBCC40D2B"
                        }
                      }
                    },
                    "handler": "get_details.handler",
                    "layers": [
                      {
                        "Ref": "utilsF6FC768D"
                      }
                    ],
                    "memorySize": 128,
                    "role": {
                      "Fn::GetAtt": [
                        "getDetailsLambdaServiceRoleDF82AAA5",
                        "Arn"
                      ]
                    },
                    "runtime": "python3.9",
                    "timeout": 10
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_lambda.Function",
              "version": "2.142.1"
            }
          },
          "queryVideosLambda": {
            "id": "queryVideosLambda",
            "path": "CloudMoviesStack/queryVideosLambda",
            "children": {
              "ServiceRole": {
                "id": "ServiceRole",
                "path": "CloudMoviesStack/queryVideosLambda/ServiceRole",
                "children": {
                  "ImportServiceRole": {
                    "id": "ImportServiceRole",
                    "path": "CloudMoviesStack/queryVideosLambda/ServiceRole/ImportServiceRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.142.1"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/queryVideosLambda/ServiceRole/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "lambda.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "managedPolicyArns": [
                          {
                            "Fn::Join": [
                              "",
                              [
                                "arn:",
                                {
                                  "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                              ]
                            ]
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.142.1"
                    }
                  },
                  "DefaultPolicy": {
                    "id": "DefaultPolicy",
                    "path": "CloudMoviesStack/queryVideosLambda/ServiceRole/DefaultPolicy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "CloudMoviesStack/queryVideosLambda/ServiceRole/DefaultPolicy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                          "aws:cdk:cloudformation:props": {
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": [
                                    "dynamodb:BatchGetItem",
                                    "dynamodb:ConditionCheckItem",
                                    "dynamodb:DescribeTable",
                                    "dynamodb:GetItem",
                                    "dynamodb:GetRecords",
                                    "dynamodb:GetShardIterator",
                                    "dynamodb:Query",
                                    "dynamodb:Scan"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "videosTableBCC40D2B",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          {
                                            "Fn::GetAtt": [
                                              "videosTableBCC40D2B",
                                              "Arn"
                                            ]
                                          },
                                          "/index/*"
                                        ]
                                      ]
                                    }
                                  ]
                                }
                              ],
                              "Version": "2012-10-17"
                            },
                            "policyName": "queryVideosLambdaServiceRoleDefaultPolicy2D1CE32E",
                            "roles": [
                              {
                                "Ref": "queryVideosLambdaServiceRole0DB98760"
                              }
                            ]
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                          "version": "2.142.1"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Policy",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.142.1"
                }
              },
              "Code": {
                "id": "Code",
                "path": "CloudMoviesStack/queryVideosLambda/Code",
                "children": {
                  "Stage": {
                    "id": "Stage",
                    "path": "CloudMoviesStack/queryVideosLambda/Code/Stage",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.AssetStaging",
                      "version": "2.142.1"
                    }
                  },
                  "AssetBucket": {
                    "id": "AssetBucket",
                    "path": "CloudMoviesStack/queryVideosLambda/Code/AssetBucket",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                  "version": "2.142.1"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/queryVideosLambda/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                  "aws:cdk:cloudformation:props": {
                    "code": {
                      "s3Bucket": {
                        "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
                      },
                      "s3Key": "62b0c6ec6cbc6d44e3a867526dfd1a672305a277451d0a49c86ecfb7a448067d.zip"
                    },
                    "environment": {
                      "variables": {
                        "VIDEOS_TABLE": {
                          "Ref": "videosTableBCC40D2B"
                        }
                      }
                    },
                    "handler": "query_videos.handler",
                    "memorySize": 128,
                    "role": {
                      "Fn::GetAtt": [
                        "queryVideosLambdaServiceRole0DB98760",
                        "Arn"
                      ]
                    },
                    "runtime": "python3.9",
                    "timeout": 10
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_lambda.Function",
              "version": "2.142.1"
            }
          },
          "listSubscriptionsLambda": {
            "id": "listSubscriptionsLambda",
            "path": "CloudMoviesStack/listSubscriptionsLambda",
            "children": {
              "ServiceRole": {
                "id": "ServiceRole",
                "path": "CloudMoviesStack/listSubscriptionsLambda/ServiceRole",
                "children": {
                  "ImportServiceRole": {
                    "id": "ImportServiceRole",
                    "path": "CloudMoviesStack/listSubscriptionsLambda/ServiceRole/ImportServiceRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.142.1"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/listSubscriptionsLambda/ServiceRole/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "lambda.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "managedPolicyArns": [
                          {
                            "Fn::Join": [
                              "",
                              [
                                "arn:",
                                {
                                  "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                              ]
                            ]
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.142.1"
                    }
                  },
                  "DefaultPolicy": {
                    "id": "DefaultPolicy",
                    "path": "CloudMoviesStack/listSubscriptionsLambda/ServiceRole/DefaultPolicy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "CloudMoviesStack/listSubscriptionsLambda/ServiceRole/DefaultPolicy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                          "aws:cdk:cloudformation:props": {
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": [
                                    "dynamodb:BatchGetItem",
                                    "dynamodb:ConditionCheckItem",
                                    "dynamodb:DescribeTable",
                                    "dynamodb:GetItem",
                                    "dynamodb:GetRecords",
                                    "dynamodb:GetShardIterator",
                                    "dynamodb:Query",
                                    "dynamodb:Scan"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "subscriptionsTable99FE4D04",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Ref": "AWS::NoValue"
                                    }
                                  ]
                                }
                              ],
                              "Version": "2012-10-17"
                            },
                            "policyName": "listSubscriptionsLambdaServiceRoleDefaultPolicyD25BC66B",
                            "roles": [
                              {
                                "Ref": "listSubscriptionsLambdaServiceRole5A82C907"
                              }
                            ]
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                          "version": "2.142.1"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Policy",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.142.1"
                }
              },
              "Code": {
                "id": "Code",
                "path": "CloudMoviesStack/listSubscriptionsLambda/Code",
                "children": {
                  "Stage": {
                    "id": "Stage",
                    "path": "CloudMoviesStack/listSubscriptionsLambda/Code/Stage",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.AssetStaging",
                      "version": "2.142.1"
                    }
                  },
                  "AssetBucket": {
                    "id": "AssetBucket",
                    "path": "CloudMoviesStack/listSubscriptionsLambda/Code/AssetBucket",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                  "version": "2.142.1"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/listSubscriptionsLambda/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                  "aws:cdk:cloudformation:props": {
                    "code": {
                      "s3Bucket": {
                        "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
                      },
                      "s3Key": "073bd5bf1882f8c9568e970800bcfdb1912aaa10975697cb63fb1c1ec867331f.zip"
                    },
                    "environment": {
                      "variables": {
                        "SUBSCRIPTIONS_TABLE": {
                          "Ref": "subscriptionsTable99FE4D04"
                        }
                      }
                    },
                    "handler": "list_subscriptions.handler",
                    "layers": [
                      {
                        "Ref": "utilsF6FC768D"
                      }
                    ],
                    "memorySize": 128,
                    "role": {
                      "Fn::GetAtt": [
                        "listSubscriptionsLambdaServiceRole5A82C907",
                        "Arn"
                      ]
                    },
                    "runtime": "python3.9",
                    "timeout": 10
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_lambda.Function",
              "version": "2.142.1"
            }
          },
          "streamVideoLambda": {
            "id": "streamVideoLambda",
            "path": "CloudMoviesStack/streamVideoLambda",
            "children": {
              "ServiceRole": {
                "id": "ServiceRole",
                "path": "CloudMoviesStack/streamVideoLambda/ServiceRole",
                "children": {
                  "ImportServiceRole": {
                    "id": "ImportServiceRole",
                    "path": "CloudMoviesStack/streamVideoLambda/ServiceRole/ImportServiceRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.142.1"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/streamVideoLambda/ServiceRole/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "lambda.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "managedPolicyArns": [
                          {
                            "Fn::Join": [
                              "",
                              [
                                "arn:",
                                {
                                  "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                              ]
                            ]
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.142.1"
                    }
                  },
                  "DefaultPolicy": {
                    "id": "DefaultPolicy",
                    "path": "CloudMoviesStack/streamVideoLambda/ServiceRole/DefaultPolicy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "CloudMoviesStack/streamVideoLambda/ServiceRole/DefaultPolicy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                          "aws:cdk:cloudformation:props": {
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": [
                                    "s3:GetBucket*",
                                    "s3:GetObject*",
                                    "s3:List*"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "publishBucketBD758787",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          {
                                            "Fn::GetAtt": [
                                              "publishBucketBD758787",
                                              "Arn"
                                            ]
                                          },
                                          "/*"
                                        ]
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "Action": [
                                    "dynamodb:BatchGetItem",
                                    "dynamodb:ConditionCheckItem",
                                    "dynamodb:DescribeTable",
                                    "dynamodb:GetItem",
                                    "dynamodb:GetRecords",
                                    "dynamodb:GetShardIterator",
                                    "dynamodb:Query",
                                    "dynamodb:Scan"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "videosTableBCC40D2B",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          {
                                            "Fn::GetAtt": [
                                              "videosTableBCC40D2B",
                                              "Arn"
                                            ]
                                          },
                                          "/index/*"
                                        ]
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "Action": "s3:*",
                                  "Effect": "Allow",
                                  "Resource": {
                                    "Fn::Join": [
                                      "",
                                      [
                                        {
                                          "Fn::GetAtt": [
                                            "publishBucketBD758787",
                                            "Arn"
                                          ]
                                        },
                                        "/*"
                                      ]
                                    ]
                                  }
                                }
                              ],
                              "Version": "2012-10-17"
                            },
                            "policyName": "streamVideoLambdaServiceRoleDefaultPolicyC99D1C9D",
                            "roles": [
                              {
                                "Ref": "streamVideoLambdaServiceRoleAF490CE6"
                              }
                            ]
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                          "version": "2.142.1"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Policy",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.142.1"
                }
              },
              "Code": {
                "id": "Code",
                "path": "CloudMoviesStack/streamVideoLambda/Code",
                "children": {
                  "Stage": {
                    "id": "Stage",
                    "path": "CloudMoviesStack/streamVideoLambda/Code/Stage",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.AssetStaging",
                      "version": "2.142.1"
                    }
                  },
                  "AssetBucket": {
                    "id": "AssetBucket",
                    "path": "CloudMoviesStack/streamVideoLambda/Code/AssetBucket",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                  "version": "2.142.1"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/streamVideoLambda/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                  "aws:cdk:cloudformation:props": {
                    "code": {
                      "s3Bucket": {
                        "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
                      },
                      "s3Key": "9aacd4fe1bea11dbc2b106fba9fc238f53288e9f4ee34cde8ba981ffd1c299eb.zip"
                    },
                    "environment": {
                      "variables": {
                        "PUBLISH_BUCKET": {
                          "Ref": "publishBucketBD758787"
                        },
                        "VIDEOS_TABLE": {
                          "Ref": "videosTableBCC40D2B"
                        }
                      }
                    },
                    "handler": "stream_video.handler",
                    "layers": [
                      {
                        "Ref": "utilsF6FC768D"
                      }
                    ],
                    "memorySize": 128,
                    "role": {
                      "Fn::GetAtt": [
                        "streamVideoLambdaServiceRoleAF490CE6",
                        "Arn"
                      ]
                    },
                    "runtime": "python3.9",
                    "timeout": 10
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_lambda.Function",
              "version": "2.142.1"
            }
          },
          "subscribeLambda": {
            "id": "subscribeLambda",
            "path": "CloudMoviesStack/subscribeLambda",
            "children": {
              "ServiceRole": {
                "id": "ServiceRole",
                "path": "CloudMoviesStack/subscribeLambda/ServiceRole",
                "children": {
                  "ImportServiceRole": {
                    "id": "ImportServiceRole",
                    "path": "CloudMoviesStack/subscribeLambda/ServiceRole/ImportServiceRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.142.1"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/subscribeLambda/ServiceRole/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "lambda.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "managedPolicyArns": [
                          {
                            "Fn::Join": [
                              "",
                              [
                                "arn:",
                                {
                                  "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                              ]
                            ]
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.142.1"
                    }
                  },
                  "DefaultPolicy": {
                    "id": "DefaultPolicy",
                    "path": "CloudMoviesStack/subscribeLambda/ServiceRole/DefaultPolicy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "CloudMoviesStack/subscribeLambda/ServiceRole/DefaultPolicy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                          "aws:cdk:cloudformation:props": {
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": [
                                    "cognito-idp:ListUsers",
                                    "sns:*"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": {
                                    "Fn::GetAtt": [
                                      "moviesUserPool80190EBD",
                                      "Arn"
                                    ]
                                  }
                                },
                                {
                                  "Action": [
                                    "dynamodb:BatchGetItem",
                                    "dynamodb:BatchWriteItem",
                                    "dynamodb:ConditionCheckItem",
                                    "dynamodb:DeleteItem",
                                    "dynamodb:DescribeTable",
                                    "dynamodb:GetItem",
                                    "dynamodb:GetRecords",
                                    "dynamodb:GetShardIterator",
                                    "dynamodb:PutItem",
                                    "dynamodb:Query",
                                    "dynamodb:Scan",
                                    "dynamodb:UpdateItem"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "subscriptionsTable99FE4D04",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Ref": "AWS::NoValue"
                                    }
                                  ]
                                }
                              ],
                              "Version": "2012-10-17"
                            },
                            "policyName": "subscribeLambdaServiceRoleDefaultPolicy768CD973",
                            "roles": [
                              {
                                "Ref": "subscribeLambdaServiceRoleB7F31258"
                              }
                            ]
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                          "version": "2.142.1"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Policy",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.142.1"
                }
              },
              "Code": {
                "id": "Code",
                "path": "CloudMoviesStack/subscribeLambda/Code",
                "children": {
                  "Stage": {
                    "id": "Stage",
                    "path": "CloudMoviesStack/subscribeLambda/Code/Stage",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.AssetStaging",
                      "version": "2.142.1"
                    }
                  },
                  "AssetBucket": {
                    "id": "AssetBucket",
                    "path": "CloudMoviesStack/subscribeLambda/Code/AssetBucket",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                  "version": "2.142.1"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/subscribeLambda/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                  "aws:cdk:cloudformation:props": {
                    "code": {
                      "s3Bucket": {
                        "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
                      },
                      "s3Key": "4a5ebc4ae750fad37d268bede25ecce15555a1f98fd3c1b03d7c55d364843632.zip"
                    },
                    "environment": {
                      "variables": {
                        "SUBSCRIPTIONS_TABLE": {
                          "Ref": "subscriptionsTable99FE4D04"
                        },
                        "USERPOOL_ID": {
                          "Ref": "moviesUserPool80190EBD"
                        }
                      }
                    },
                    "handler": "subscribe.handler",
                    "layers": [
                      {
                        "Ref": "utilsF6FC768D"
                      }
                    ],
                    "memorySize": 128,
                    "role": {
                      "Fn::GetAtt": [
                        "subscribeLambdaServiceRoleB7F31258",
                        "Arn"
                      ]
                    },
                    "runtime": "python3.9",
                    "timeout": 10
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_lambda.Function",
              "version": "2.142.1"
            }
          },
          "unsubscribeLambda": {
            "id": "unsubscribeLambda",
            "path": "CloudMoviesStack/unsubscribeLambda",
            "children": {
              "ServiceRole": {
                "id": "ServiceRole",
                "path": "CloudMoviesStack/unsubscribeLambda/ServiceRole",
                "children": {
                  "ImportServiceRole": {
                    "id": "ImportServiceRole",
                    "path": "CloudMoviesStack/unsubscribeLambda/ServiceRole/ImportServiceRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.142.1"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/unsubscribeLambda/ServiceRole/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "lambda.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "managedPolicyArns": [
                          {
                            "Fn::Join": [
                              "",
                              [
                                "arn:",
                                {
                                  "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                              ]
                            ]
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.142.1"
                    }
                  },
                  "DefaultPolicy": {
                    "id": "DefaultPolicy",
                    "path": "CloudMoviesStack/unsubscribeLambda/ServiceRole/DefaultPolicy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "CloudMoviesStack/unsubscribeLambda/ServiceRole/DefaultPolicy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                          "aws:cdk:cloudformation:props": {
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": [
                                    "cognito-idp:ListUsers",
                                    "sns:*"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": {
                                    "Fn::GetAtt": [
                                      "moviesUserPool80190EBD",
                                      "Arn"
                                    ]
                                  }
                                },
                                {
                                  "Action": [
                                    "dynamodb:BatchGetItem",
                                    "dynamodb:BatchWriteItem",
                                    "dynamodb:ConditionCheckItem",
                                    "dynamodb:DeleteItem",
                                    "dynamodb:DescribeTable",
                                    "dynamodb:GetItem",
                                    "dynamodb:GetRecords",
                                    "dynamodb:GetShardIterator",
                                    "dynamodb:PutItem",
                                    "dynamodb:Query",
                                    "dynamodb:Scan",
                                    "dynamodb:UpdateItem"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "subscriptionsTable99FE4D04",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Ref": "AWS::NoValue"
                                    }
                                  ]
                                }
                              ],
                              "Version": "2012-10-17"
                            },
                            "policyName": "unsubscribeLambdaServiceRoleDefaultPolicyB1977999",
                            "roles": [
                              {
                                "Ref": "unsubscribeLambdaServiceRoleC0968C63"
                              }
                            ]
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                          "version": "2.142.1"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Policy",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.142.1"
                }
              },
              "Code": {
                "id": "Code",
                "path": "CloudMoviesStack/unsubscribeLambda/Code",
                "children": {
                  "Stage": {
                    "id": "Stage",
                    "path": "CloudMoviesStack/unsubscribeLambda/Code/Stage",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.AssetStaging",
                      "version": "2.142.1"
                    }
                  },
                  "AssetBucket": {
                    "id": "AssetBucket",
                    "path": "CloudMoviesStack/unsubscribeLambda/Code/AssetBucket",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                  "version": "2.142.1"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/unsubscribeLambda/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                  "aws:cdk:cloudformation:props": {
                    "code": {
                      "s3Bucket": {
                        "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
                      },
                      "s3Key": "fcb1db1b8bc71bd25782781a00e39660f41ab76d77e50f1f8984f02469c5fd0e.zip"
                    },
                    "environment": {
                      "variables": {
                        "SUBSCRIPTIONS_TABLE": {
                          "Ref": "subscriptionsTable99FE4D04"
                        },
                        "USERPOOL_ID": {
                          "Ref": "moviesUserPool80190EBD"
                        }
                      }
                    },
                    "handler": "unsubscribe.handler",
                    "layers": [
                      {
                        "Ref": "utilsF6FC768D"
                      }
                    ],
                    "memorySize": 128,
                    "role": {
                      "Fn::GetAtt": [
                        "unsubscribeLambdaServiceRoleC0968C63",
                        "Arn"
                      ]
                    },
                    "runtime": "python3.9",
                    "timeout": 10
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_lambda.Function",
              "version": "2.142.1"
            }
          },
          "rateContentLambda": {
            "id": "rateContentLambda",
            "path": "CloudMoviesStack/rateContentLambda",
            "children": {
              "ServiceRole": {
                "id": "ServiceRole",
                "path": "CloudMoviesStack/rateContentLambda/ServiceRole",
                "children": {
                  "ImportServiceRole": {
                    "id": "ImportServiceRole",
                    "path": "CloudMoviesStack/rateContentLambda/ServiceRole/ImportServiceRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.142.1"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/rateContentLambda/ServiceRole/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "lambda.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "managedPolicyArns": [
                          {
                            "Fn::Join": [
                              "",
                              [
                                "arn:",
                                {
                                  "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                              ]
                            ]
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.142.1"
                    }
                  },
                  "DefaultPolicy": {
                    "id": "DefaultPolicy",
                    "path": "CloudMoviesStack/rateContentLambda/ServiceRole/DefaultPolicy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "CloudMoviesStack/rateContentLambda/ServiceRole/DefaultPolicy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                          "aws:cdk:cloudformation:props": {
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": [
                                    "dynamodb:BatchGetItem",
                                    "dynamodb:BatchWriteItem",
                                    "dynamodb:ConditionCheckItem",
                                    "dynamodb:DeleteItem",
                                    "dynamodb:DescribeTable",
                                    "dynamodb:GetItem",
                                    "dynamodb:GetRecords",
                                    "dynamodb:GetShardIterator",
                                    "dynamodb:PutItem",
                                    "dynamodb:Query",
                                    "dynamodb:Scan",
                                    "dynamodb:UpdateItem"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "ratingTable2AEECFA5",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Ref": "AWS::NoValue"
                                    }
                                  ]
                                }
                              ],
                              "Version": "2012-10-17"
                            },
                            "policyName": "rateContentLambdaServiceRoleDefaultPolicyD43DE2F1",
                            "roles": [
                              {
                                "Ref": "rateContentLambdaServiceRole6EE1E4B5"
                              }
                            ]
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                          "version": "2.142.1"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Policy",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.142.1"
                }
              },
              "Code": {
                "id": "Code",
                "path": "CloudMoviesStack/rateContentLambda/Code",
                "children": {
                  "Stage": {
                    "id": "Stage",
                    "path": "CloudMoviesStack/rateContentLambda/Code/Stage",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.AssetStaging",
                      "version": "2.142.1"
                    }
                  },
                  "AssetBucket": {
                    "id": "AssetBucket",
                    "path": "CloudMoviesStack/rateContentLambda/Code/AssetBucket",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                  "version": "2.142.1"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/rateContentLambda/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                  "aws:cdk:cloudformation:props": {
                    "code": {
                      "s3Bucket": {
                        "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
                      },
                      "s3Key": "15c160a36aad223d224bca71d70698d3d84554e3797d54cfc43fea83e21e586b.zip"
                    },
                    "environment": {
                      "variables": {
                        "RATINGS_TABLE": {
                          "Ref": "ratingTable2AEECFA5"
                        }
                      }
                    },
                    "handler": "rate_content.handler",
                    "layers": [
                      {
                        "Ref": "utilsF6FC768D"
                      }
                    ],
                    "memorySize": 128,
                    "role": {
                      "Fn::GetAtt": [
                        "rateContentLambdaServiceRole6EE1E4B5",
                        "Arn"
                      ]
                    },
                    "runtime": "python3.9",
                    "timeout": 10
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_lambda.Function",
              "version": "2.142.1"
            }
          },
          "authorizerLambda": {
            "id": "authorizerLambda",
            "path": "CloudMoviesStack/authorizerLambda",
            "children": {
              "ServiceRole": {
                "id": "ServiceRole",
                "path": "CloudMoviesStack/authorizerLambda/ServiceRole",
                "children": {
                  "ImportServiceRole": {
                    "id": "ImportServiceRole",
                    "path": "CloudMoviesStack/authorizerLambda/ServiceRole/ImportServiceRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.142.1"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/authorizerLambda/ServiceRole/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "lambda.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "managedPolicyArns": [
                          {
                            "Fn::Join": [
                              "",
                              [
                                "arn:",
                                {
                                  "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                              ]
                            ]
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.142.1"
                }
              },
              "Code": {
                "id": "Code",
                "path": "CloudMoviesStack/authorizerLambda/Code",
                "children": {
                  "Stage": {
                    "id": "Stage",
                    "path": "CloudMoviesStack/authorizerLambda/Code/Stage",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.AssetStaging",
                      "version": "2.142.1"
                    }
                  },
                  "AssetBucket": {
                    "id": "AssetBucket",
                    "path": "CloudMoviesStack/authorizerLambda/Code/AssetBucket",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                  "version": "2.142.1"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/authorizerLambda/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                  "aws:cdk:cloudformation:props": {
                    "code": {
                      "s3Bucket": {
                        "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
                      },
                      "s3Key": "ac2c7130f51e29417729b4a40344d88312e91ae9050fa9cb20a536ba3fbe5161.zip"
                    },
                    "environment": {
                      "variables": {
                        "REGION": {
                          "Ref": "AWS::Region"
                        },
                        "USER_POOL_ID": {
                          "Ref": "moviesUserPool80190EBD"
                        },
                        "COGNITO_CLIENT_ID": {
                          "Ref": "moviesUserPoolmoviesclientBBEF7921"
                        }
                      }
                    },
                    "handler": "authorizer.handler",
                    "memorySize": 128,
                    "role": {
                      "Fn::GetAtt": [
                        "authorizerLambdaServiceRoleE6424CF1",
                        "Arn"
                      ]
                    },
                    "runtime": "python3.9",
                    "timeout": 10
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                  "version": "2.142.1"
                }
              },
              "CloudMoviesStackCustomAuthorizer014FF649:Permissions": {
                "id": "CloudMoviesStackCustomAuthorizer014FF649:Permissions",
                "path": "CloudMoviesStack/authorizerLambda/CloudMoviesStackCustomAuthorizer014FF649:Permissions",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                  "aws:cdk:cloudformation:props": {
                    "action": "lambda:InvokeFunction",
                    "functionName": {
                      "Fn::GetAtt": [
                        "authorizerLambda867A4044",
                        "Arn"
                      ]
                    },
                    "principal": "apigateway.amazonaws.com",
                    "sourceArn": {
                      "Fn::Join": [
                        "",
                        [
                          "arn:",
                          {
                            "Ref": "AWS::Partition"
                          },
                          ":execute-api:",
                          {
                            "Ref": "AWS::Region"
                          },
                          ":",
                          {
                            "Ref": "AWS::AccountId"
                          },
                          ":",
                          {
                            "Ref": "moviesApi63300285"
                          },
                          "/authorizers/",
                          {
                            "Ref": "CustomAuthorizerC8102921"
                          }
                        ]
                      ]
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_lambda.Function",
              "version": "2.142.1"
            }
          },
          "CustomAuthorizer": {
            "id": "CustomAuthorizer",
            "path": "CloudMoviesStack/CustomAuthorizer",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/CustomAuthorizer/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::ApiGateway::Authorizer",
                  "aws:cdk:cloudformation:props": {
                    "authorizerResultTtlInSeconds": 0,
                    "authorizerUri": {
                      "Fn::Join": [
                        "",
                        [
                          "arn:",
                          {
                            "Fn::Select": [
                              1,
                              {
                                "Fn::Split": [
                                  ":",
                                  {
                                    "Fn::GetAtt": [
                                      "authorizerLambda867A4044",
                                      "Arn"
                                    ]
                                  }
                                ]
                              }
                            ]
                          },
                          ":apigateway:",
                          {
                            "Fn::Select": [
                              3,
                              {
                                "Fn::Split": [
                                  ":",
                                  {
                                    "Fn::GetAtt": [
                                      "authorizerLambda867A4044",
                                      "Arn"
                                    ]
                                  }
                                ]
                              }
                            ]
                          },
                          ":lambda:path/2015-03-31/functions/",
                          {
                            "Fn::GetAtt": [
                              "authorizerLambda867A4044",
                              "Arn"
                            ]
                          },
                          "/invocations"
                        ]
                      ]
                    },
                    "identitySource": "method.request.header.Authorization",
                    "name": "CloudMoviesStackCustomAuthorizer014FF649",
                    "restApiId": {
                      "Ref": "moviesApi63300285"
                    },
                    "type": "TOKEN"
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_apigateway.CfnAuthorizer",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_apigateway.TokenAuthorizer",
              "version": "2.142.1"
            }
          },
          "moviesApi": {
            "id": "moviesApi",
            "path": "CloudMoviesStack/moviesApi",
            "children": {
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/moviesApi/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::ApiGateway::RestApi",
                  "aws:cdk:cloudformation:props": {
                    "name": "moviesApi"
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_apigateway.CfnRestApi",
                  "version": "2.142.1"
                }
              },
              "Deployment": {
                "id": "Deployment",
                "path": "CloudMoviesStack/moviesApi/Deployment",
                "children": {
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/moviesApi/Deployment/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::ApiGateway::Deployment",
                      "aws:cdk:cloudformation:props": {
                        "description": "Automatically created by the RestApi construct",
                        "restApiId": {
                          "Ref": "moviesApi63300285"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_apigateway.CfnDeployment",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_apigateway.Deployment",
                  "version": "2.142.1"
                }
              },
              "DeploymentStage.prod": {
                "id": "DeploymentStage.prod",
                "path": "CloudMoviesStack/moviesApi/DeploymentStage.prod",
                "children": {
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/moviesApi/DeploymentStage.prod/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::ApiGateway::Stage",
                      "aws:cdk:cloudformation:props": {
                        "deploymentId": {
                          "Ref": "moviesApiDeployment2C689B8Cfdd83208b66299a3b7bc17aba2257e86"
                        },
                        "restApiId": {
                          "Ref": "moviesApi63300285"
                        },
                        "stageName": "prod"
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_apigateway.CfnStage",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_apigateway.Stage",
                  "version": "2.142.1"
                }
              },
              "Endpoint": {
                "id": "Endpoint",
                "path": "CloudMoviesStack/moviesApi/Endpoint",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.CfnOutput",
                  "version": "2.142.1"
                }
              },
              "Default": {
                "id": "Default",
                "path": "CloudMoviesStack/moviesApi/Default",
                "children": {
                  "OPTIONS": {
                    "id": "OPTIONS",
                    "path": "CloudMoviesStack/moviesApi/Default/OPTIONS",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "CloudMoviesStack/moviesApi/Default/OPTIONS/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                          "aws:cdk:cloudformation:props": {
                            "apiKeyRequired": false,
                            "authorizationType": "NONE",
                            "httpMethod": "OPTIONS",
                            "integration": {
                              "type": "MOCK",
                              "requestTemplates": {
                                "application/json": "{ statusCode: 200 }"
                              },
                              "integrationResponses": [
                                {
                                  "statusCode": "204",
                                  "responseParameters": {
                                    "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                                    "method.response.header.Access-Control-Allow-Origin": "'*'",
                                    "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
                                  }
                                }
                              ]
                            },
                            "methodResponses": [
                              {
                                "statusCode": "204",
                                "responseParameters": {
                                  "method.response.header.Access-Control-Allow-Headers": true,
                                  "method.response.header.Access-Control-Allow-Origin": true,
                                  "method.response.header.Access-Control-Allow-Methods": true
                                }
                              }
                            ],
                            "resourceId": {
                              "Fn::GetAtt": [
                                "moviesApi63300285",
                                "RootResourceId"
                              ]
                            },
                            "restApiId": {
                              "Ref": "moviesApi63300285"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                          "version": "2.142.1"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_apigateway.Method",
                      "version": "2.142.1"
                    }
                  },
                  "content": {
                    "id": "content",
                    "path": "CloudMoviesStack/moviesApi/Default/content",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "CloudMoviesStack/moviesApi/Default/content/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::ApiGateway::Resource",
                          "aws:cdk:cloudformation:props": {
                            "parentId": {
                              "Fn::GetAtt": [
                                "moviesApi63300285",
                                "RootResourceId"
                              ]
                            },
                            "pathPart": "content",
                            "restApiId": {
                              "Ref": "moviesApi63300285"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_apigateway.CfnResource",
                          "version": "2.142.1"
                        }
                      },
                      "OPTIONS": {
                        "id": "OPTIONS",
                        "path": "CloudMoviesStack/moviesApi/Default/content/OPTIONS",
                        "children": {
                          "Resource": {
                            "id": "Resource",
                            "path": "CloudMoviesStack/moviesApi/Default/content/OPTIONS/Resource",
                            "attributes": {
                              "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                              "aws:cdk:cloudformation:props": {
                                "apiKeyRequired": false,
                                "authorizationType": "NONE",
                                "httpMethod": "OPTIONS",
                                "integration": {
                                  "type": "MOCK",
                                  "requestTemplates": {
                                    "application/json": "{ statusCode: 200 }"
                                  },
                                  "integrationResponses": [
                                    {
                                      "statusCode": "204",
                                      "responseParameters": {
                                        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                                        "method.response.header.Access-Control-Allow-Origin": "'*'",
                                        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
                                      }
                                    }
                                  ]
                                },
                                "methodResponses": [
                                  {
                                    "statusCode": "204",
                                    "responseParameters": {
                                      "method.response.header.Access-Control-Allow-Headers": true,
                                      "method.response.header.Access-Control-Allow-Origin": true,
                                      "method.response.header.Access-Control-Allow-Methods": true
                                    }
                                  }
                                ],
                                "resourceId": {
                                  "Ref": "moviesApicontentFB0723DA"
                                },
                                "restApiId": {
                                  "Ref": "moviesApi63300285"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                              "version": "2.142.1"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_apigateway.Method",
                          "version": "2.142.1"
                        }
                      },
                      "GET": {
                        "id": "GET",
                        "path": "CloudMoviesStack/moviesApi/Default/content/GET",
                        "children": {
                          "ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.GET..content": {
                            "id": "ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.GET..content",
                            "path": "CloudMoviesStack/moviesApi/Default/content/GET/ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.GET..content",
                            "attributes": {
                              "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                              "aws:cdk:cloudformation:props": {
                                "action": "lambda:InvokeFunction",
                                "functionName": {
                                  "Fn::GetAtt": [
                                    "listVideosLambdaF00A0031",
                                    "Arn"
                                  ]
                                },
                                "principal": "apigateway.amazonaws.com",
                                "sourceArn": {
                                  "Fn::Join": [
                                    "",
                                    [
                                      "arn:",
                                      {
                                        "Ref": "AWS::Partition"
                                      },
                                      ":execute-api:",
                                      {
                                        "Ref": "AWS::Region"
                                      },
                                      ":",
                                      {
                                        "Ref": "AWS::AccountId"
                                      },
                                      ":",
                                      {
                                        "Ref": "moviesApi63300285"
                                      },
                                      "/",
                                      {
                                        "Ref": "moviesApiDeploymentStageprod986CD890"
                                      },
                                      "/GET/content"
                                    ]
                                  ]
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                              "version": "2.142.1"
                            }
                          },
                          "ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.GET..content": {
                            "id": "ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.GET..content",
                            "path": "CloudMoviesStack/moviesApi/Default/content/GET/ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.GET..content",
                            "attributes": {
                              "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                              "aws:cdk:cloudformation:props": {
                                "action": "lambda:InvokeFunction",
                                "functionName": {
                                  "Fn::GetAtt": [
                                    "listVideosLambdaF00A0031",
                                    "Arn"
                                  ]
                                },
                                "principal": "apigateway.amazonaws.com",
                                "sourceArn": {
                                  "Fn::Join": [
                                    "",
                                    [
                                      "arn:",
                                      {
                                        "Ref": "AWS::Partition"
                                      },
                                      ":execute-api:",
                                      {
                                        "Ref": "AWS::Region"
                                      },
                                      ":",
                                      {
                                        "Ref": "AWS::AccountId"
                                      },
                                      ":",
                                      {
                                        "Ref": "moviesApi63300285"
                                      },
                                      "/test-invoke-stage/GET/content"
                                    ]
                                  ]
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                              "version": "2.142.1"
                            }
                          },
                          "Resource": {
                            "id": "Resource",
                            "path": "CloudMoviesStack/moviesApi/Default/content/GET/Resource",
                            "attributes": {
                              "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                              "aws:cdk:cloudformation:props": {
                                "authorizationType": "CUSTOM",
                                "authorizerId": {
                                  "Ref": "CustomAuthorizerC8102921"
                                },
                                "httpMethod": "GET",
                                "integration": {
                                  "type": "AWS_PROXY",
                                  "uri": {
                                    "Fn::Join": [
                                      "",
                                      [
                                        "arn:",
                                        {
                                          "Ref": "AWS::Partition"
                                        },
                                        ":apigateway:",
                                        {
                                          "Ref": "AWS::Region"
                                        },
                                        ":lambda:path/2015-03-31/functions/",
                                        {
                                          "Fn::GetAtt": [
                                            "listVideosLambdaF00A0031",
                                            "Arn"
                                          ]
                                        },
                                        "/invocations"
                                      ]
                                    ]
                                  },
                                  "integrationHttpMethod": "POST"
                                },
                                "resourceId": {
                                  "Ref": "moviesApicontentFB0723DA"
                                },
                                "restApiId": {
                                  "Ref": "moviesApi63300285"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                              "version": "2.142.1"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_apigateway.Method",
                          "version": "2.142.1"
                        }
                      },
                      "{videoId}": {
                        "id": "{videoId}",
                        "path": "CloudMoviesStack/moviesApi/Default/content/{videoId}",
                        "children": {
                          "Resource": {
                            "id": "Resource",
                            "path": "CloudMoviesStack/moviesApi/Default/content/{videoId}/Resource",
                            "attributes": {
                              "aws:cdk:cloudformation:type": "AWS::ApiGateway::Resource",
                              "aws:cdk:cloudformation:props": {
                                "parentId": {
                                  "Ref": "moviesApicontentFB0723DA"
                                },
                                "pathPart": "{videoId}",
                                "restApiId": {
                                  "Ref": "moviesApi63300285"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.CfnResource",
                              "version": "2.142.1"
                            }
                          },
                          "OPTIONS": {
                            "id": "OPTIONS",
                            "path": "CloudMoviesStack/moviesApi/Default/content/{videoId}/OPTIONS",
                            "children": {
                              "Resource": {
                                "id": "Resource",
                                "path": "CloudMoviesStack/moviesApi/Default/content/{videoId}/OPTIONS/Resource",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                                  "aws:cdk:cloudformation:props": {
                                    "apiKeyRequired": false,
                                    "authorizationType": "NONE",
                                    "httpMethod": "OPTIONS",
                                    "integration": {
                                      "type": "MOCK",
                                      "requestTemplates": {
                                        "application/json": "{ statusCode: 200 }"
                                      },
                                      "integrationResponses": [
                                        {
                                          "statusCode": "204",
                                          "responseParameters": {
                                            "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                                            "method.response.header.Access-Control-Allow-Origin": "'*'",
                                            "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
                                          }
                                        }
                                      ]
                                    },
                                    "methodResponses": [
                                      {
                                        "statusCode": "204",
                                        "responseParameters": {
                                          "method.response.header.Access-Control-Allow-Headers": true,
                                          "method.response.header.Access-Control-Allow-Origin": true,
                                          "method.response.header.Access-Control-Allow-Methods": true
                                        }
                                      }
                                    ],
                                    "resourceId": {
                                      "Ref": "moviesApicontentvideoIdEB6344FD"
                                    },
                                    "restApiId": {
                                      "Ref": "moviesApi63300285"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                                  "version": "2.142.1"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.Method",
                              "version": "2.142.1"
                            }
                          },
                          "GET": {
                            "id": "GET",
                            "path": "CloudMoviesStack/moviesApi/Default/content/{videoId}/GET",
                            "children": {
                              "ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.GET..content.{videoId}": {
                                "id": "ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.GET..content.{videoId}",
                                "path": "CloudMoviesStack/moviesApi/Default/content/{videoId}/GET/ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.GET..content.{videoId}",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                                  "aws:cdk:cloudformation:props": {
                                    "action": "lambda:InvokeFunction",
                                    "functionName": {
                                      "Fn::GetAtt": [
                                        "getDetailsLambdaD62CE019",
                                        "Arn"
                                      ]
                                    },
                                    "principal": "apigateway.amazonaws.com",
                                    "sourceArn": {
                                      "Fn::Join": [
                                        "",
                                        [
                                          "arn:",
                                          {
                                            "Ref": "AWS::Partition"
                                          },
                                          ":execute-api:",
                                          {
                                            "Ref": "AWS::Region"
                                          },
                                          ":",
                                          {
                                            "Ref": "AWS::AccountId"
                                          },
                                          ":",
                                          {
                                            "Ref": "moviesApi63300285"
                                          },
                                          "/",
                                          {
                                            "Ref": "moviesApiDeploymentStageprod986CD890"
                                          },
                                          "/GET/content/*"
                                        ]
                                      ]
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                                  "version": "2.142.1"
                                }
                              },
                              "ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.GET..content.{videoId}": {
                                "id": "ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.GET..content.{videoId}",
                                "path": "CloudMoviesStack/moviesApi/Default/content/{videoId}/GET/ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.GET..content.{videoId}",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                                  "aws:cdk:cloudformation:props": {
                                    "action": "lambda:InvokeFunction",
                                    "functionName": {
                                      "Fn::GetAtt": [
                                        "getDetailsLambdaD62CE019",
                                        "Arn"
                                      ]
                                    },
                                    "principal": "apigateway.amazonaws.com",
                                    "sourceArn": {
                                      "Fn::Join": [
                                        "",
                                        [
                                          "arn:",
                                          {
                                            "Ref": "AWS::Partition"
                                          },
                                          ":execute-api:",
                                          {
                                            "Ref": "AWS::Region"
                                          },
                                          ":",
                                          {
                                            "Ref": "AWS::AccountId"
                                          },
                                          ":",
                                          {
                                            "Ref": "moviesApi63300285"
                                          },
                                          "/test-invoke-stage/GET/content/*"
                                        ]
                                      ]
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                                  "version": "2.142.1"
                                }
                              },
                              "Resource": {
                                "id": "Resource",
                                "path": "CloudMoviesStack/moviesApi/Default/content/{videoId}/GET/Resource",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                                  "aws:cdk:cloudformation:props": {
                                    "authorizationType": "CUSTOM",
                                    "authorizerId": {
                                      "Ref": "CustomAuthorizerC8102921"
                                    },
                                    "httpMethod": "GET",
                                    "integration": {
                                      "type": "AWS_PROXY",
                                      "uri": {
                                        "Fn::Join": [
                                          "",
                                          [
                                            "arn:",
                                            {
                                              "Ref": "AWS::Partition"
                                            },
                                            ":apigateway:",
                                            {
                                              "Ref": "AWS::Region"
                                            },
                                            ":lambda:path/2015-03-31/functions/",
                                            {
                                              "Fn::GetAtt": [
                                                "getDetailsLambdaD62CE019",
                                                "Arn"
                                              ]
                                            },
                                            "/invocations"
                                          ]
                                        ]
                                      },
                                      "integrationHttpMethod": "POST"
                                    },
                                    "resourceId": {
                                      "Ref": "moviesApicontentvideoIdEB6344FD"
                                    },
                                    "restApiId": {
                                      "Ref": "moviesApi63300285"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                                  "version": "2.142.1"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.Method",
                              "version": "2.142.1"
                            }
                          },
                          "PUT": {
                            "id": "PUT",
                            "path": "CloudMoviesStack/moviesApi/Default/content/{videoId}/PUT",
                            "children": {
                              "ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.PUT..content.{videoId}": {
                                "id": "ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.PUT..content.{videoId}",
                                "path": "CloudMoviesStack/moviesApi/Default/content/{videoId}/PUT/ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.PUT..content.{videoId}",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                                  "aws:cdk:cloudformation:props": {
                                    "action": "lambda:InvokeFunction",
                                    "functionName": {
                                      "Fn::GetAtt": [
                                        "editDetailsLambda56648A07",
                                        "Arn"
                                      ]
                                    },
                                    "principal": "apigateway.amazonaws.com",
                                    "sourceArn": {
                                      "Fn::Join": [
                                        "",
                                        [
                                          "arn:",
                                          {
                                            "Ref": "AWS::Partition"
                                          },
                                          ":execute-api:",
                                          {
                                            "Ref": "AWS::Region"
                                          },
                                          ":",
                                          {
                                            "Ref": "AWS::AccountId"
                                          },
                                          ":",
                                          {
                                            "Ref": "moviesApi63300285"
                                          },
                                          "/",
                                          {
                                            "Ref": "moviesApiDeploymentStageprod986CD890"
                                          },
                                          "/PUT/content/*"
                                        ]
                                      ]
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                                  "version": "2.142.1"
                                }
                              },
                              "ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.PUT..content.{videoId}": {
                                "id": "ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.PUT..content.{videoId}",
                                "path": "CloudMoviesStack/moviesApi/Default/content/{videoId}/PUT/ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.PUT..content.{videoId}",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                                  "aws:cdk:cloudformation:props": {
                                    "action": "lambda:InvokeFunction",
                                    "functionName": {
                                      "Fn::GetAtt": [
                                        "editDetailsLambda56648A07",
                                        "Arn"
                                      ]
                                    },
                                    "principal": "apigateway.amazonaws.com",
                                    "sourceArn": {
                                      "Fn::Join": [
                                        "",
                                        [
                                          "arn:",
                                          {
                                            "Ref": "AWS::Partition"
                                          },
                                          ":execute-api:",
                                          {
                                            "Ref": "AWS::Region"
                                          },
                                          ":",
                                          {
                                            "Ref": "AWS::AccountId"
                                          },
                                          ":",
                                          {
                                            "Ref": "moviesApi63300285"
                                          },
                                          "/test-invoke-stage/PUT/content/*"
                                        ]
                                      ]
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                                  "version": "2.142.1"
                                }
                              },
                              "Resource": {
                                "id": "Resource",
                                "path": "CloudMoviesStack/moviesApi/Default/content/{videoId}/PUT/Resource",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                                  "aws:cdk:cloudformation:props": {
                                    "authorizationType": "CUSTOM",
                                    "authorizerId": {
                                      "Ref": "CustomAuthorizerC8102921"
                                    },
                                    "httpMethod": "PUT",
                                    "integration": {
                                      "type": "AWS_PROXY",
                                      "uri": {
                                        "Fn::Join": [
                                          "",
                                          [
                                            "arn:",
                                            {
                                              "Ref": "AWS::Partition"
                                            },
                                            ":apigateway:",
                                            {
                                              "Ref": "AWS::Region"
                                            },
                                            ":lambda:path/2015-03-31/functions/",
                                            {
                                              "Fn::GetAtt": [
                                                "editDetailsLambda56648A07",
                                                "Arn"
                                              ]
                                            },
                                            "/invocations"
                                          ]
                                        ]
                                      },
                                      "integrationHttpMethod": "POST"
                                    },
                                    "resourceId": {
                                      "Ref": "moviesApicontentvideoIdEB6344FD"
                                    },
                                    "restApiId": {
                                      "Ref": "moviesApi63300285"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                                  "version": "2.142.1"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.Method",
                              "version": "2.142.1"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_apigateway.Resource",
                          "version": "2.142.1"
                        }
                      },
                      "feed": {
                        "id": "feed",
                        "path": "CloudMoviesStack/moviesApi/Default/content/feed",
                        "children": {
                          "Resource": {
                            "id": "Resource",
                            "path": "CloudMoviesStack/moviesApi/Default/content/feed/Resource",
                            "attributes": {
                              "aws:cdk:cloudformation:type": "AWS::ApiGateway::Resource",
                              "aws:cdk:cloudformation:props": {
                                "parentId": {
                                  "Ref": "moviesApicontentFB0723DA"
                                },
                                "pathPart": "feed",
                                "restApiId": {
                                  "Ref": "moviesApi63300285"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.CfnResource",
                              "version": "2.142.1"
                            }
                          },
                          "OPTIONS": {
                            "id": "OPTIONS",
                            "path": "CloudMoviesStack/moviesApi/Default/content/feed/OPTIONS",
                            "children": {
                              "Resource": {
                                "id": "Resource",
                                "path": "CloudMoviesStack/moviesApi/Default/content/feed/OPTIONS/Resource",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                                  "aws:cdk:cloudformation:props": {
                                    "apiKeyRequired": false,
                                    "authorizationType": "NONE",
                                    "httpMethod": "OPTIONS",
                                    "integration": {
                                      "type": "MOCK",
                                      "requestTemplates": {
                                        "application/json": "{ statusCode: 200 }"
                                      },
                                      "integrationResponses": [
                                        {
                                          "statusCode": "204",
                                          "responseParameters": {
                                            "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                                            "method.response.header.Access-Control-Allow-Origin": "'*'",
                                            "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
                                          }
                                        }
                                      ]
                                    },
                                    "methodResponses": [
                                      {
                                        "statusCode": "204",
                                        "responseParameters": {
                                          "method.response.header.Access-Control-Allow-Headers": true,
                                          "method.response.header.Access-Control-Allow-Origin": true,
                                          "method.response.header.Access-Control-Allow-Methods": true
                                        }
                                      }
                                    ],
                                    "resourceId": {
                                      "Ref": "moviesApicontentfeedA21E8C27"
                                    },
                                    "restApiId": {
                                      "Ref": "moviesApi63300285"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                                  "version": "2.142.1"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.Method",
                              "version": "2.142.1"
                            }
                          },
                          "{userId}": {
                            "id": "{userId}",
                            "path": "CloudMoviesStack/moviesApi/Default/content/feed/{userId}",
                            "children": {
                              "Resource": {
                                "id": "Resource",
                                "path": "CloudMoviesStack/moviesApi/Default/content/feed/{userId}/Resource",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::ApiGateway::Resource",
                                  "aws:cdk:cloudformation:props": {
                                    "parentId": {
                                      "Ref": "moviesApicontentfeedA21E8C27"
                                    },
                                    "pathPart": "{userId}",
                                    "restApiId": {
                                      "Ref": "moviesApi63300285"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_apigateway.CfnResource",
                                  "version": "2.142.1"
                                }
                              },
                              "OPTIONS": {
                                "id": "OPTIONS",
                                "path": "CloudMoviesStack/moviesApi/Default/content/feed/{userId}/OPTIONS",
                                "children": {
                                  "Resource": {
                                    "id": "Resource",
                                    "path": "CloudMoviesStack/moviesApi/Default/content/feed/{userId}/OPTIONS/Resource",
                                    "attributes": {
                                      "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                                      "aws:cdk:cloudformation:props": {
                                        "apiKeyRequired": false,
                                        "authorizationType": "NONE",
                                        "httpMethod": "OPTIONS",
                                        "integration": {
                                          "type": "MOCK",
                                          "requestTemplates": {
                                            "application/json": "{ statusCode: 200 }"
                                          },
                                          "integrationResponses": [
                                            {
                                              "statusCode": "204",
                                              "responseParameters": {
                                                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                                                "method.response.header.Access-Control-Allow-Origin": "'*'",
                                                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
                                              }
                                            }
                                          ]
                                        },
                                        "methodResponses": [
                                          {
                                            "statusCode": "204",
                                            "responseParameters": {
                                              "method.response.header.Access-Control-Allow-Headers": true,
                                              "method.response.header.Access-Control-Allow-Origin": true,
                                              "method.response.header.Access-Control-Allow-Methods": true
                                            }
                                          }
                                        ],
                                        "resourceId": {
                                          "Ref": "moviesApicontentfeeduserIdF81C250F"
                                        },
                                        "restApiId": {
                                          "Ref": "moviesApi63300285"
                                        }
                                      }
                                    },
                                    "constructInfo": {
                                      "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                                      "version": "2.142.1"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_apigateway.Method",
                                  "version": "2.142.1"
                                }
                              },
                              "GET": {
                                "id": "GET",
                                "path": "CloudMoviesStack/moviesApi/Default/content/feed/{userId}/GET",
                                "children": {
                                  "ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.GET..content.feed.{userId}": {
                                    "id": "ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.GET..content.feed.{userId}",
                                    "path": "CloudMoviesStack/moviesApi/Default/content/feed/{userId}/GET/ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.GET..content.feed.{userId}",
                                    "attributes": {
                                      "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                                      "aws:cdk:cloudformation:props": {
                                        "action": "lambda:InvokeFunction",
                                        "functionName": {
                                          "Fn::GetAtt": [
                                            "getFeedLambdaB4EE3C95",
                                            "Arn"
                                          ]
                                        },
                                        "principal": "apigateway.amazonaws.com",
                                        "sourceArn": {
                                          "Fn::Join": [
                                            "",
                                            [
                                              "arn:",
                                              {
                                                "Ref": "AWS::Partition"
                                              },
                                              ":execute-api:",
                                              {
                                                "Ref": "AWS::Region"
                                              },
                                              ":",
                                              {
                                                "Ref": "AWS::AccountId"
                                              },
                                              ":",
                                              {
                                                "Ref": "moviesApi63300285"
                                              },
                                              "/",
                                              {
                                                "Ref": "moviesApiDeploymentStageprod986CD890"
                                              },
                                              "/GET/content/feed/*"
                                            ]
                                          ]
                                        }
                                      }
                                    },
                                    "constructInfo": {
                                      "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                                      "version": "2.142.1"
                                    }
                                  },
                                  "ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.GET..content.feed.{userId}": {
                                    "id": "ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.GET..content.feed.{userId}",
                                    "path": "CloudMoviesStack/moviesApi/Default/content/feed/{userId}/GET/ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.GET..content.feed.{userId}",
                                    "attributes": {
                                      "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                                      "aws:cdk:cloudformation:props": {
                                        "action": "lambda:InvokeFunction",
                                        "functionName": {
                                          "Fn::GetAtt": [
                                            "getFeedLambdaB4EE3C95",
                                            "Arn"
                                          ]
                                        },
                                        "principal": "apigateway.amazonaws.com",
                                        "sourceArn": {
                                          "Fn::Join": [
                                            "",
                                            [
                                              "arn:",
                                              {
                                                "Ref": "AWS::Partition"
                                              },
                                              ":execute-api:",
                                              {
                                                "Ref": "AWS::Region"
                                              },
                                              ":",
                                              {
                                                "Ref": "AWS::AccountId"
                                              },
                                              ":",
                                              {
                                                "Ref": "moviesApi63300285"
                                              },
                                              "/test-invoke-stage/GET/content/feed/*"
                                            ]
                                          ]
                                        }
                                      }
                                    },
                                    "constructInfo": {
                                      "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                                      "version": "2.142.1"
                                    }
                                  },
                                  "Resource": {
                                    "id": "Resource",
                                    "path": "CloudMoviesStack/moviesApi/Default/content/feed/{userId}/GET/Resource",
                                    "attributes": {
                                      "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                                      "aws:cdk:cloudformation:props": {
                                        "authorizationType": "CUSTOM",
                                        "authorizerId": {
                                          "Ref": "CustomAuthorizerC8102921"
                                        },
                                        "httpMethod": "GET",
                                        "integration": {
                                          "type": "AWS_PROXY",
                                          "uri": {
                                            "Fn::Join": [
                                              "",
                                              [
                                                "arn:",
                                                {
                                                  "Ref": "AWS::Partition"
                                                },
                                                ":apigateway:",
                                                {
                                                  "Ref": "AWS::Region"
                                                },
                                                ":lambda:path/2015-03-31/functions/",
                                                {
                                                  "Fn::GetAtt": [
                                                    "getFeedLambdaB4EE3C95",
                                                    "Arn"
                                                  ]
                                                },
                                                "/invocations"
                                              ]
                                            ]
                                          },
                                          "integrationHttpMethod": "POST"
                                        },
                                        "resourceId": {
                                          "Ref": "moviesApicontentfeeduserIdF81C250F"
                                        },
                                        "restApiId": {
                                          "Ref": "moviesApi63300285"
                                        }
                                      }
                                    },
                                    "constructInfo": {
                                      "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                                      "version": "2.142.1"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_apigateway.Method",
                                  "version": "2.142.1"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.Resource",
                              "version": "2.142.1"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_apigateway.Resource",
                          "version": "2.142.1"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_apigateway.Resource",
                      "version": "2.142.1"
                    }
                  },
                  "video": {
                    "id": "video",
                    "path": "CloudMoviesStack/moviesApi/Default/video",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "CloudMoviesStack/moviesApi/Default/video/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::ApiGateway::Resource",
                          "aws:cdk:cloudformation:props": {
                            "parentId": {
                              "Fn::GetAtt": [
                                "moviesApi63300285",
                                "RootResourceId"
                              ]
                            },
                            "pathPart": "video",
                            "restApiId": {
                              "Ref": "moviesApi63300285"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_apigateway.CfnResource",
                          "version": "2.142.1"
                        }
                      },
                      "OPTIONS": {
                        "id": "OPTIONS",
                        "path": "CloudMoviesStack/moviesApi/Default/video/OPTIONS",
                        "children": {
                          "Resource": {
                            "id": "Resource",
                            "path": "CloudMoviesStack/moviesApi/Default/video/OPTIONS/Resource",
                            "attributes": {
                              "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                              "aws:cdk:cloudformation:props": {
                                "apiKeyRequired": false,
                                "authorizationType": "NONE",
                                "httpMethod": "OPTIONS",
                                "integration": {
                                  "type": "MOCK",
                                  "requestTemplates": {
                                    "application/json": "{ statusCode: 200 }"
                                  },
                                  "integrationResponses": [
                                    {
                                      "statusCode": "204",
                                      "responseParameters": {
                                        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                                        "method.response.header.Access-Control-Allow-Origin": "'*'",
                                        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
                                      }
                                    }
                                  ]
                                },
                                "methodResponses": [
                                  {
                                    "statusCode": "204",
                                    "responseParameters": {
                                      "method.response.header.Access-Control-Allow-Headers": true,
                                      "method.response.header.Access-Control-Allow-Origin": true,
                                      "method.response.header.Access-Control-Allow-Methods": true
                                    }
                                  }
                                ],
                                "resourceId": {
                                  "Ref": "moviesApivideo4B32D44F"
                                },
                                "restApiId": {
                                  "Ref": "moviesApi63300285"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                              "version": "2.142.1"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_apigateway.Method",
                          "version": "2.142.1"
                        }
                      },
                      "query": {
                        "id": "query",
                        "path": "CloudMoviesStack/moviesApi/Default/video/query",
                        "children": {
                          "Resource": {
                            "id": "Resource",
                            "path": "CloudMoviesStack/moviesApi/Default/video/query/Resource",
                            "attributes": {
                              "aws:cdk:cloudformation:type": "AWS::ApiGateway::Resource",
                              "aws:cdk:cloudformation:props": {
                                "parentId": {
                                  "Ref": "moviesApivideo4B32D44F"
                                },
                                "pathPart": "query",
                                "restApiId": {
                                  "Ref": "moviesApi63300285"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.CfnResource",
                              "version": "2.142.1"
                            }
                          },
                          "OPTIONS": {
                            "id": "OPTIONS",
                            "path": "CloudMoviesStack/moviesApi/Default/video/query/OPTIONS",
                            "children": {
                              "Resource": {
                                "id": "Resource",
                                "path": "CloudMoviesStack/moviesApi/Default/video/query/OPTIONS/Resource",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                                  "aws:cdk:cloudformation:props": {
                                    "apiKeyRequired": false,
                                    "authorizationType": "NONE",
                                    "httpMethod": "OPTIONS",
                                    "integration": {
                                      "type": "MOCK",
                                      "requestTemplates": {
                                        "application/json": "{ statusCode: 200 }"
                                      },
                                      "integrationResponses": [
                                        {
                                          "statusCode": "204",
                                          "responseParameters": {
                                            "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                                            "method.response.header.Access-Control-Allow-Origin": "'*'",
                                            "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
                                          }
                                        }
                                      ]
                                    },
                                    "methodResponses": [
                                      {
                                        "statusCode": "204",
                                        "responseParameters": {
                                          "method.response.header.Access-Control-Allow-Headers": true,
                                          "method.response.header.Access-Control-Allow-Origin": true,
                                          "method.response.header.Access-Control-Allow-Methods": true
                                        }
                                      }
                                    ],
                                    "resourceId": {
                                      "Ref": "moviesApivideoquery940AF055"
                                    },
                                    "restApiId": {
                                      "Ref": "moviesApi63300285"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                                  "version": "2.142.1"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.Method",
                              "version": "2.142.1"
                            }
                          },
                          "{query}": {
                            "id": "{query}",
                            "path": "CloudMoviesStack/moviesApi/Default/video/query/{query}",
                            "children": {
                              "Resource": {
                                "id": "Resource",
                                "path": "CloudMoviesStack/moviesApi/Default/video/query/{query}/Resource",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::ApiGateway::Resource",
                                  "aws:cdk:cloudformation:props": {
                                    "parentId": {
                                      "Ref": "moviesApivideoquery940AF055"
                                    },
                                    "pathPart": "{query}",
                                    "restApiId": {
                                      "Ref": "moviesApi63300285"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_apigateway.CfnResource",
                                  "version": "2.142.1"
                                }
                              },
                              "OPTIONS": {
                                "id": "OPTIONS",
                                "path": "CloudMoviesStack/moviesApi/Default/video/query/{query}/OPTIONS",
                                "children": {
                                  "Resource": {
                                    "id": "Resource",
                                    "path": "CloudMoviesStack/moviesApi/Default/video/query/{query}/OPTIONS/Resource",
                                    "attributes": {
                                      "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                                      "aws:cdk:cloudformation:props": {
                                        "apiKeyRequired": false,
                                        "authorizationType": "NONE",
                                        "httpMethod": "OPTIONS",
                                        "integration": {
                                          "type": "MOCK",
                                          "requestTemplates": {
                                            "application/json": "{ statusCode: 200 }"
                                          },
                                          "integrationResponses": [
                                            {
                                              "statusCode": "204",
                                              "responseParameters": {
                                                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                                                "method.response.header.Access-Control-Allow-Origin": "'*'",
                                                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
                                              }
                                            }
                                          ]
                                        },
                                        "methodResponses": [
                                          {
                                            "statusCode": "204",
                                            "responseParameters": {
                                              "method.response.header.Access-Control-Allow-Headers": true,
                                              "method.response.header.Access-Control-Allow-Origin": true,
                                              "method.response.header.Access-Control-Allow-Methods": true
                                            }
                                          }
                                        ],
                                        "resourceId": {
                                          "Ref": "moviesApivideoqueryquery639BAB39"
                                        },
                                        "restApiId": {
                                          "Ref": "moviesApi63300285"
                                        }
                                      }
                                    },
                                    "constructInfo": {
                                      "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                                      "version": "2.142.1"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_apigateway.Method",
                                  "version": "2.142.1"
                                }
                              },
                              "GET": {
                                "id": "GET",
                                "path": "CloudMoviesStack/moviesApi/Default/video/query/{query}/GET",
                                "children": {
                                  "ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.GET..video.query.{query}": {
                                    "id": "ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.GET..video.query.{query}",
                                    "path": "CloudMoviesStack/moviesApi/Default/video/query/{query}/GET/ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.GET..video.query.{query}",
                                    "attributes": {
                                      "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                                      "aws:cdk:cloudformation:props": {
                                        "action": "lambda:InvokeFunction",
                                        "functionName": {
                                          "Fn::GetAtt": [
                                            "queryVideosLambda2A429330",
                                            "Arn"
                                          ]
                                        },
                                        "principal": "apigateway.amazonaws.com",
                                        "sourceArn": {
                                          "Fn::Join": [
                                            "",
                                            [
                                              "arn:",
                                              {
                                                "Ref": "AWS::Partition"
                                              },
                                              ":execute-api:",
                                              {
                                                "Ref": "AWS::Region"
                                              },
                                              ":",
                                              {
                                                "Ref": "AWS::AccountId"
                                              },
                                              ":",
                                              {
                                                "Ref": "moviesApi63300285"
                                              },
                                              "/",
                                              {
                                                "Ref": "moviesApiDeploymentStageprod986CD890"
                                              },
                                              "/GET/video/query/*"
                                            ]
                                          ]
                                        }
                                      }
                                    },
                                    "constructInfo": {
                                      "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                                      "version": "2.142.1"
                                    }
                                  },
                                  "ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.GET..video.query.{query}": {
                                    "id": "ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.GET..video.query.{query}",
                                    "path": "CloudMoviesStack/moviesApi/Default/video/query/{query}/GET/ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.GET..video.query.{query}",
                                    "attributes": {
                                      "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                                      "aws:cdk:cloudformation:props": {
                                        "action": "lambda:InvokeFunction",
                                        "functionName": {
                                          "Fn::GetAtt": [
                                            "queryVideosLambda2A429330",
                                            "Arn"
                                          ]
                                        },
                                        "principal": "apigateway.amazonaws.com",
                                        "sourceArn": {
                                          "Fn::Join": [
                                            "",
                                            [
                                              "arn:",
                                              {
                                                "Ref": "AWS::Partition"
                                              },
                                              ":execute-api:",
                                              {
                                                "Ref": "AWS::Region"
                                              },
                                              ":",
                                              {
                                                "Ref": "AWS::AccountId"
                                              },
                                              ":",
                                              {
                                                "Ref": "moviesApi63300285"
                                              },
                                              "/test-invoke-stage/GET/video/query/*"
                                            ]
                                          ]
                                        }
                                      }
                                    },
                                    "constructInfo": {
                                      "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                                      "version": "2.142.1"
                                    }
                                  },
                                  "Resource": {
                                    "id": "Resource",
                                    "path": "CloudMoviesStack/moviesApi/Default/video/query/{query}/GET/Resource",
                                    "attributes": {
                                      "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                                      "aws:cdk:cloudformation:props": {
                                        "authorizationType": "CUSTOM",
                                        "authorizerId": {
                                          "Ref": "CustomAuthorizerC8102921"
                                        },
                                        "httpMethod": "GET",
                                        "integration": {
                                          "type": "AWS_PROXY",
                                          "uri": {
                                            "Fn::Join": [
                                              "",
                                              [
                                                "arn:",
                                                {
                                                  "Ref": "AWS::Partition"
                                                },
                                                ":apigateway:",
                                                {
                                                  "Ref": "AWS::Region"
                                                },
                                                ":lambda:path/2015-03-31/functions/",
                                                {
                                                  "Fn::GetAtt": [
                                                    "queryVideosLambda2A429330",
                                                    "Arn"
                                                  ]
                                                },
                                                "/invocations"
                                              ]
                                            ]
                                          },
                                          "integrationHttpMethod": "POST"
                                        },
                                        "resourceId": {
                                          "Ref": "moviesApivideoqueryquery639BAB39"
                                        },
                                        "restApiId": {
                                          "Ref": "moviesApi63300285"
                                        }
                                      }
                                    },
                                    "constructInfo": {
                                      "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                                      "version": "2.142.1"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_apigateway.Method",
                                  "version": "2.142.1"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.Resource",
                              "version": "2.142.1"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_apigateway.Resource",
                          "version": "2.142.1"
                        }
                      },
                      "{videoId}": {
                        "id": "{videoId}",
                        "path": "CloudMoviesStack/moviesApi/Default/video/{videoId}",
                        "children": {
                          "Resource": {
                            "id": "Resource",
                            "path": "CloudMoviesStack/moviesApi/Default/video/{videoId}/Resource",
                            "attributes": {
                              "aws:cdk:cloudformation:type": "AWS::ApiGateway::Resource",
                              "aws:cdk:cloudformation:props": {
                                "parentId": {
                                  "Ref": "moviesApivideo4B32D44F"
                                },
                                "pathPart": "{videoId}",
                                "restApiId": {
                                  "Ref": "moviesApi63300285"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.CfnResource",
                              "version": "2.142.1"
                            }
                          },
                          "OPTIONS": {
                            "id": "OPTIONS",
                            "path": "CloudMoviesStack/moviesApi/Default/video/{videoId}/OPTIONS",
                            "children": {
                              "Resource": {
                                "id": "Resource",
                                "path": "CloudMoviesStack/moviesApi/Default/video/{videoId}/OPTIONS/Resource",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                                  "aws:cdk:cloudformation:props": {
                                    "apiKeyRequired": false,
                                    "authorizationType": "NONE",
                                    "httpMethod": "OPTIONS",
                                    "integration": {
                                      "type": "MOCK",
                                      "requestTemplates": {
                                        "application/json": "{ statusCode: 200 }"
                                      },
                                      "integrationResponses": [
                                        {
                                          "statusCode": "204",
                                          "responseParameters": {
                                            "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                                            "method.response.header.Access-Control-Allow-Origin": "'*'",
                                            "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
                                          }
                                        }
                                      ]
                                    },
                                    "methodResponses": [
                                      {
                                        "statusCode": "204",
                                        "responseParameters": {
                                          "method.response.header.Access-Control-Allow-Headers": true,
                                          "method.response.header.Access-Control-Allow-Origin": true,
                                          "method.response.header.Access-Control-Allow-Methods": true
                                        }
                                      }
                                    ],
                                    "resourceId": {
                                      "Ref": "moviesApivideovideoId4A6DD8E6"
                                    },
                                    "restApiId": {
                                      "Ref": "moviesApi63300285"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                                  "version": "2.142.1"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.Method",
                              "version": "2.142.1"
                            }
                          },
                          "{resolution}": {
                            "id": "{resolution}",
                            "path": "CloudMoviesStack/moviesApi/Default/video/{videoId}/{resolution}",
                            "children": {
                              "Resource": {
                                "id": "Resource",
                                "path": "CloudMoviesStack/moviesApi/Default/video/{videoId}/{resolution}/Resource",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::ApiGateway::Resource",
                                  "aws:cdk:cloudformation:props": {
                                    "parentId": {
                                      "Ref": "moviesApivideovideoId4A6DD8E6"
                                    },
                                    "pathPart": "{resolution}",
                                    "restApiId": {
                                      "Ref": "moviesApi63300285"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_apigateway.CfnResource",
                                  "version": "2.142.1"
                                }
                              },
                              "OPTIONS": {
                                "id": "OPTIONS",
                                "path": "CloudMoviesStack/moviesApi/Default/video/{videoId}/{resolution}/OPTIONS",
                                "children": {
                                  "Resource": {
                                    "id": "Resource",
                                    "path": "CloudMoviesStack/moviesApi/Default/video/{videoId}/{resolution}/OPTIONS/Resource",
                                    "attributes": {
                                      "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                                      "aws:cdk:cloudformation:props": {
                                        "apiKeyRequired": false,
                                        "authorizationType": "NONE",
                                        "httpMethod": "OPTIONS",
                                        "integration": {
                                          "type": "MOCK",
                                          "requestTemplates": {
                                            "application/json": "{ statusCode: 200 }"
                                          },
                                          "integrationResponses": [
                                            {
                                              "statusCode": "204",
                                              "responseParameters": {
                                                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                                                "method.response.header.Access-Control-Allow-Origin": "'*'",
                                                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
                                              }
                                            }
                                          ]
                                        },
                                        "methodResponses": [
                                          {
                                            "statusCode": "204",
                                            "responseParameters": {
                                              "method.response.header.Access-Control-Allow-Headers": true,
                                              "method.response.header.Access-Control-Allow-Origin": true,
                                              "method.response.header.Access-Control-Allow-Methods": true
                                            }
                                          }
                                        ],
                                        "resourceId": {
                                          "Ref": "moviesApivideovideoIdresolutionDE703279"
                                        },
                                        "restApiId": {
                                          "Ref": "moviesApi63300285"
                                        }
                                      }
                                    },
                                    "constructInfo": {
                                      "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                                      "version": "2.142.1"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_apigateway.Method",
                                  "version": "2.142.1"
                                }
                              },
                              "GET": {
                                "id": "GET",
                                "path": "CloudMoviesStack/moviesApi/Default/video/{videoId}/{resolution}/GET",
                                "children": {
                                  "ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.GET..video.{videoId}.{resolution}": {
                                    "id": "ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.GET..video.{videoId}.{resolution}",
                                    "path": "CloudMoviesStack/moviesApi/Default/video/{videoId}/{resolution}/GET/ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.GET..video.{videoId}.{resolution}",
                                    "attributes": {
                                      "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                                      "aws:cdk:cloudformation:props": {
                                        "action": "lambda:InvokeFunction",
                                        "functionName": {
                                          "Fn::GetAtt": [
                                            "streamVideoLambda51A0F66D",
                                            "Arn"
                                          ]
                                        },
                                        "principal": "apigateway.amazonaws.com",
                                        "sourceArn": {
                                          "Fn::Join": [
                                            "",
                                            [
                                              "arn:",
                                              {
                                                "Ref": "AWS::Partition"
                                              },
                                              ":execute-api:",
                                              {
                                                "Ref": "AWS::Region"
                                              },
                                              ":",
                                              {
                                                "Ref": "AWS::AccountId"
                                              },
                                              ":",
                                              {
                                                "Ref": "moviesApi63300285"
                                              },
                                              "/",
                                              {
                                                "Ref": "moviesApiDeploymentStageprod986CD890"
                                              },
                                              "/GET/video/*/*"
                                            ]
                                          ]
                                        }
                                      }
                                    },
                                    "constructInfo": {
                                      "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                                      "version": "2.142.1"
                                    }
                                  },
                                  "ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.GET..video.{videoId}.{resolution}": {
                                    "id": "ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.GET..video.{videoId}.{resolution}",
                                    "path": "CloudMoviesStack/moviesApi/Default/video/{videoId}/{resolution}/GET/ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.GET..video.{videoId}.{resolution}",
                                    "attributes": {
                                      "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                                      "aws:cdk:cloudformation:props": {
                                        "action": "lambda:InvokeFunction",
                                        "functionName": {
                                          "Fn::GetAtt": [
                                            "streamVideoLambda51A0F66D",
                                            "Arn"
                                          ]
                                        },
                                        "principal": "apigateway.amazonaws.com",
                                        "sourceArn": {
                                          "Fn::Join": [
                                            "",
                                            [
                                              "arn:",
                                              {
                                                "Ref": "AWS::Partition"
                                              },
                                              ":execute-api:",
                                              {
                                                "Ref": "AWS::Region"
                                              },
                                              ":",
                                              {
                                                "Ref": "AWS::AccountId"
                                              },
                                              ":",
                                              {
                                                "Ref": "moviesApi63300285"
                                              },
                                              "/test-invoke-stage/GET/video/*/*"
                                            ]
                                          ]
                                        }
                                      }
                                    },
                                    "constructInfo": {
                                      "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                                      "version": "2.142.1"
                                    }
                                  },
                                  "Resource": {
                                    "id": "Resource",
                                    "path": "CloudMoviesStack/moviesApi/Default/video/{videoId}/{resolution}/GET/Resource",
                                    "attributes": {
                                      "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                                      "aws:cdk:cloudformation:props": {
                                        "authorizationType": "CUSTOM",
                                        "authorizerId": {
                                          "Ref": "CustomAuthorizerC8102921"
                                        },
                                        "httpMethod": "GET",
                                        "integration": {
                                          "type": "AWS_PROXY",
                                          "uri": {
                                            "Fn::Join": [
                                              "",
                                              [
                                                "arn:",
                                                {
                                                  "Ref": "AWS::Partition"
                                                },
                                                ":apigateway:",
                                                {
                                                  "Ref": "AWS::Region"
                                                },
                                                ":lambda:path/2015-03-31/functions/",
                                                {
                                                  "Fn::GetAtt": [
                                                    "streamVideoLambda51A0F66D",
                                                    "Arn"
                                                  ]
                                                },
                                                "/invocations"
                                              ]
                                            ]
                                          },
                                          "integrationHttpMethod": "POST"
                                        },
                                        "resourceId": {
                                          "Ref": "moviesApivideovideoIdresolutionDE703279"
                                        },
                                        "restApiId": {
                                          "Ref": "moviesApi63300285"
                                        }
                                      }
                                    },
                                    "constructInfo": {
                                      "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                                      "version": "2.142.1"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_apigateway.Method",
                                  "version": "2.142.1"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.Resource",
                              "version": "2.142.1"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_apigateway.Resource",
                          "version": "2.142.1"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_apigateway.Resource",
                      "version": "2.142.1"
                    }
                  },
                  "movie": {
                    "id": "movie",
                    "path": "CloudMoviesStack/moviesApi/Default/movie",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "CloudMoviesStack/moviesApi/Default/movie/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::ApiGateway::Resource",
                          "aws:cdk:cloudformation:props": {
                            "parentId": {
                              "Fn::GetAtt": [
                                "moviesApi63300285",
                                "RootResourceId"
                              ]
                            },
                            "pathPart": "movie",
                            "restApiId": {
                              "Ref": "moviesApi63300285"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_apigateway.CfnResource",
                          "version": "2.142.1"
                        }
                      },
                      "OPTIONS": {
                        "id": "OPTIONS",
                        "path": "CloudMoviesStack/moviesApi/Default/movie/OPTIONS",
                        "children": {
                          "Resource": {
                            "id": "Resource",
                            "path": "CloudMoviesStack/moviesApi/Default/movie/OPTIONS/Resource",
                            "attributes": {
                              "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                              "aws:cdk:cloudformation:props": {
                                "apiKeyRequired": false,
                                "authorizationType": "NONE",
                                "httpMethod": "OPTIONS",
                                "integration": {
                                  "type": "MOCK",
                                  "requestTemplates": {
                                    "application/json": "{ statusCode: 200 }"
                                  },
                                  "integrationResponses": [
                                    {
                                      "statusCode": "204",
                                      "responseParameters": {
                                        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                                        "method.response.header.Access-Control-Allow-Origin": "'*'",
                                        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
                                      }
                                    }
                                  ]
                                },
                                "methodResponses": [
                                  {
                                    "statusCode": "204",
                                    "responseParameters": {
                                      "method.response.header.Access-Control-Allow-Headers": true,
                                      "method.response.header.Access-Control-Allow-Origin": true,
                                      "method.response.header.Access-Control-Allow-Methods": true
                                    }
                                  }
                                ],
                                "resourceId": {
                                  "Ref": "moviesApimovieB0D0B90A"
                                },
                                "restApiId": {
                                  "Ref": "moviesApi63300285"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                              "version": "2.142.1"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_apigateway.Method",
                          "version": "2.142.1"
                        }
                      },
                      "{movieId}": {
                        "id": "{movieId}",
                        "path": "CloudMoviesStack/moviesApi/Default/movie/{movieId}",
                        "children": {
                          "Resource": {
                            "id": "Resource",
                            "path": "CloudMoviesStack/moviesApi/Default/movie/{movieId}/Resource",
                            "attributes": {
                              "aws:cdk:cloudformation:type": "AWS::ApiGateway::Resource",
                              "aws:cdk:cloudformation:props": {
                                "parentId": {
                                  "Ref": "moviesApimovieB0D0B90A"
                                },
                                "pathPart": "{movieId}",
                                "restApiId": {
                                  "Ref": "moviesApi63300285"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.CfnResource",
                              "version": "2.142.1"
                            }
                          },
                          "OPTIONS": {
                            "id": "OPTIONS",
                            "path": "CloudMoviesStack/moviesApi/Default/movie/{movieId}/OPTIONS",
                            "children": {
                              "Resource": {
                                "id": "Resource",
                                "path": "CloudMoviesStack/moviesApi/Default/movie/{movieId}/OPTIONS/Resource",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                                  "aws:cdk:cloudformation:props": {
                                    "apiKeyRequired": false,
                                    "authorizationType": "NONE",
                                    "httpMethod": "OPTIONS",
                                    "integration": {
                                      "type": "MOCK",
                                      "requestTemplates": {
                                        "application/json": "{ statusCode: 200 }"
                                      },
                                      "integrationResponses": [
                                        {
                                          "statusCode": "204",
                                          "responseParameters": {
                                            "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                                            "method.response.header.Access-Control-Allow-Origin": "'*'",
                                            "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
                                          }
                                        }
                                      ]
                                    },
                                    "methodResponses": [
                                      {
                                        "statusCode": "204",
                                        "responseParameters": {
                                          "method.response.header.Access-Control-Allow-Headers": true,
                                          "method.response.header.Access-Control-Allow-Origin": true,
                                          "method.response.header.Access-Control-Allow-Methods": true
                                        }
                                      }
                                    ],
                                    "resourceId": {
                                      "Ref": "moviesApimoviemovieId8EABDBED"
                                    },
                                    "restApiId": {
                                      "Ref": "moviesApi63300285"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                                  "version": "2.142.1"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.Method",
                              "version": "2.142.1"
                            }
                          },
                          "DELETE": {
                            "id": "DELETE",
                            "path": "CloudMoviesStack/moviesApi/Default/movie/{movieId}/DELETE",
                            "children": {
                              "ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.DELETE..movie.{movieId}": {
                                "id": "ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.DELETE..movie.{movieId}",
                                "path": "CloudMoviesStack/moviesApi/Default/movie/{movieId}/DELETE/ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.DELETE..movie.{movieId}",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                                  "aws:cdk:cloudformation:props": {
                                    "action": "lambda:InvokeFunction",
                                    "functionName": {
                                      "Fn::GetAtt": [
                                        "deleteMovieLambda63D1CEAD",
                                        "Arn"
                                      ]
                                    },
                                    "principal": "apigateway.amazonaws.com",
                                    "sourceArn": {
                                      "Fn::Join": [
                                        "",
                                        [
                                          "arn:",
                                          {
                                            "Ref": "AWS::Partition"
                                          },
                                          ":execute-api:",
                                          {
                                            "Ref": "AWS::Region"
                                          },
                                          ":",
                                          {
                                            "Ref": "AWS::AccountId"
                                          },
                                          ":",
                                          {
                                            "Ref": "moviesApi63300285"
                                          },
                                          "/",
                                          {
                                            "Ref": "moviesApiDeploymentStageprod986CD890"
                                          },
                                          "/DELETE/movie/*"
                                        ]
                                      ]
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                                  "version": "2.142.1"
                                }
                              },
                              "ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.DELETE..movie.{movieId}": {
                                "id": "ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.DELETE..movie.{movieId}",
                                "path": "CloudMoviesStack/moviesApi/Default/movie/{movieId}/DELETE/ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.DELETE..movie.{movieId}",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                                  "aws:cdk:cloudformation:props": {
                                    "action": "lambda:InvokeFunction",
                                    "functionName": {
                                      "Fn::GetAtt": [
                                        "deleteMovieLambda63D1CEAD",
                                        "Arn"
                                      ]
                                    },
                                    "principal": "apigateway.amazonaws.com",
                                    "sourceArn": {
                                      "Fn::Join": [
                                        "",
                                        [
                                          "arn:",
                                          {
                                            "Ref": "AWS::Partition"
                                          },
                                          ":execute-api:",
                                          {
                                            "Ref": "AWS::Region"
                                          },
                                          ":",
                                          {
                                            "Ref": "AWS::AccountId"
                                          },
                                          ":",
                                          {
                                            "Ref": "moviesApi63300285"
                                          },
                                          "/test-invoke-stage/DELETE/movie/*"
                                        ]
                                      ]
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                                  "version": "2.142.1"
                                }
                              },
                              "Resource": {
                                "id": "Resource",
                                "path": "CloudMoviesStack/moviesApi/Default/movie/{movieId}/DELETE/Resource",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                                  "aws:cdk:cloudformation:props": {
                                    "authorizationType": "CUSTOM",
                                    "authorizerId": {
                                      "Ref": "CustomAuthorizerC8102921"
                                    },
                                    "httpMethod": "DELETE",
                                    "integration": {
                                      "type": "AWS_PROXY",
                                      "uri": {
                                        "Fn::Join": [
                                          "",
                                          [
                                            "arn:",
                                            {
                                              "Ref": "AWS::Partition"
                                            },
                                            ":apigateway:",
                                            {
                                              "Ref": "AWS::Region"
                                            },
                                            ":lambda:path/2015-03-31/functions/",
                                            {
                                              "Fn::GetAtt": [
                                                "deleteMovieLambda63D1CEAD",
                                                "Arn"
                                              ]
                                            },
                                            "/invocations"
                                          ]
                                        ]
                                      },
                                      "integrationHttpMethod": "POST"
                                    },
                                    "resourceId": {
                                      "Ref": "moviesApimoviemovieId8EABDBED"
                                    },
                                    "restApiId": {
                                      "Ref": "moviesApi63300285"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                                  "version": "2.142.1"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.Method",
                              "version": "2.142.1"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_apigateway.Resource",
                          "version": "2.142.1"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_apigateway.Resource",
                      "version": "2.142.1"
                    }
                  },
                  "show": {
                    "id": "show",
                    "path": "CloudMoviesStack/moviesApi/Default/show",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "CloudMoviesStack/moviesApi/Default/show/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::ApiGateway::Resource",
                          "aws:cdk:cloudformation:props": {
                            "parentId": {
                              "Fn::GetAtt": [
                                "moviesApi63300285",
                                "RootResourceId"
                              ]
                            },
                            "pathPart": "show",
                            "restApiId": {
                              "Ref": "moviesApi63300285"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_apigateway.CfnResource",
                          "version": "2.142.1"
                        }
                      },
                      "OPTIONS": {
                        "id": "OPTIONS",
                        "path": "CloudMoviesStack/moviesApi/Default/show/OPTIONS",
                        "children": {
                          "Resource": {
                            "id": "Resource",
                            "path": "CloudMoviesStack/moviesApi/Default/show/OPTIONS/Resource",
                            "attributes": {
                              "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                              "aws:cdk:cloudformation:props": {
                                "apiKeyRequired": false,
                                "authorizationType": "NONE",
                                "httpMethod": "OPTIONS",
                                "integration": {
                                  "type": "MOCK",
                                  "requestTemplates": {
                                    "application/json": "{ statusCode: 200 }"
                                  },
                                  "integrationResponses": [
                                    {
                                      "statusCode": "204",
                                      "responseParameters": {
                                        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                                        "method.response.header.Access-Control-Allow-Origin": "'*'",
                                        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
                                      }
                                    }
                                  ]
                                },
                                "methodResponses": [
                                  {
                                    "statusCode": "204",
                                    "responseParameters": {
                                      "method.response.header.Access-Control-Allow-Headers": true,
                                      "method.response.header.Access-Control-Allow-Origin": true,
                                      "method.response.header.Access-Control-Allow-Methods": true
                                    }
                                  }
                                ],
                                "resourceId": {
                                  "Ref": "moviesApishowA3270F35"
                                },
                                "restApiId": {
                                  "Ref": "moviesApi63300285"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                              "version": "2.142.1"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_apigateway.Method",
                          "version": "2.142.1"
                        }
                      },
                      "{showId}": {
                        "id": "{showId}",
                        "path": "CloudMoviesStack/moviesApi/Default/show/{showId}",
                        "children": {
                          "Resource": {
                            "id": "Resource",
                            "path": "CloudMoviesStack/moviesApi/Default/show/{showId}/Resource",
                            "attributes": {
                              "aws:cdk:cloudformation:type": "AWS::ApiGateway::Resource",
                              "aws:cdk:cloudformation:props": {
                                "parentId": {
                                  "Ref": "moviesApishowA3270F35"
                                },
                                "pathPart": "{showId}",
                                "restApiId": {
                                  "Ref": "moviesApi63300285"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.CfnResource",
                              "version": "2.142.1"
                            }
                          },
                          "OPTIONS": {
                            "id": "OPTIONS",
                            "path": "CloudMoviesStack/moviesApi/Default/show/{showId}/OPTIONS",
                            "children": {
                              "Resource": {
                                "id": "Resource",
                                "path": "CloudMoviesStack/moviesApi/Default/show/{showId}/OPTIONS/Resource",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                                  "aws:cdk:cloudformation:props": {
                                    "apiKeyRequired": false,
                                    "authorizationType": "NONE",
                                    "httpMethod": "OPTIONS",
                                    "integration": {
                                      "type": "MOCK",
                                      "requestTemplates": {
                                        "application/json": "{ statusCode: 200 }"
                                      },
                                      "integrationResponses": [
                                        {
                                          "statusCode": "204",
                                          "responseParameters": {
                                            "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                                            "method.response.header.Access-Control-Allow-Origin": "'*'",
                                            "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
                                          }
                                        }
                                      ]
                                    },
                                    "methodResponses": [
                                      {
                                        "statusCode": "204",
                                        "responseParameters": {
                                          "method.response.header.Access-Control-Allow-Headers": true,
                                          "method.response.header.Access-Control-Allow-Origin": true,
                                          "method.response.header.Access-Control-Allow-Methods": true
                                        }
                                      }
                                    ],
                                    "resourceId": {
                                      "Ref": "moviesApishowshowIdD94F986F"
                                    },
                                    "restApiId": {
                                      "Ref": "moviesApi63300285"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                                  "version": "2.142.1"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.Method",
                              "version": "2.142.1"
                            }
                          },
                          "{season}": {
                            "id": "{season}",
                            "path": "CloudMoviesStack/moviesApi/Default/show/{showId}/{season}",
                            "children": {
                              "Resource": {
                                "id": "Resource",
                                "path": "CloudMoviesStack/moviesApi/Default/show/{showId}/{season}/Resource",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::ApiGateway::Resource",
                                  "aws:cdk:cloudformation:props": {
                                    "parentId": {
                                      "Ref": "moviesApishowshowIdD94F986F"
                                    },
                                    "pathPart": "{season}",
                                    "restApiId": {
                                      "Ref": "moviesApi63300285"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_apigateway.CfnResource",
                                  "version": "2.142.1"
                                }
                              },
                              "OPTIONS": {
                                "id": "OPTIONS",
                                "path": "CloudMoviesStack/moviesApi/Default/show/{showId}/{season}/OPTIONS",
                                "children": {
                                  "Resource": {
                                    "id": "Resource",
                                    "path": "CloudMoviesStack/moviesApi/Default/show/{showId}/{season}/OPTIONS/Resource",
                                    "attributes": {
                                      "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                                      "aws:cdk:cloudformation:props": {
                                        "apiKeyRequired": false,
                                        "authorizationType": "NONE",
                                        "httpMethod": "OPTIONS",
                                        "integration": {
                                          "type": "MOCK",
                                          "requestTemplates": {
                                            "application/json": "{ statusCode: 200 }"
                                          },
                                          "integrationResponses": [
                                            {
                                              "statusCode": "204",
                                              "responseParameters": {
                                                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                                                "method.response.header.Access-Control-Allow-Origin": "'*'",
                                                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
                                              }
                                            }
                                          ]
                                        },
                                        "methodResponses": [
                                          {
                                            "statusCode": "204",
                                            "responseParameters": {
                                              "method.response.header.Access-Control-Allow-Headers": true,
                                              "method.response.header.Access-Control-Allow-Origin": true,
                                              "method.response.header.Access-Control-Allow-Methods": true
                                            }
                                          }
                                        ],
                                        "resourceId": {
                                          "Ref": "moviesApishowshowIdseasonDF459793"
                                        },
                                        "restApiId": {
                                          "Ref": "moviesApi63300285"
                                        }
                                      }
                                    },
                                    "constructInfo": {
                                      "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                                      "version": "2.142.1"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_apigateway.Method",
                                  "version": "2.142.1"
                                }
                              },
                              "{episode}": {
                                "id": "{episode}",
                                "path": "CloudMoviesStack/moviesApi/Default/show/{showId}/{season}/{episode}",
                                "children": {
                                  "Resource": {
                                    "id": "Resource",
                                    "path": "CloudMoviesStack/moviesApi/Default/show/{showId}/{season}/{episode}/Resource",
                                    "attributes": {
                                      "aws:cdk:cloudformation:type": "AWS::ApiGateway::Resource",
                                      "aws:cdk:cloudformation:props": {
                                        "parentId": {
                                          "Ref": "moviesApishowshowIdseasonDF459793"
                                        },
                                        "pathPart": "{episode}",
                                        "restApiId": {
                                          "Ref": "moviesApi63300285"
                                        }
                                      }
                                    },
                                    "constructInfo": {
                                      "fqn": "aws-cdk-lib.aws_apigateway.CfnResource",
                                      "version": "2.142.1"
                                    }
                                  },
                                  "OPTIONS": {
                                    "id": "OPTIONS",
                                    "path": "CloudMoviesStack/moviesApi/Default/show/{showId}/{season}/{episode}/OPTIONS",
                                    "children": {
                                      "Resource": {
                                        "id": "Resource",
                                        "path": "CloudMoviesStack/moviesApi/Default/show/{showId}/{season}/{episode}/OPTIONS/Resource",
                                        "attributes": {
                                          "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                                          "aws:cdk:cloudformation:props": {
                                            "apiKeyRequired": false,
                                            "authorizationType": "NONE",
                                            "httpMethod": "OPTIONS",
                                            "integration": {
                                              "type": "MOCK",
                                              "requestTemplates": {
                                                "application/json": "{ statusCode: 200 }"
                                              },
                                              "integrationResponses": [
                                                {
                                                  "statusCode": "204",
                                                  "responseParameters": {
                                                    "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                                                    "method.response.header.Access-Control-Allow-Origin": "'*'",
                                                    "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
                                                  }
                                                }
                                              ]
                                            },
                                            "methodResponses": [
                                              {
                                                "statusCode": "204",
                                                "responseParameters": {
                                                  "method.response.header.Access-Control-Allow-Headers": true,
                                                  "method.response.header.Access-Control-Allow-Origin": true,
                                                  "method.response.header.Access-Control-Allow-Methods": true
                                                }
                                              }
                                            ],
                                            "resourceId": {
                                              "Ref": "moviesApishowshowIdseasonepisodeBFC2346E"
                                            },
                                            "restApiId": {
                                              "Ref": "moviesApi63300285"
                                            }
                                          }
                                        },
                                        "constructInfo": {
                                          "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                                          "version": "2.142.1"
                                        }
                                      }
                                    },
                                    "constructInfo": {
                                      "fqn": "aws-cdk-lib.aws_apigateway.Method",
                                      "version": "2.142.1"
                                    }
                                  },
                                  "GET": {
                                    "id": "GET",
                                    "path": "CloudMoviesStack/moviesApi/Default/show/{showId}/{season}/{episode}/GET",
                                    "children": {
                                      "ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.GET..show.{showId}.{season}.{episode}": {
                                        "id": "ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.GET..show.{showId}.{season}.{episode}",
                                        "path": "CloudMoviesStack/moviesApi/Default/show/{showId}/{season}/{episode}/GET/ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.GET..show.{showId}.{season}.{episode}",
                                        "attributes": {
                                          "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                                          "aws:cdk:cloudformation:props": {
                                            "action": "lambda:InvokeFunction",
                                            "functionName": {
                                              "Fn::GetAtt": [
                                                "getEpisodeDetailsLambdaF0EDC814",
                                                "Arn"
                                              ]
                                            },
                                            "principal": "apigateway.amazonaws.com",
                                            "sourceArn": {
                                              "Fn::Join": [
                                                "",
                                                [
                                                  "arn:",
                                                  {
                                                    "Ref": "AWS::Partition"
                                                  },
                                                  ":execute-api:",
                                                  {
                                                    "Ref": "AWS::Region"
                                                  },
                                                  ":",
                                                  {
                                                    "Ref": "AWS::AccountId"
                                                  },
                                                  ":",
                                                  {
                                                    "Ref": "moviesApi63300285"
                                                  },
                                                  "/",
                                                  {
                                                    "Ref": "moviesApiDeploymentStageprod986CD890"
                                                  },
                                                  "/GET/show/*/*/*"
                                                ]
                                              ]
                                            }
                                          }
                                        },
                                        "constructInfo": {
                                          "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                                          "version": "2.142.1"
                                        }
                                      },
                                      "ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.GET..show.{showId}.{season}.{episode}": {
                                        "id": "ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.GET..show.{showId}.{season}.{episode}",
                                        "path": "CloudMoviesStack/moviesApi/Default/show/{showId}/{season}/{episode}/GET/ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.GET..show.{showId}.{season}.{episode}",
                                        "attributes": {
                                          "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                                          "aws:cdk:cloudformation:props": {
                                            "action": "lambda:InvokeFunction",
                                            "functionName": {
                                              "Fn::GetAtt": [
                                                "getEpisodeDetailsLambdaF0EDC814",
                                                "Arn"
                                              ]
                                            },
                                            "principal": "apigateway.amazonaws.com",
                                            "sourceArn": {
                                              "Fn::Join": [
                                                "",
                                                [
                                                  "arn:",
                                                  {
                                                    "Ref": "AWS::Partition"
                                                  },
                                                  ":execute-api:",
                                                  {
                                                    "Ref": "AWS::Region"
                                                  },
                                                  ":",
                                                  {
                                                    "Ref": "AWS::AccountId"
                                                  },
                                                  ":",
                                                  {
                                                    "Ref": "moviesApi63300285"
                                                  },
                                                  "/test-invoke-stage/GET/show/*/*/*"
                                                ]
                                              ]
                                            }
                                          }
                                        },
                                        "constructInfo": {
                                          "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                                          "version": "2.142.1"
                                        }
                                      },
                                      "Resource": {
                                        "id": "Resource",
                                        "path": "CloudMoviesStack/moviesApi/Default/show/{showId}/{season}/{episode}/GET/Resource",
                                        "attributes": {
                                          "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                                          "aws:cdk:cloudformation:props": {
                                            "authorizationType": "CUSTOM",
                                            "authorizerId": {
                                              "Ref": "CustomAuthorizerC8102921"
                                            },
                                            "httpMethod": "GET",
                                            "integration": {
                                              "type": "AWS_PROXY",
                                              "uri": {
                                                "Fn::Join": [
                                                  "",
                                                  [
                                                    "arn:",
                                                    {
                                                      "Ref": "AWS::Partition"
                                                    },
                                                    ":apigateway:",
                                                    {
                                                      "Ref": "AWS::Region"
                                                    },
                                                    ":lambda:path/2015-03-31/functions/",
                                                    {
                                                      "Fn::GetAtt": [
                                                        "getEpisodeDetailsLambdaF0EDC814",
                                                        "Arn"
                                                      ]
                                                    },
                                                    "/invocations"
                                                  ]
                                                ]
                                              },
                                              "integrationHttpMethod": "POST"
                                            },
                                            "resourceId": {
                                              "Ref": "moviesApishowshowIdseasonepisodeBFC2346E"
                                            },
                                            "restApiId": {
                                              "Ref": "moviesApi63300285"
                                            }
                                          }
                                        },
                                        "constructInfo": {
                                          "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                                          "version": "2.142.1"
                                        }
                                      }
                                    },
                                    "constructInfo": {
                                      "fqn": "aws-cdk-lib.aws_apigateway.Method",
                                      "version": "2.142.1"
                                    }
                                  },
                                  "DELETE": {
                                    "id": "DELETE",
                                    "path": "CloudMoviesStack/moviesApi/Default/show/{showId}/{season}/{episode}/DELETE",
                                    "children": {
                                      "ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.DELETE..show.{showId}.{season}.{episode}": {
                                        "id": "ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.DELETE..show.{showId}.{season}.{episode}",
                                        "path": "CloudMoviesStack/moviesApi/Default/show/{showId}/{season}/{episode}/DELETE/ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.DELETE..show.{showId}.{season}.{episode}",
                                        "attributes": {
                                          "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                                          "aws:cdk:cloudformation:props": {
                                            "action": "lambda:InvokeFunction",
                                            "functionName": {
                                              "Fn::GetAtt": [
                                                "deleteEpisodeLambda5735F8A0",
                                                "Arn"
                                              ]
                                            },
                                            "principal": "apigateway.amazonaws.com",
                                            "sourceArn": {
                                              "Fn::Join": [
                                                "",
                                                [
                                                  "arn:",
                                                  {
                                                    "Ref": "AWS::Partition"
                                                  },
                                                  ":execute-api:",
                                                  {
                                                    "Ref": "AWS::Region"
                                                  },
                                                  ":",
                                                  {
                                                    "Ref": "AWS::AccountId"
                                                  },
                                                  ":",
                                                  {
                                                    "Ref": "moviesApi63300285"
                                                  },
                                                  "/",
                                                  {
                                                    "Ref": "moviesApiDeploymentStageprod986CD890"
                                                  },
                                                  "/DELETE/show/*/*/*"
                                                ]
                                              ]
                                            }
                                          }
                                        },
                                        "constructInfo": {
                                          "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                                          "version": "2.142.1"
                                        }
                                      },
                                      "ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.DELETE..show.{showId}.{season}.{episode}": {
                                        "id": "ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.DELETE..show.{showId}.{season}.{episode}",
                                        "path": "CloudMoviesStack/moviesApi/Default/show/{showId}/{season}/{episode}/DELETE/ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.DELETE..show.{showId}.{season}.{episode}",
                                        "attributes": {
                                          "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                                          "aws:cdk:cloudformation:props": {
                                            "action": "lambda:InvokeFunction",
                                            "functionName": {
                                              "Fn::GetAtt": [
                                                "deleteEpisodeLambda5735F8A0",
                                                "Arn"
                                              ]
                                            },
                                            "principal": "apigateway.amazonaws.com",
                                            "sourceArn": {
                                              "Fn::Join": [
                                                "",
                                                [
                                                  "arn:",
                                                  {
                                                    "Ref": "AWS::Partition"
                                                  },
                                                  ":execute-api:",
                                                  {
                                                    "Ref": "AWS::Region"
                                                  },
                                                  ":",
                                                  {
                                                    "Ref": "AWS::AccountId"
                                                  },
                                                  ":",
                                                  {
                                                    "Ref": "moviesApi63300285"
                                                  },
                                                  "/test-invoke-stage/DELETE/show/*/*/*"
                                                ]
                                              ]
                                            }
                                          }
                                        },
                                        "constructInfo": {
                                          "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                                          "version": "2.142.1"
                                        }
                                      },
                                      "Resource": {
                                        "id": "Resource",
                                        "path": "CloudMoviesStack/moviesApi/Default/show/{showId}/{season}/{episode}/DELETE/Resource",
                                        "attributes": {
                                          "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                                          "aws:cdk:cloudformation:props": {
                                            "authorizationType": "CUSTOM",
                                            "authorizerId": {
                                              "Ref": "CustomAuthorizerC8102921"
                                            },
                                            "httpMethod": "DELETE",
                                            "integration": {
                                              "type": "AWS_PROXY",
                                              "uri": {
                                                "Fn::Join": [
                                                  "",
                                                  [
                                                    "arn:",
                                                    {
                                                      "Ref": "AWS::Partition"
                                                    },
                                                    ":apigateway:",
                                                    {
                                                      "Ref": "AWS::Region"
                                                    },
                                                    ":lambda:path/2015-03-31/functions/",
                                                    {
                                                      "Fn::GetAtt": [
                                                        "deleteEpisodeLambda5735F8A0",
                                                        "Arn"
                                                      ]
                                                    },
                                                    "/invocations"
                                                  ]
                                                ]
                                              },
                                              "integrationHttpMethod": "POST"
                                            },
                                            "resourceId": {
                                              "Ref": "moviesApishowshowIdseasonepisodeBFC2346E"
                                            },
                                            "restApiId": {
                                              "Ref": "moviesApi63300285"
                                            }
                                          }
                                        },
                                        "constructInfo": {
                                          "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                                          "version": "2.142.1"
                                        }
                                      }
                                    },
                                    "constructInfo": {
                                      "fqn": "aws-cdk-lib.aws_apigateway.Method",
                                      "version": "2.142.1"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_apigateway.Resource",
                                  "version": "2.142.1"
                                }
                              },
                              "PUT": {
                                "id": "PUT",
                                "path": "CloudMoviesStack/moviesApi/Default/show/{showId}/{season}/PUT",
                                "children": {
                                  "ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.PUT..show.{showId}.{season}": {
                                    "id": "ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.PUT..show.{showId}.{season}",
                                    "path": "CloudMoviesStack/moviesApi/Default/show/{showId}/{season}/PUT/ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.PUT..show.{showId}.{season}",
                                    "attributes": {
                                      "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                                      "aws:cdk:cloudformation:props": {
                                        "action": "lambda:InvokeFunction",
                                        "functionName": {
                                          "Fn::GetAtt": [
                                            "editEpisodeLambdaD97CF2B4",
                                            "Arn"
                                          ]
                                        },
                                        "principal": "apigateway.amazonaws.com",
                                        "sourceArn": {
                                          "Fn::Join": [
                                            "",
                                            [
                                              "arn:",
                                              {
                                                "Ref": "AWS::Partition"
                                              },
                                              ":execute-api:",
                                              {
                                                "Ref": "AWS::Region"
                                              },
                                              ":",
                                              {
                                                "Ref": "AWS::AccountId"
                                              },
                                              ":",
                                              {
                                                "Ref": "moviesApi63300285"
                                              },
                                              "/",
                                              {
                                                "Ref": "moviesApiDeploymentStageprod986CD890"
                                              },
                                              "/PUT/show/*/*"
                                            ]
                                          ]
                                        }
                                      }
                                    },
                                    "constructInfo": {
                                      "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                                      "version": "2.142.1"
                                    }
                                  },
                                  "ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.PUT..show.{showId}.{season}": {
                                    "id": "ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.PUT..show.{showId}.{season}",
                                    "path": "CloudMoviesStack/moviesApi/Default/show/{showId}/{season}/PUT/ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.PUT..show.{showId}.{season}",
                                    "attributes": {
                                      "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                                      "aws:cdk:cloudformation:props": {
                                        "action": "lambda:InvokeFunction",
                                        "functionName": {
                                          "Fn::GetAtt": [
                                            "editEpisodeLambdaD97CF2B4",
                                            "Arn"
                                          ]
                                        },
                                        "principal": "apigateway.amazonaws.com",
                                        "sourceArn": {
                                          "Fn::Join": [
                                            "",
                                            [
                                              "arn:",
                                              {
                                                "Ref": "AWS::Partition"
                                              },
                                              ":execute-api:",
                                              {
                                                "Ref": "AWS::Region"
                                              },
                                              ":",
                                              {
                                                "Ref": "AWS::AccountId"
                                              },
                                              ":",
                                              {
                                                "Ref": "moviesApi63300285"
                                              },
                                              "/test-invoke-stage/PUT/show/*/*"
                                            ]
                                          ]
                                        }
                                      }
                                    },
                                    "constructInfo": {
                                      "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                                      "version": "2.142.1"
                                    }
                                  },
                                  "Resource": {
                                    "id": "Resource",
                                    "path": "CloudMoviesStack/moviesApi/Default/show/{showId}/{season}/PUT/Resource",
                                    "attributes": {
                                      "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                                      "aws:cdk:cloudformation:props": {
                                        "authorizationType": "CUSTOM",
                                        "authorizerId": {
                                          "Ref": "CustomAuthorizerC8102921"
                                        },
                                        "httpMethod": "PUT",
                                        "integration": {
                                          "type": "AWS_PROXY",
                                          "uri": {
                                            "Fn::Join": [
                                              "",
                                              [
                                                "arn:",
                                                {
                                                  "Ref": "AWS::Partition"
                                                },
                                                ":apigateway:",
                                                {
                                                  "Ref": "AWS::Region"
                                                },
                                                ":lambda:path/2015-03-31/functions/",
                                                {
                                                  "Fn::GetAtt": [
                                                    "editEpisodeLambdaD97CF2B4",
                                                    "Arn"
                                                  ]
                                                },
                                                "/invocations"
                                              ]
                                            ]
                                          },
                                          "integrationHttpMethod": "POST"
                                        },
                                        "resourceId": {
                                          "Ref": "moviesApishowshowIdseasonDF459793"
                                        },
                                        "restApiId": {
                                          "Ref": "moviesApi63300285"
                                        }
                                      }
                                    },
                                    "constructInfo": {
                                      "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                                      "version": "2.142.1"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_apigateway.Method",
                                  "version": "2.142.1"
                                }
                              },
                              "DELETE": {
                                "id": "DELETE",
                                "path": "CloudMoviesStack/moviesApi/Default/show/{showId}/{season}/DELETE",
                                "children": {
                                  "ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.DELETE..show.{showId}.{season}": {
                                    "id": "ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.DELETE..show.{showId}.{season}",
                                    "path": "CloudMoviesStack/moviesApi/Default/show/{showId}/{season}/DELETE/ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.DELETE..show.{showId}.{season}",
                                    "attributes": {
                                      "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                                      "aws:cdk:cloudformation:props": {
                                        "action": "lambda:InvokeFunction",
                                        "functionName": {
                                          "Fn::GetAtt": [
                                            "deleteSeasonLambda85B56115",
                                            "Arn"
                                          ]
                                        },
                                        "principal": "apigateway.amazonaws.com",
                                        "sourceArn": {
                                          "Fn::Join": [
                                            "",
                                            [
                                              "arn:",
                                              {
                                                "Ref": "AWS::Partition"
                                              },
                                              ":execute-api:",
                                              {
                                                "Ref": "AWS::Region"
                                              },
                                              ":",
                                              {
                                                "Ref": "AWS::AccountId"
                                              },
                                              ":",
                                              {
                                                "Ref": "moviesApi63300285"
                                              },
                                              "/",
                                              {
                                                "Ref": "moviesApiDeploymentStageprod986CD890"
                                              },
                                              "/DELETE/show/*/*"
                                            ]
                                          ]
                                        }
                                      }
                                    },
                                    "constructInfo": {
                                      "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                                      "version": "2.142.1"
                                    }
                                  },
                                  "ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.DELETE..show.{showId}.{season}": {
                                    "id": "ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.DELETE..show.{showId}.{season}",
                                    "path": "CloudMoviesStack/moviesApi/Default/show/{showId}/{season}/DELETE/ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.DELETE..show.{showId}.{season}",
                                    "attributes": {
                                      "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                                      "aws:cdk:cloudformation:props": {
                                        "action": "lambda:InvokeFunction",
                                        "functionName": {
                                          "Fn::GetAtt": [
                                            "deleteSeasonLambda85B56115",
                                            "Arn"
                                          ]
                                        },
                                        "principal": "apigateway.amazonaws.com",
                                        "sourceArn": {
                                          "Fn::Join": [
                                            "",
                                            [
                                              "arn:",
                                              {
                                                "Ref": "AWS::Partition"
                                              },
                                              ":execute-api:",
                                              {
                                                "Ref": "AWS::Region"
                                              },
                                              ":",
                                              {
                                                "Ref": "AWS::AccountId"
                                              },
                                              ":",
                                              {
                                                "Ref": "moviesApi63300285"
                                              },
                                              "/test-invoke-stage/DELETE/show/*/*"
                                            ]
                                          ]
                                        }
                                      }
                                    },
                                    "constructInfo": {
                                      "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                                      "version": "2.142.1"
                                    }
                                  },
                                  "Resource": {
                                    "id": "Resource",
                                    "path": "CloudMoviesStack/moviesApi/Default/show/{showId}/{season}/DELETE/Resource",
                                    "attributes": {
                                      "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                                      "aws:cdk:cloudformation:props": {
                                        "authorizationType": "CUSTOM",
                                        "authorizerId": {
                                          "Ref": "CustomAuthorizerC8102921"
                                        },
                                        "httpMethod": "DELETE",
                                        "integration": {
                                          "type": "AWS_PROXY",
                                          "uri": {
                                            "Fn::Join": [
                                              "",
                                              [
                                                "arn:",
                                                {
                                                  "Ref": "AWS::Partition"
                                                },
                                                ":apigateway:",
                                                {
                                                  "Ref": "AWS::Region"
                                                },
                                                ":lambda:path/2015-03-31/functions/",
                                                {
                                                  "Fn::GetAtt": [
                                                    "deleteSeasonLambda85B56115",
                                                    "Arn"
                                                  ]
                                                },
                                                "/invocations"
                                              ]
                                            ]
                                          },
                                          "integrationHttpMethod": "POST"
                                        },
                                        "resourceId": {
                                          "Ref": "moviesApishowshowIdseasonDF459793"
                                        },
                                        "restApiId": {
                                          "Ref": "moviesApi63300285"
                                        }
                                      }
                                    },
                                    "constructInfo": {
                                      "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                                      "version": "2.142.1"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_apigateway.Method",
                                  "version": "2.142.1"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.Resource",
                              "version": "2.142.1"
                            }
                          },
                          "seasonDetails": {
                            "id": "seasonDetails",
                            "path": "CloudMoviesStack/moviesApi/Default/show/{showId}/seasonDetails",
                            "children": {
                              "Resource": {
                                "id": "Resource",
                                "path": "CloudMoviesStack/moviesApi/Default/show/{showId}/seasonDetails/Resource",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::ApiGateway::Resource",
                                  "aws:cdk:cloudformation:props": {
                                    "parentId": {
                                      "Ref": "moviesApishowshowIdD94F986F"
                                    },
                                    "pathPart": "seasonDetails",
                                    "restApiId": {
                                      "Ref": "moviesApi63300285"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_apigateway.CfnResource",
                                  "version": "2.142.1"
                                }
                              },
                              "OPTIONS": {
                                "id": "OPTIONS",
                                "path": "CloudMoviesStack/moviesApi/Default/show/{showId}/seasonDetails/OPTIONS",
                                "children": {
                                  "Resource": {
                                    "id": "Resource",
                                    "path": "CloudMoviesStack/moviesApi/Default/show/{showId}/seasonDetails/OPTIONS/Resource",
                                    "attributes": {
                                      "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                                      "aws:cdk:cloudformation:props": {
                                        "apiKeyRequired": false,
                                        "authorizationType": "NONE",
                                        "httpMethod": "OPTIONS",
                                        "integration": {
                                          "type": "MOCK",
                                          "requestTemplates": {
                                            "application/json": "{ statusCode: 200 }"
                                          },
                                          "integrationResponses": [
                                            {
                                              "statusCode": "204",
                                              "responseParameters": {
                                                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                                                "method.response.header.Access-Control-Allow-Origin": "'*'",
                                                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
                                              }
                                            }
                                          ]
                                        },
                                        "methodResponses": [
                                          {
                                            "statusCode": "204",
                                            "responseParameters": {
                                              "method.response.header.Access-Control-Allow-Headers": true,
                                              "method.response.header.Access-Control-Allow-Origin": true,
                                              "method.response.header.Access-Control-Allow-Methods": true
                                            }
                                          }
                                        ],
                                        "resourceId": {
                                          "Ref": "moviesApishowshowIdseasonDetailsE1041397"
                                        },
                                        "restApiId": {
                                          "Ref": "moviesApi63300285"
                                        }
                                      }
                                    },
                                    "constructInfo": {
                                      "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                                      "version": "2.142.1"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_apigateway.Method",
                                  "version": "2.142.1"
                                }
                              },
                              "GET": {
                                "id": "GET",
                                "path": "CloudMoviesStack/moviesApi/Default/show/{showId}/seasonDetails/GET",
                                "children": {
                                  "ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.GET..show.{showId}.seasonDetails": {
                                    "id": "ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.GET..show.{showId}.seasonDetails",
                                    "path": "CloudMoviesStack/moviesApi/Default/show/{showId}/seasonDetails/GET/ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.GET..show.{showId}.seasonDetails",
                                    "attributes": {
                                      "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                                      "aws:cdk:cloudformation:props": {
                                        "action": "lambda:InvokeFunction",
                                        "functionName": {
                                          "Fn::GetAtt": [
                                            "getSeasonsDetailsLambda73515D71",
                                            "Arn"
                                          ]
                                        },
                                        "principal": "apigateway.amazonaws.com",
                                        "sourceArn": {
                                          "Fn::Join": [
                                            "",
                                            [
                                              "arn:",
                                              {
                                                "Ref": "AWS::Partition"
                                              },
                                              ":execute-api:",
                                              {
                                                "Ref": "AWS::Region"
                                              },
                                              ":",
                                              {
                                                "Ref": "AWS::AccountId"
                                              },
                                              ":",
                                              {
                                                "Ref": "moviesApi63300285"
                                              },
                                              "/",
                                              {
                                                "Ref": "moviesApiDeploymentStageprod986CD890"
                                              },
                                              "/GET/show/*/seasonDetails"
                                            ]
                                          ]
                                        }
                                      }
                                    },
                                    "constructInfo": {
                                      "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                                      "version": "2.142.1"
                                    }
                                  },
                                  "ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.GET..show.{showId}.seasonDetails": {
                                    "id": "ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.GET..show.{showId}.seasonDetails",
                                    "path": "CloudMoviesStack/moviesApi/Default/show/{showId}/seasonDetails/GET/ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.GET..show.{showId}.seasonDetails",
                                    "attributes": {
                                      "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                                      "aws:cdk:cloudformation:props": {
                                        "action": "lambda:InvokeFunction",
                                        "functionName": {
                                          "Fn::GetAtt": [
                                            "getSeasonsDetailsLambda73515D71",
                                            "Arn"
                                          ]
                                        },
                                        "principal": "apigateway.amazonaws.com",
                                        "sourceArn": {
                                          "Fn::Join": [
                                            "",
                                            [
                                              "arn:",
                                              {
                                                "Ref": "AWS::Partition"
                                              },
                                              ":execute-api:",
                                              {
                                                "Ref": "AWS::Region"
                                              },
                                              ":",
                                              {
                                                "Ref": "AWS::AccountId"
                                              },
                                              ":",
                                              {
                                                "Ref": "moviesApi63300285"
                                              },
                                              "/test-invoke-stage/GET/show/*/seasonDetails"
                                            ]
                                          ]
                                        }
                                      }
                                    },
                                    "constructInfo": {
                                      "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                                      "version": "2.142.1"
                                    }
                                  },
                                  "Resource": {
                                    "id": "Resource",
                                    "path": "CloudMoviesStack/moviesApi/Default/show/{showId}/seasonDetails/GET/Resource",
                                    "attributes": {
                                      "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                                      "aws:cdk:cloudformation:props": {
                                        "authorizationType": "CUSTOM",
                                        "authorizerId": {
                                          "Ref": "CustomAuthorizerC8102921"
                                        },
                                        "httpMethod": "GET",
                                        "integration": {
                                          "type": "AWS_PROXY",
                                          "uri": {
                                            "Fn::Join": [
                                              "",
                                              [
                                                "arn:",
                                                {
                                                  "Ref": "AWS::Partition"
                                                },
                                                ":apigateway:",
                                                {
                                                  "Ref": "AWS::Region"
                                                },
                                                ":lambda:path/2015-03-31/functions/",
                                                {
                                                  "Fn::GetAtt": [
                                                    "getSeasonsDetailsLambda73515D71",
                                                    "Arn"
                                                  ]
                                                },
                                                "/invocations"
                                              ]
                                            ]
                                          },
                                          "integrationHttpMethod": "POST"
                                        },
                                        "resourceId": {
                                          "Ref": "moviesApishowshowIdseasonDetailsE1041397"
                                        },
                                        "restApiId": {
                                          "Ref": "moviesApi63300285"
                                        }
                                      }
                                    },
                                    "constructInfo": {
                                      "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                                      "version": "2.142.1"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_apigateway.Method",
                                  "version": "2.142.1"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.Resource",
                              "version": "2.142.1"
                            }
                          },
                          "POST": {
                            "id": "POST",
                            "path": "CloudMoviesStack/moviesApi/Default/show/{showId}/POST",
                            "children": {
                              "ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.POST..show.{showId}": {
                                "id": "ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.POST..show.{showId}",
                                "path": "CloudMoviesStack/moviesApi/Default/show/{showId}/POST/ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.POST..show.{showId}",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                                  "aws:cdk:cloudformation:props": {
                                    "action": "lambda:InvokeFunction",
                                    "functionName": {
                                      "Fn::GetAtt": [
                                        "createSeasonLambdaB8377D0D",
                                        "Arn"
                                      ]
                                    },
                                    "principal": "apigateway.amazonaws.com",
                                    "sourceArn": {
                                      "Fn::Join": [
                                        "",
                                        [
                                          "arn:",
                                          {
                                            "Ref": "AWS::Partition"
                                          },
                                          ":execute-api:",
                                          {
                                            "Ref": "AWS::Region"
                                          },
                                          ":",
                                          {
                                            "Ref": "AWS::AccountId"
                                          },
                                          ":",
                                          {
                                            "Ref": "moviesApi63300285"
                                          },
                                          "/",
                                          {
                                            "Ref": "moviesApiDeploymentStageprod986CD890"
                                          },
                                          "/POST/show/*"
                                        ]
                                      ]
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                                  "version": "2.142.1"
                                }
                              },
                              "ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.POST..show.{showId}": {
                                "id": "ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.POST..show.{showId}",
                                "path": "CloudMoviesStack/moviesApi/Default/show/{showId}/POST/ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.POST..show.{showId}",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                                  "aws:cdk:cloudformation:props": {
                                    "action": "lambda:InvokeFunction",
                                    "functionName": {
                                      "Fn::GetAtt": [
                                        "createSeasonLambdaB8377D0D",
                                        "Arn"
                                      ]
                                    },
                                    "principal": "apigateway.amazonaws.com",
                                    "sourceArn": {
                                      "Fn::Join": [
                                        "",
                                        [
                                          "arn:",
                                          {
                                            "Ref": "AWS::Partition"
                                          },
                                          ":execute-api:",
                                          {
                                            "Ref": "AWS::Region"
                                          },
                                          ":",
                                          {
                                            "Ref": "AWS::AccountId"
                                          },
                                          ":",
                                          {
                                            "Ref": "moviesApi63300285"
                                          },
                                          "/test-invoke-stage/POST/show/*"
                                        ]
                                      ]
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                                  "version": "2.142.1"
                                }
                              },
                              "Resource": {
                                "id": "Resource",
                                "path": "CloudMoviesStack/moviesApi/Default/show/{showId}/POST/Resource",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                                  "aws:cdk:cloudformation:props": {
                                    "authorizationType": "CUSTOM",
                                    "authorizerId": {
                                      "Ref": "CustomAuthorizerC8102921"
                                    },
                                    "httpMethod": "POST",
                                    "integration": {
                                      "type": "AWS_PROXY",
                                      "uri": {
                                        "Fn::Join": [
                                          "",
                                          [
                                            "arn:",
                                            {
                                              "Ref": "AWS::Partition"
                                            },
                                            ":apigateway:",
                                            {
                                              "Ref": "AWS::Region"
                                            },
                                            ":lambda:path/2015-03-31/functions/",
                                            {
                                              "Fn::GetAtt": [
                                                "createSeasonLambdaB8377D0D",
                                                "Arn"
                                              ]
                                            },
                                            "/invocations"
                                          ]
                                        ]
                                      },
                                      "integrationHttpMethod": "POST"
                                    },
                                    "resourceId": {
                                      "Ref": "moviesApishowshowIdD94F986F"
                                    },
                                    "restApiId": {
                                      "Ref": "moviesApi63300285"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                                  "version": "2.142.1"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.Method",
                              "version": "2.142.1"
                            }
                          },
                          "DELETE": {
                            "id": "DELETE",
                            "path": "CloudMoviesStack/moviesApi/Default/show/{showId}/DELETE",
                            "children": {
                              "ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.DELETE..show.{showId}": {
                                "id": "ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.DELETE..show.{showId}",
                                "path": "CloudMoviesStack/moviesApi/Default/show/{showId}/DELETE/ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.DELETE..show.{showId}",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                                  "aws:cdk:cloudformation:props": {
                                    "action": "lambda:InvokeFunction",
                                    "functionName": {
                                      "Fn::GetAtt": [
                                        "deleteShowLambdaDE5B7ABF",
                                        "Arn"
                                      ]
                                    },
                                    "principal": "apigateway.amazonaws.com",
                                    "sourceArn": {
                                      "Fn::Join": [
                                        "",
                                        [
                                          "arn:",
                                          {
                                            "Ref": "AWS::Partition"
                                          },
                                          ":execute-api:",
                                          {
                                            "Ref": "AWS::Region"
                                          },
                                          ":",
                                          {
                                            "Ref": "AWS::AccountId"
                                          },
                                          ":",
                                          {
                                            "Ref": "moviesApi63300285"
                                          },
                                          "/",
                                          {
                                            "Ref": "moviesApiDeploymentStageprod986CD890"
                                          },
                                          "/DELETE/show/*"
                                        ]
                                      ]
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                                  "version": "2.142.1"
                                }
                              },
                              "ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.DELETE..show.{showId}": {
                                "id": "ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.DELETE..show.{showId}",
                                "path": "CloudMoviesStack/moviesApi/Default/show/{showId}/DELETE/ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.DELETE..show.{showId}",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                                  "aws:cdk:cloudformation:props": {
                                    "action": "lambda:InvokeFunction",
                                    "functionName": {
                                      "Fn::GetAtt": [
                                        "deleteShowLambdaDE5B7ABF",
                                        "Arn"
                                      ]
                                    },
                                    "principal": "apigateway.amazonaws.com",
                                    "sourceArn": {
                                      "Fn::Join": [
                                        "",
                                        [
                                          "arn:",
                                          {
                                            "Ref": "AWS::Partition"
                                          },
                                          ":execute-api:",
                                          {
                                            "Ref": "AWS::Region"
                                          },
                                          ":",
                                          {
                                            "Ref": "AWS::AccountId"
                                          },
                                          ":",
                                          {
                                            "Ref": "moviesApi63300285"
                                          },
                                          "/test-invoke-stage/DELETE/show/*"
                                        ]
                                      ]
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                                  "version": "2.142.1"
                                }
                              },
                              "Resource": {
                                "id": "Resource",
                                "path": "CloudMoviesStack/moviesApi/Default/show/{showId}/DELETE/Resource",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                                  "aws:cdk:cloudformation:props": {
                                    "authorizationType": "CUSTOM",
                                    "authorizerId": {
                                      "Ref": "CustomAuthorizerC8102921"
                                    },
                                    "httpMethod": "DELETE",
                                    "integration": {
                                      "type": "AWS_PROXY",
                                      "uri": {
                                        "Fn::Join": [
                                          "",
                                          [
                                            "arn:",
                                            {
                                              "Ref": "AWS::Partition"
                                            },
                                            ":apigateway:",
                                            {
                                              "Ref": "AWS::Region"
                                            },
                                            ":lambda:path/2015-03-31/functions/",
                                            {
                                              "Fn::GetAtt": [
                                                "deleteShowLambdaDE5B7ABF",
                                                "Arn"
                                              ]
                                            },
                                            "/invocations"
                                          ]
                                        ]
                                      },
                                      "integrationHttpMethod": "POST"
                                    },
                                    "resourceId": {
                                      "Ref": "moviesApishowshowIdD94F986F"
                                    },
                                    "restApiId": {
                                      "Ref": "moviesApi63300285"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                                  "version": "2.142.1"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.Method",
                              "version": "2.142.1"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_apigateway.Resource",
                          "version": "2.142.1"
                        }
                      },
                      "POST": {
                        "id": "POST",
                        "path": "CloudMoviesStack/moviesApi/Default/show/POST",
                        "children": {
                          "ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.POST..show": {
                            "id": "ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.POST..show",
                            "path": "CloudMoviesStack/moviesApi/Default/show/POST/ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.POST..show",
                            "attributes": {
                              "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                              "aws:cdk:cloudformation:props": {
                                "action": "lambda:InvokeFunction",
                                "functionName": {
                                  "Fn::GetAtt": [
                                    "createShowLambda64A8046E",
                                    "Arn"
                                  ]
                                },
                                "principal": "apigateway.amazonaws.com",
                                "sourceArn": {
                                  "Fn::Join": [
                                    "",
                                    [
                                      "arn:",
                                      {
                                        "Ref": "AWS::Partition"
                                      },
                                      ":execute-api:",
                                      {
                                        "Ref": "AWS::Region"
                                      },
                                      ":",
                                      {
                                        "Ref": "AWS::AccountId"
                                      },
                                      ":",
                                      {
                                        "Ref": "moviesApi63300285"
                                      },
                                      "/",
                                      {
                                        "Ref": "moviesApiDeploymentStageprod986CD890"
                                      },
                                      "/POST/show"
                                    ]
                                  ]
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                              "version": "2.142.1"
                            }
                          },
                          "ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.POST..show": {
                            "id": "ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.POST..show",
                            "path": "CloudMoviesStack/moviesApi/Default/show/POST/ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.POST..show",
                            "attributes": {
                              "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                              "aws:cdk:cloudformation:props": {
                                "action": "lambda:InvokeFunction",
                                "functionName": {
                                  "Fn::GetAtt": [
                                    "createShowLambda64A8046E",
                                    "Arn"
                                  ]
                                },
                                "principal": "apigateway.amazonaws.com",
                                "sourceArn": {
                                  "Fn::Join": [
                                    "",
                                    [
                                      "arn:",
                                      {
                                        "Ref": "AWS::Partition"
                                      },
                                      ":execute-api:",
                                      {
                                        "Ref": "AWS::Region"
                                      },
                                      ":",
                                      {
                                        "Ref": "AWS::AccountId"
                                      },
                                      ":",
                                      {
                                        "Ref": "moviesApi63300285"
                                      },
                                      "/test-invoke-stage/POST/show"
                                    ]
                                  ]
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                              "version": "2.142.1"
                            }
                          },
                          "Resource": {
                            "id": "Resource",
                            "path": "CloudMoviesStack/moviesApi/Default/show/POST/Resource",
                            "attributes": {
                              "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                              "aws:cdk:cloudformation:props": {
                                "authorizationType": "CUSTOM",
                                "authorizerId": {
                                  "Ref": "CustomAuthorizerC8102921"
                                },
                                "httpMethod": "POST",
                                "integration": {
                                  "type": "AWS_PROXY",
                                  "uri": {
                                    "Fn::Join": [
                                      "",
                                      [
                                        "arn:",
                                        {
                                          "Ref": "AWS::Partition"
                                        },
                                        ":apigateway:",
                                        {
                                          "Ref": "AWS::Region"
                                        },
                                        ":lambda:path/2015-03-31/functions/",
                                        {
                                          "Fn::GetAtt": [
                                            "createShowLambda64A8046E",
                                            "Arn"
                                          ]
                                        },
                                        "/invocations"
                                      ]
                                    ]
                                  },
                                  "integrationHttpMethod": "POST"
                                },
                                "resourceId": {
                                  "Ref": "moviesApishowA3270F35"
                                },
                                "restApiId": {
                                  "Ref": "moviesApi63300285"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                              "version": "2.142.1"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_apigateway.Method",
                          "version": "2.142.1"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_apigateway.Resource",
                      "version": "2.142.1"
                    }
                  },
                  "subscription": {
                    "id": "subscription",
                    "path": "CloudMoviesStack/moviesApi/Default/subscription",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "CloudMoviesStack/moviesApi/Default/subscription/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::ApiGateway::Resource",
                          "aws:cdk:cloudformation:props": {
                            "parentId": {
                              "Fn::GetAtt": [
                                "moviesApi63300285",
                                "RootResourceId"
                              ]
                            },
                            "pathPart": "subscription",
                            "restApiId": {
                              "Ref": "moviesApi63300285"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_apigateway.CfnResource",
                          "version": "2.142.1"
                        }
                      },
                      "OPTIONS": {
                        "id": "OPTIONS",
                        "path": "CloudMoviesStack/moviesApi/Default/subscription/OPTIONS",
                        "children": {
                          "Resource": {
                            "id": "Resource",
                            "path": "CloudMoviesStack/moviesApi/Default/subscription/OPTIONS/Resource",
                            "attributes": {
                              "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                              "aws:cdk:cloudformation:props": {
                                "apiKeyRequired": false,
                                "authorizationType": "NONE",
                                "httpMethod": "OPTIONS",
                                "integration": {
                                  "type": "MOCK",
                                  "requestTemplates": {
                                    "application/json": "{ statusCode: 200 }"
                                  },
                                  "integrationResponses": [
                                    {
                                      "statusCode": "204",
                                      "responseParameters": {
                                        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                                        "method.response.header.Access-Control-Allow-Origin": "'*'",
                                        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
                                      }
                                    }
                                  ]
                                },
                                "methodResponses": [
                                  {
                                    "statusCode": "204",
                                    "responseParameters": {
                                      "method.response.header.Access-Control-Allow-Headers": true,
                                      "method.response.header.Access-Control-Allow-Origin": true,
                                      "method.response.header.Access-Control-Allow-Methods": true
                                    }
                                  }
                                ],
                                "resourceId": {
                                  "Ref": "moviesApisubscription33C4F466"
                                },
                                "restApiId": {
                                  "Ref": "moviesApi63300285"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                              "version": "2.142.1"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_apigateway.Method",
                          "version": "2.142.1"
                        }
                      },
                      "{userId}": {
                        "id": "{userId}",
                        "path": "CloudMoviesStack/moviesApi/Default/subscription/{userId}",
                        "children": {
                          "Resource": {
                            "id": "Resource",
                            "path": "CloudMoviesStack/moviesApi/Default/subscription/{userId}/Resource",
                            "attributes": {
                              "aws:cdk:cloudformation:type": "AWS::ApiGateway::Resource",
                              "aws:cdk:cloudformation:props": {
                                "parentId": {
                                  "Ref": "moviesApisubscription33C4F466"
                                },
                                "pathPart": "{userId}",
                                "restApiId": {
                                  "Ref": "moviesApi63300285"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.CfnResource",
                              "version": "2.142.1"
                            }
                          },
                          "OPTIONS": {
                            "id": "OPTIONS",
                            "path": "CloudMoviesStack/moviesApi/Default/subscription/{userId}/OPTIONS",
                            "children": {
                              "Resource": {
                                "id": "Resource",
                                "path": "CloudMoviesStack/moviesApi/Default/subscription/{userId}/OPTIONS/Resource",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                                  "aws:cdk:cloudformation:props": {
                                    "apiKeyRequired": false,
                                    "authorizationType": "NONE",
                                    "httpMethod": "OPTIONS",
                                    "integration": {
                                      "type": "MOCK",
                                      "requestTemplates": {
                                        "application/json": "{ statusCode: 200 }"
                                      },
                                      "integrationResponses": [
                                        {
                                          "statusCode": "204",
                                          "responseParameters": {
                                            "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                                            "method.response.header.Access-Control-Allow-Origin": "'*'",
                                            "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
                                          }
                                        }
                                      ]
                                    },
                                    "methodResponses": [
                                      {
                                        "statusCode": "204",
                                        "responseParameters": {
                                          "method.response.header.Access-Control-Allow-Headers": true,
                                          "method.response.header.Access-Control-Allow-Origin": true,
                                          "method.response.header.Access-Control-Allow-Methods": true
                                        }
                                      }
                                    ],
                                    "resourceId": {
                                      "Ref": "moviesApisubscriptionuserIdF4B7986A"
                                    },
                                    "restApiId": {
                                      "Ref": "moviesApi63300285"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                                  "version": "2.142.1"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.Method",
                              "version": "2.142.1"
                            }
                          },
                          "GET": {
                            "id": "GET",
                            "path": "CloudMoviesStack/moviesApi/Default/subscription/{userId}/GET",
                            "children": {
                              "ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.GET..subscription.{userId}": {
                                "id": "ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.GET..subscription.{userId}",
                                "path": "CloudMoviesStack/moviesApi/Default/subscription/{userId}/GET/ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.GET..subscription.{userId}",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                                  "aws:cdk:cloudformation:props": {
                                    "action": "lambda:InvokeFunction",
                                    "functionName": {
                                      "Fn::GetAtt": [
                                        "listSubscriptionsLambdaCF1C4AF6",
                                        "Arn"
                                      ]
                                    },
                                    "principal": "apigateway.amazonaws.com",
                                    "sourceArn": {
                                      "Fn::Join": [
                                        "",
                                        [
                                          "arn:",
                                          {
                                            "Ref": "AWS::Partition"
                                          },
                                          ":execute-api:",
                                          {
                                            "Ref": "AWS::Region"
                                          },
                                          ":",
                                          {
                                            "Ref": "AWS::AccountId"
                                          },
                                          ":",
                                          {
                                            "Ref": "moviesApi63300285"
                                          },
                                          "/",
                                          {
                                            "Ref": "moviesApiDeploymentStageprod986CD890"
                                          },
                                          "/GET/subscription/*"
                                        ]
                                      ]
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                                  "version": "2.142.1"
                                }
                              },
                              "ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.GET..subscription.{userId}": {
                                "id": "ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.GET..subscription.{userId}",
                                "path": "CloudMoviesStack/moviesApi/Default/subscription/{userId}/GET/ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.GET..subscription.{userId}",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                                  "aws:cdk:cloudformation:props": {
                                    "action": "lambda:InvokeFunction",
                                    "functionName": {
                                      "Fn::GetAtt": [
                                        "listSubscriptionsLambdaCF1C4AF6",
                                        "Arn"
                                      ]
                                    },
                                    "principal": "apigateway.amazonaws.com",
                                    "sourceArn": {
                                      "Fn::Join": [
                                        "",
                                        [
                                          "arn:",
                                          {
                                            "Ref": "AWS::Partition"
                                          },
                                          ":execute-api:",
                                          {
                                            "Ref": "AWS::Region"
                                          },
                                          ":",
                                          {
                                            "Ref": "AWS::AccountId"
                                          },
                                          ":",
                                          {
                                            "Ref": "moviesApi63300285"
                                          },
                                          "/test-invoke-stage/GET/subscription/*"
                                        ]
                                      ]
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                                  "version": "2.142.1"
                                }
                              },
                              "Resource": {
                                "id": "Resource",
                                "path": "CloudMoviesStack/moviesApi/Default/subscription/{userId}/GET/Resource",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                                  "aws:cdk:cloudformation:props": {
                                    "authorizationType": "CUSTOM",
                                    "authorizerId": {
                                      "Ref": "CustomAuthorizerC8102921"
                                    },
                                    "httpMethod": "GET",
                                    "integration": {
                                      "type": "AWS_PROXY",
                                      "uri": {
                                        "Fn::Join": [
                                          "",
                                          [
                                            "arn:",
                                            {
                                              "Ref": "AWS::Partition"
                                            },
                                            ":apigateway:",
                                            {
                                              "Ref": "AWS::Region"
                                            },
                                            ":lambda:path/2015-03-31/functions/",
                                            {
                                              "Fn::GetAtt": [
                                                "listSubscriptionsLambdaCF1C4AF6",
                                                "Arn"
                                              ]
                                            },
                                            "/invocations"
                                          ]
                                        ]
                                      },
                                      "integrationHttpMethod": "POST"
                                    },
                                    "resourceId": {
                                      "Ref": "moviesApisubscriptionuserIdF4B7986A"
                                    },
                                    "restApiId": {
                                      "Ref": "moviesApi63300285"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                                  "version": "2.142.1"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.Method",
                              "version": "2.142.1"
                            }
                          },
                          "POST": {
                            "id": "POST",
                            "path": "CloudMoviesStack/moviesApi/Default/subscription/{userId}/POST",
                            "children": {
                              "ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.POST..subscription.{userId}": {
                                "id": "ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.POST..subscription.{userId}",
                                "path": "CloudMoviesStack/moviesApi/Default/subscription/{userId}/POST/ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.POST..subscription.{userId}",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                                  "aws:cdk:cloudformation:props": {
                                    "action": "lambda:InvokeFunction",
                                    "functionName": {
                                      "Fn::GetAtt": [
                                        "subscribeLambda023905A9",
                                        "Arn"
                                      ]
                                    },
                                    "principal": "apigateway.amazonaws.com",
                                    "sourceArn": {
                                      "Fn::Join": [
                                        "",
                                        [
                                          "arn:",
                                          {
                                            "Ref": "AWS::Partition"
                                          },
                                          ":execute-api:",
                                          {
                                            "Ref": "AWS::Region"
                                          },
                                          ":",
                                          {
                                            "Ref": "AWS::AccountId"
                                          },
                                          ":",
                                          {
                                            "Ref": "moviesApi63300285"
                                          },
                                          "/",
                                          {
                                            "Ref": "moviesApiDeploymentStageprod986CD890"
                                          },
                                          "/POST/subscription/*"
                                        ]
                                      ]
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                                  "version": "2.142.1"
                                }
                              },
                              "ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.POST..subscription.{userId}": {
                                "id": "ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.POST..subscription.{userId}",
                                "path": "CloudMoviesStack/moviesApi/Default/subscription/{userId}/POST/ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.POST..subscription.{userId}",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                                  "aws:cdk:cloudformation:props": {
                                    "action": "lambda:InvokeFunction",
                                    "functionName": {
                                      "Fn::GetAtt": [
                                        "subscribeLambda023905A9",
                                        "Arn"
                                      ]
                                    },
                                    "principal": "apigateway.amazonaws.com",
                                    "sourceArn": {
                                      "Fn::Join": [
                                        "",
                                        [
                                          "arn:",
                                          {
                                            "Ref": "AWS::Partition"
                                          },
                                          ":execute-api:",
                                          {
                                            "Ref": "AWS::Region"
                                          },
                                          ":",
                                          {
                                            "Ref": "AWS::AccountId"
                                          },
                                          ":",
                                          {
                                            "Ref": "moviesApi63300285"
                                          },
                                          "/test-invoke-stage/POST/subscription/*"
                                        ]
                                      ]
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                                  "version": "2.142.1"
                                }
                              },
                              "Resource": {
                                "id": "Resource",
                                "path": "CloudMoviesStack/moviesApi/Default/subscription/{userId}/POST/Resource",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                                  "aws:cdk:cloudformation:props": {
                                    "authorizationType": "CUSTOM",
                                    "authorizerId": {
                                      "Ref": "CustomAuthorizerC8102921"
                                    },
                                    "httpMethod": "POST",
                                    "integration": {
                                      "type": "AWS_PROXY",
                                      "uri": {
                                        "Fn::Join": [
                                          "",
                                          [
                                            "arn:",
                                            {
                                              "Ref": "AWS::Partition"
                                            },
                                            ":apigateway:",
                                            {
                                              "Ref": "AWS::Region"
                                            },
                                            ":lambda:path/2015-03-31/functions/",
                                            {
                                              "Fn::GetAtt": [
                                                "subscribeLambda023905A9",
                                                "Arn"
                                              ]
                                            },
                                            "/invocations"
                                          ]
                                        ]
                                      },
                                      "integrationHttpMethod": "POST"
                                    },
                                    "resourceId": {
                                      "Ref": "moviesApisubscriptionuserIdF4B7986A"
                                    },
                                    "restApiId": {
                                      "Ref": "moviesApi63300285"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                                  "version": "2.142.1"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.Method",
                              "version": "2.142.1"
                            }
                          },
                          "{type}": {
                            "id": "{type}",
                            "path": "CloudMoviesStack/moviesApi/Default/subscription/{userId}/{type}",
                            "children": {
                              "Resource": {
                                "id": "Resource",
                                "path": "CloudMoviesStack/moviesApi/Default/subscription/{userId}/{type}/Resource",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::ApiGateway::Resource",
                                  "aws:cdk:cloudformation:props": {
                                    "parentId": {
                                      "Ref": "moviesApisubscriptionuserIdF4B7986A"
                                    },
                                    "pathPart": "{type}",
                                    "restApiId": {
                                      "Ref": "moviesApi63300285"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_apigateway.CfnResource",
                                  "version": "2.142.1"
                                }
                              },
                              "OPTIONS": {
                                "id": "OPTIONS",
                                "path": "CloudMoviesStack/moviesApi/Default/subscription/{userId}/{type}/OPTIONS",
                                "children": {
                                  "Resource": {
                                    "id": "Resource",
                                    "path": "CloudMoviesStack/moviesApi/Default/subscription/{userId}/{type}/OPTIONS/Resource",
                                    "attributes": {
                                      "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                                      "aws:cdk:cloudformation:props": {
                                        "apiKeyRequired": false,
                                        "authorizationType": "NONE",
                                        "httpMethod": "OPTIONS",
                                        "integration": {
                                          "type": "MOCK",
                                          "requestTemplates": {
                                            "application/json": "{ statusCode: 200 }"
                                          },
                                          "integrationResponses": [
                                            {
                                              "statusCode": "204",
                                              "responseParameters": {
                                                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                                                "method.response.header.Access-Control-Allow-Origin": "'*'",
                                                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
                                              }
                                            }
                                          ]
                                        },
                                        "methodResponses": [
                                          {
                                            "statusCode": "204",
                                            "responseParameters": {
                                              "method.response.header.Access-Control-Allow-Headers": true,
                                              "method.response.header.Access-Control-Allow-Origin": true,
                                              "method.response.header.Access-Control-Allow-Methods": true
                                            }
                                          }
                                        ],
                                        "resourceId": {
                                          "Ref": "moviesApisubscriptionuserIdtype845CD63B"
                                        },
                                        "restApiId": {
                                          "Ref": "moviesApi63300285"
                                        }
                                      }
                                    },
                                    "constructInfo": {
                                      "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                                      "version": "2.142.1"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_apigateway.Method",
                                  "version": "2.142.1"
                                }
                              },
                              "{name}": {
                                "id": "{name}",
                                "path": "CloudMoviesStack/moviesApi/Default/subscription/{userId}/{type}/{name}",
                                "children": {
                                  "Resource": {
                                    "id": "Resource",
                                    "path": "CloudMoviesStack/moviesApi/Default/subscription/{userId}/{type}/{name}/Resource",
                                    "attributes": {
                                      "aws:cdk:cloudformation:type": "AWS::ApiGateway::Resource",
                                      "aws:cdk:cloudformation:props": {
                                        "parentId": {
                                          "Ref": "moviesApisubscriptionuserIdtype845CD63B"
                                        },
                                        "pathPart": "{name}",
                                        "restApiId": {
                                          "Ref": "moviesApi63300285"
                                        }
                                      }
                                    },
                                    "constructInfo": {
                                      "fqn": "aws-cdk-lib.aws_apigateway.CfnResource",
                                      "version": "2.142.1"
                                    }
                                  },
                                  "OPTIONS": {
                                    "id": "OPTIONS",
                                    "path": "CloudMoviesStack/moviesApi/Default/subscription/{userId}/{type}/{name}/OPTIONS",
                                    "children": {
                                      "Resource": {
                                        "id": "Resource",
                                        "path": "CloudMoviesStack/moviesApi/Default/subscription/{userId}/{type}/{name}/OPTIONS/Resource",
                                        "attributes": {
                                          "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                                          "aws:cdk:cloudformation:props": {
                                            "apiKeyRequired": false,
                                            "authorizationType": "NONE",
                                            "httpMethod": "OPTIONS",
                                            "integration": {
                                              "type": "MOCK",
                                              "requestTemplates": {
                                                "application/json": "{ statusCode: 200 }"
                                              },
                                              "integrationResponses": [
                                                {
                                                  "statusCode": "204",
                                                  "responseParameters": {
                                                    "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                                                    "method.response.header.Access-Control-Allow-Origin": "'*'",
                                                    "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
                                                  }
                                                }
                                              ]
                                            },
                                            "methodResponses": [
                                              {
                                                "statusCode": "204",
                                                "responseParameters": {
                                                  "method.response.header.Access-Control-Allow-Headers": true,
                                                  "method.response.header.Access-Control-Allow-Origin": true,
                                                  "method.response.header.Access-Control-Allow-Methods": true
                                                }
                                              }
                                            ],
                                            "resourceId": {
                                              "Ref": "moviesApisubscriptionuserIdtypename702EFD8F"
                                            },
                                            "restApiId": {
                                              "Ref": "moviesApi63300285"
                                            }
                                          }
                                        },
                                        "constructInfo": {
                                          "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                                          "version": "2.142.1"
                                        }
                                      }
                                    },
                                    "constructInfo": {
                                      "fqn": "aws-cdk-lib.aws_apigateway.Method",
                                      "version": "2.142.1"
                                    }
                                  },
                                  "DELETE": {
                                    "id": "DELETE",
                                    "path": "CloudMoviesStack/moviesApi/Default/subscription/{userId}/{type}/{name}/DELETE",
                                    "children": {
                                      "ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.DELETE..subscription.{userId}.{type}.{name}": {
                                        "id": "ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.DELETE..subscription.{userId}.{type}.{name}",
                                        "path": "CloudMoviesStack/moviesApi/Default/subscription/{userId}/{type}/{name}/DELETE/ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.DELETE..subscription.{userId}.{type}.{name}",
                                        "attributes": {
                                          "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                                          "aws:cdk:cloudformation:props": {
                                            "action": "lambda:InvokeFunction",
                                            "functionName": {
                                              "Fn::GetAtt": [
                                                "unsubscribeLambdaF210435A",
                                                "Arn"
                                              ]
                                            },
                                            "principal": "apigateway.amazonaws.com",
                                            "sourceArn": {
                                              "Fn::Join": [
                                                "",
                                                [
                                                  "arn:",
                                                  {
                                                    "Ref": "AWS::Partition"
                                                  },
                                                  ":execute-api:",
                                                  {
                                                    "Ref": "AWS::Region"
                                                  },
                                                  ":",
                                                  {
                                                    "Ref": "AWS::AccountId"
                                                  },
                                                  ":",
                                                  {
                                                    "Ref": "moviesApi63300285"
                                                  },
                                                  "/",
                                                  {
                                                    "Ref": "moviesApiDeploymentStageprod986CD890"
                                                  },
                                                  "/DELETE/subscription/*/*/*"
                                                ]
                                              ]
                                            }
                                          }
                                        },
                                        "constructInfo": {
                                          "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                                          "version": "2.142.1"
                                        }
                                      },
                                      "ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.DELETE..subscription.{userId}.{type}.{name}": {
                                        "id": "ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.DELETE..subscription.{userId}.{type}.{name}",
                                        "path": "CloudMoviesStack/moviesApi/Default/subscription/{userId}/{type}/{name}/DELETE/ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.DELETE..subscription.{userId}.{type}.{name}",
                                        "attributes": {
                                          "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                                          "aws:cdk:cloudformation:props": {
                                            "action": "lambda:InvokeFunction",
                                            "functionName": {
                                              "Fn::GetAtt": [
                                                "unsubscribeLambdaF210435A",
                                                "Arn"
                                              ]
                                            },
                                            "principal": "apigateway.amazonaws.com",
                                            "sourceArn": {
                                              "Fn::Join": [
                                                "",
                                                [
                                                  "arn:",
                                                  {
                                                    "Ref": "AWS::Partition"
                                                  },
                                                  ":execute-api:",
                                                  {
                                                    "Ref": "AWS::Region"
                                                  },
                                                  ":",
                                                  {
                                                    "Ref": "AWS::AccountId"
                                                  },
                                                  ":",
                                                  {
                                                    "Ref": "moviesApi63300285"
                                                  },
                                                  "/test-invoke-stage/DELETE/subscription/*/*/*"
                                                ]
                                              ]
                                            }
                                          }
                                        },
                                        "constructInfo": {
                                          "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                                          "version": "2.142.1"
                                        }
                                      },
                                      "Resource": {
                                        "id": "Resource",
                                        "path": "CloudMoviesStack/moviesApi/Default/subscription/{userId}/{type}/{name}/DELETE/Resource",
                                        "attributes": {
                                          "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                                          "aws:cdk:cloudformation:props": {
                                            "authorizationType": "CUSTOM",
                                            "authorizerId": {
                                              "Ref": "CustomAuthorizerC8102921"
                                            },
                                            "httpMethod": "DELETE",
                                            "integration": {
                                              "type": "AWS_PROXY",
                                              "uri": {
                                                "Fn::Join": [
                                                  "",
                                                  [
                                                    "arn:",
                                                    {
                                                      "Ref": "AWS::Partition"
                                                    },
                                                    ":apigateway:",
                                                    {
                                                      "Ref": "AWS::Region"
                                                    },
                                                    ":lambda:path/2015-03-31/functions/",
                                                    {
                                                      "Fn::GetAtt": [
                                                        "unsubscribeLambdaF210435A",
                                                        "Arn"
                                                      ]
                                                    },
                                                    "/invocations"
                                                  ]
                                                ]
                                              },
                                              "integrationHttpMethod": "POST"
                                            },
                                            "resourceId": {
                                              "Ref": "moviesApisubscriptionuserIdtypename702EFD8F"
                                            },
                                            "restApiId": {
                                              "Ref": "moviesApi63300285"
                                            }
                                          }
                                        },
                                        "constructInfo": {
                                          "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                                          "version": "2.142.1"
                                        }
                                      }
                                    },
                                    "constructInfo": {
                                      "fqn": "aws-cdk-lib.aws_apigateway.Method",
                                      "version": "2.142.1"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_apigateway.Resource",
                                  "version": "2.142.1"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.Resource",
                              "version": "2.142.1"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_apigateway.Resource",
                          "version": "2.142.1"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_apigateway.Resource",
                      "version": "2.142.1"
                    }
                  },
                  "ratings": {
                    "id": "ratings",
                    "path": "CloudMoviesStack/moviesApi/Default/ratings",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "CloudMoviesStack/moviesApi/Default/ratings/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::ApiGateway::Resource",
                          "aws:cdk:cloudformation:props": {
                            "parentId": {
                              "Fn::GetAtt": [
                                "moviesApi63300285",
                                "RootResourceId"
                              ]
                            },
                            "pathPart": "ratings",
                            "restApiId": {
                              "Ref": "moviesApi63300285"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_apigateway.CfnResource",
                          "version": "2.142.1"
                        }
                      },
                      "OPTIONS": {
                        "id": "OPTIONS",
                        "path": "CloudMoviesStack/moviesApi/Default/ratings/OPTIONS",
                        "children": {
                          "Resource": {
                            "id": "Resource",
                            "path": "CloudMoviesStack/moviesApi/Default/ratings/OPTIONS/Resource",
                            "attributes": {
                              "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                              "aws:cdk:cloudformation:props": {
                                "apiKeyRequired": false,
                                "authorizationType": "NONE",
                                "httpMethod": "OPTIONS",
                                "integration": {
                                  "type": "MOCK",
                                  "requestTemplates": {
                                    "application/json": "{ statusCode: 200 }"
                                  },
                                  "integrationResponses": [
                                    {
                                      "statusCode": "204",
                                      "responseParameters": {
                                        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                                        "method.response.header.Access-Control-Allow-Origin": "'*'",
                                        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
                                      }
                                    }
                                  ]
                                },
                                "methodResponses": [
                                  {
                                    "statusCode": "204",
                                    "responseParameters": {
                                      "method.response.header.Access-Control-Allow-Headers": true,
                                      "method.response.header.Access-Control-Allow-Origin": true,
                                      "method.response.header.Access-Control-Allow-Methods": true
                                    }
                                  }
                                ],
                                "resourceId": {
                                  "Ref": "moviesApiratings8810C690"
                                },
                                "restApiId": {
                                  "Ref": "moviesApi63300285"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                              "version": "2.142.1"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_apigateway.Method",
                          "version": "2.142.1"
                        }
                      },
                      "{user_id}": {
                        "id": "{user_id}",
                        "path": "CloudMoviesStack/moviesApi/Default/ratings/{user_id}",
                        "children": {
                          "Resource": {
                            "id": "Resource",
                            "path": "CloudMoviesStack/moviesApi/Default/ratings/{user_id}/Resource",
                            "attributes": {
                              "aws:cdk:cloudformation:type": "AWS::ApiGateway::Resource",
                              "aws:cdk:cloudformation:props": {
                                "parentId": {
                                  "Ref": "moviesApiratings8810C690"
                                },
                                "pathPart": "{user_id}",
                                "restApiId": {
                                  "Ref": "moviesApi63300285"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.CfnResource",
                              "version": "2.142.1"
                            }
                          },
                          "OPTIONS": {
                            "id": "OPTIONS",
                            "path": "CloudMoviesStack/moviesApi/Default/ratings/{user_id}/OPTIONS",
                            "children": {
                              "Resource": {
                                "id": "Resource",
                                "path": "CloudMoviesStack/moviesApi/Default/ratings/{user_id}/OPTIONS/Resource",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                                  "aws:cdk:cloudformation:props": {
                                    "apiKeyRequired": false,
                                    "authorizationType": "NONE",
                                    "httpMethod": "OPTIONS",
                                    "integration": {
                                      "type": "MOCK",
                                      "requestTemplates": {
                                        "application/json": "{ statusCode: 200 }"
                                      },
                                      "integrationResponses": [
                                        {
                                          "statusCode": "204",
                                          "responseParameters": {
                                            "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                                            "method.response.header.Access-Control-Allow-Origin": "'*'",
                                            "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
                                          }
                                        }
                                      ]
                                    },
                                    "methodResponses": [
                                      {
                                        "statusCode": "204",
                                        "responseParameters": {
                                          "method.response.header.Access-Control-Allow-Headers": true,
                                          "method.response.header.Access-Control-Allow-Origin": true,
                                          "method.response.header.Access-Control-Allow-Methods": true
                                        }
                                      }
                                    ],
                                    "resourceId": {
                                      "Ref": "moviesApiratingsuserid66DBEAA9"
                                    },
                                    "restApiId": {
                                      "Ref": "moviesApi63300285"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                                  "version": "2.142.1"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.Method",
                              "version": "2.142.1"
                            }
                          },
                          "POST": {
                            "id": "POST",
                            "path": "CloudMoviesStack/moviesApi/Default/ratings/{user_id}/POST",
                            "children": {
                              "ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.POST..ratings.{user_id}": {
                                "id": "ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.POST..ratings.{user_id}",
                                "path": "CloudMoviesStack/moviesApi/Default/ratings/{user_id}/POST/ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.POST..ratings.{user_id}",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                                  "aws:cdk:cloudformation:props": {
                                    "action": "lambda:InvokeFunction",
                                    "functionName": {
                                      "Fn::GetAtt": [
                                        "rateContentLambdaF55611D1",
                                        "Arn"
                                      ]
                                    },
                                    "principal": "apigateway.amazonaws.com",
                                    "sourceArn": {
                                      "Fn::Join": [
                                        "",
                                        [
                                          "arn:",
                                          {
                                            "Ref": "AWS::Partition"
                                          },
                                          ":execute-api:",
                                          {
                                            "Ref": "AWS::Region"
                                          },
                                          ":",
                                          {
                                            "Ref": "AWS::AccountId"
                                          },
                                          ":",
                                          {
                                            "Ref": "moviesApi63300285"
                                          },
                                          "/",
                                          {
                                            "Ref": "moviesApiDeploymentStageprod986CD890"
                                          },
                                          "/POST/ratings/*"
                                        ]
                                      ]
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                                  "version": "2.142.1"
                                }
                              },
                              "ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.POST..ratings.{user_id}": {
                                "id": "ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.POST..ratings.{user_id}",
                                "path": "CloudMoviesStack/moviesApi/Default/ratings/{user_id}/POST/ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.POST..ratings.{user_id}",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                                  "aws:cdk:cloudformation:props": {
                                    "action": "lambda:InvokeFunction",
                                    "functionName": {
                                      "Fn::GetAtt": [
                                        "rateContentLambdaF55611D1",
                                        "Arn"
                                      ]
                                    },
                                    "principal": "apigateway.amazonaws.com",
                                    "sourceArn": {
                                      "Fn::Join": [
                                        "",
                                        [
                                          "arn:",
                                          {
                                            "Ref": "AWS::Partition"
                                          },
                                          ":execute-api:",
                                          {
                                            "Ref": "AWS::Region"
                                          },
                                          ":",
                                          {
                                            "Ref": "AWS::AccountId"
                                          },
                                          ":",
                                          {
                                            "Ref": "moviesApi63300285"
                                          },
                                          "/test-invoke-stage/POST/ratings/*"
                                        ]
                                      ]
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                                  "version": "2.142.1"
                                }
                              },
                              "Resource": {
                                "id": "Resource",
                                "path": "CloudMoviesStack/moviesApi/Default/ratings/{user_id}/POST/Resource",
                                "attributes": {
                                  "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                                  "aws:cdk:cloudformation:props": {
                                    "authorizationType": "CUSTOM",
                                    "authorizerId": {
                                      "Ref": "CustomAuthorizerC8102921"
                                    },
                                    "httpMethod": "POST",
                                    "integration": {
                                      "type": "AWS_PROXY",
                                      "uri": {
                                        "Fn::Join": [
                                          "",
                                          [
                                            "arn:",
                                            {
                                              "Ref": "AWS::Partition"
                                            },
                                            ":apigateway:",
                                            {
                                              "Ref": "AWS::Region"
                                            },
                                            ":lambda:path/2015-03-31/functions/",
                                            {
                                              "Fn::GetAtt": [
                                                "rateContentLambdaF55611D1",
                                                "Arn"
                                              ]
                                            },
                                            "/invocations"
                                          ]
                                        ]
                                      },
                                      "integrationHttpMethod": "POST"
                                    },
                                    "resourceId": {
                                      "Ref": "moviesApiratingsuserid66DBEAA9"
                                    },
                                    "restApiId": {
                                      "Ref": "moviesApi63300285"
                                    }
                                  }
                                },
                                "constructInfo": {
                                  "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                                  "version": "2.142.1"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.Method",
                              "version": "2.142.1"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_apigateway.Resource",
                          "version": "2.142.1"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_apigateway.Resource",
                      "version": "2.142.1"
                    }
                  },
                  "upload": {
                    "id": "upload",
                    "path": "CloudMoviesStack/moviesApi/Default/upload",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "CloudMoviesStack/moviesApi/Default/upload/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::ApiGateway::Resource",
                          "aws:cdk:cloudformation:props": {
                            "parentId": {
                              "Fn::GetAtt": [
                                "moviesApi63300285",
                                "RootResourceId"
                              ]
                            },
                            "pathPart": "upload",
                            "restApiId": {
                              "Ref": "moviesApi63300285"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_apigateway.CfnResource",
                          "version": "2.142.1"
                        }
                      },
                      "OPTIONS": {
                        "id": "OPTIONS",
                        "path": "CloudMoviesStack/moviesApi/Default/upload/OPTIONS",
                        "children": {
                          "Resource": {
                            "id": "Resource",
                            "path": "CloudMoviesStack/moviesApi/Default/upload/OPTIONS/Resource",
                            "attributes": {
                              "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                              "aws:cdk:cloudformation:props": {
                                "apiKeyRequired": false,
                                "authorizationType": "NONE",
                                "httpMethod": "OPTIONS",
                                "integration": {
                                  "type": "MOCK",
                                  "requestTemplates": {
                                    "application/json": "{ statusCode: 200 }"
                                  },
                                  "integrationResponses": [
                                    {
                                      "statusCode": "204",
                                      "responseParameters": {
                                        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                                        "method.response.header.Access-Control-Allow-Origin": "'*'",
                                        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
                                      }
                                    }
                                  ]
                                },
                                "methodResponses": [
                                  {
                                    "statusCode": "204",
                                    "responseParameters": {
                                      "method.response.header.Access-Control-Allow-Headers": true,
                                      "method.response.header.Access-Control-Allow-Origin": true,
                                      "method.response.header.Access-Control-Allow-Methods": true
                                    }
                                  }
                                ],
                                "resourceId": {
                                  "Ref": "moviesApiupload4C057A87"
                                },
                                "restApiId": {
                                  "Ref": "moviesApi63300285"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                              "version": "2.142.1"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_apigateway.Method",
                          "version": "2.142.1"
                        }
                      },
                      "GET": {
                        "id": "GET",
                        "path": "CloudMoviesStack/moviesApi/Default/upload/GET",
                        "children": {
                          "ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.GET..upload": {
                            "id": "ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.GET..upload",
                            "path": "CloudMoviesStack/moviesApi/Default/upload/GET/ApiPermission.CloudMoviesStackmoviesApi4BD0D74D.GET..upload",
                            "attributes": {
                              "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                              "aws:cdk:cloudformation:props": {
                                "action": "lambda:InvokeFunction",
                                "functionName": {
                                  "Fn::GetAtt": [
                                    "uploadVideoLambda44F7DE58",
                                    "Arn"
                                  ]
                                },
                                "principal": "apigateway.amazonaws.com",
                                "sourceArn": {
                                  "Fn::Join": [
                                    "",
                                    [
                                      "arn:",
                                      {
                                        "Ref": "AWS::Partition"
                                      },
                                      ":execute-api:",
                                      {
                                        "Ref": "AWS::Region"
                                      },
                                      ":",
                                      {
                                        "Ref": "AWS::AccountId"
                                      },
                                      ":",
                                      {
                                        "Ref": "moviesApi63300285"
                                      },
                                      "/",
                                      {
                                        "Ref": "moviesApiDeploymentStageprod986CD890"
                                      },
                                      "/GET/upload"
                                    ]
                                  ]
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                              "version": "2.142.1"
                            }
                          },
                          "ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.GET..upload": {
                            "id": "ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.GET..upload",
                            "path": "CloudMoviesStack/moviesApi/Default/upload/GET/ApiPermission.Test.CloudMoviesStackmoviesApi4BD0D74D.GET..upload",
                            "attributes": {
                              "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                              "aws:cdk:cloudformation:props": {
                                "action": "lambda:InvokeFunction",
                                "functionName": {
                                  "Fn::GetAtt": [
                                    "uploadVideoLambda44F7DE58",
                                    "Arn"
                                  ]
                                },
                                "principal": "apigateway.amazonaws.com",
                                "sourceArn": {
                                  "Fn::Join": [
                                    "",
                                    [
                                      "arn:",
                                      {
                                        "Ref": "AWS::Partition"
                                      },
                                      ":execute-api:",
                                      {
                                        "Ref": "AWS::Region"
                                      },
                                      ":",
                                      {
                                        "Ref": "AWS::AccountId"
                                      },
                                      ":",
                                      {
                                        "Ref": "moviesApi63300285"
                                      },
                                      "/test-invoke-stage/GET/upload"
                                    ]
                                  ]
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                              "version": "2.142.1"
                            }
                          },
                          "Resource": {
                            "id": "Resource",
                            "path": "CloudMoviesStack/moviesApi/Default/upload/GET/Resource",
                            "attributes": {
                              "aws:cdk:cloudformation:type": "AWS::ApiGateway::Method",
                              "aws:cdk:cloudformation:props": {
                                "authorizationType": "CUSTOM",
                                "authorizerId": {
                                  "Ref": "CustomAuthorizerC8102921"
                                },
                                "httpMethod": "GET",
                                "integration": {
                                  "type": "AWS_PROXY",
                                  "uri": {
                                    "Fn::Join": [
                                      "",
                                      [
                                        "arn:",
                                        {
                                          "Ref": "AWS::Partition"
                                        },
                                        ":apigateway:",
                                        {
                                          "Ref": "AWS::Region"
                                        },
                                        ":lambda:path/2015-03-31/functions/",
                                        {
                                          "Fn::GetAtt": [
                                            "uploadVideoLambda44F7DE58",
                                            "Arn"
                                          ]
                                        },
                                        "/invocations"
                                      ]
                                    ]
                                  },
                                  "integrationHttpMethod": "POST"
                                },
                                "resourceId": {
                                  "Ref": "moviesApiupload4C057A87"
                                },
                                "restApiId": {
                                  "Ref": "moviesApi63300285"
                                }
                              }
                            },
                            "constructInfo": {
                              "fqn": "aws-cdk-lib.aws_apigateway.CfnMethod",
                              "version": "2.142.1"
                            }
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_apigateway.Method",
                          "version": "2.142.1"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_apigateway.Resource",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_apigateway.ResourceBase",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_apigateway.RestApi",
              "version": "2.142.1"
            }
          },
          "getSeasonsDetailsLambda": {
            "id": "getSeasonsDetailsLambda",
            "path": "CloudMoviesStack/getSeasonsDetailsLambda",
            "children": {
              "ServiceRole": {
                "id": "ServiceRole",
                "path": "CloudMoviesStack/getSeasonsDetailsLambda/ServiceRole",
                "children": {
                  "ImportServiceRole": {
                    "id": "ImportServiceRole",
                    "path": "CloudMoviesStack/getSeasonsDetailsLambda/ServiceRole/ImportServiceRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.142.1"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/getSeasonsDetailsLambda/ServiceRole/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "lambda.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "managedPolicyArns": [
                          {
                            "Fn::Join": [
                              "",
                              [
                                "arn:",
                                {
                                  "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                              ]
                            ]
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.142.1"
                    }
                  },
                  "DefaultPolicy": {
                    "id": "DefaultPolicy",
                    "path": "CloudMoviesStack/getSeasonsDetailsLambda/ServiceRole/DefaultPolicy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "CloudMoviesStack/getSeasonsDetailsLambda/ServiceRole/DefaultPolicy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                          "aws:cdk:cloudformation:props": {
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": [
                                    "dynamodb:BatchGetItem",
                                    "dynamodb:ConditionCheckItem",
                                    "dynamodb:DescribeTable",
                                    "dynamodb:GetItem",
                                    "dynamodb:GetRecords",
                                    "dynamodb:GetShardIterator",
                                    "dynamodb:Query",
                                    "dynamodb:Scan"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "videosTableBCC40D2B",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          {
                                            "Fn::GetAtt": [
                                              "videosTableBCC40D2B",
                                              "Arn"
                                            ]
                                          },
                                          "/index/*"
                                        ]
                                      ]
                                    }
                                  ]
                                }
                              ],
                              "Version": "2012-10-17"
                            },
                            "policyName": "getSeasonsDetailsLambdaServiceRoleDefaultPolicy7CA9C367",
                            "roles": [
                              {
                                "Ref": "getSeasonsDetailsLambdaServiceRole57C5577D"
                              }
                            ]
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                          "version": "2.142.1"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Policy",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.142.1"
                }
              },
              "Code": {
                "id": "Code",
                "path": "CloudMoviesStack/getSeasonsDetailsLambda/Code",
                "children": {
                  "Stage": {
                    "id": "Stage",
                    "path": "CloudMoviesStack/getSeasonsDetailsLambda/Code/Stage",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.AssetStaging",
                      "version": "2.142.1"
                    }
                  },
                  "AssetBucket": {
                    "id": "AssetBucket",
                    "path": "CloudMoviesStack/getSeasonsDetailsLambda/Code/AssetBucket",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                  "version": "2.142.1"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/getSeasonsDetailsLambda/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                  "aws:cdk:cloudformation:props": {
                    "code": {
                      "s3Bucket": {
                        "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
                      },
                      "s3Key": "bbb3d5da4b001d0e5af526d10d89ccf843e89c1ba5754d713722fe7b858ba879.zip"
                    },
                    "environment": {
                      "variables": {
                        "VIDEOS_TABLE": {
                          "Ref": "videosTableBCC40D2B"
                        }
                      }
                    },
                    "handler": "get_seasons_details.handler",
                    "memorySize": 128,
                    "role": {
                      "Fn::GetAtt": [
                        "getSeasonsDetailsLambdaServiceRole57C5577D",
                        "Arn"
                      ]
                    },
                    "runtime": "python3.9",
                    "timeout": 10
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_lambda.Function",
              "version": "2.142.1"
            }
          },
          "getEpisodeDetailsLambda": {
            "id": "getEpisodeDetailsLambda",
            "path": "CloudMoviesStack/getEpisodeDetailsLambda",
            "children": {
              "ServiceRole": {
                "id": "ServiceRole",
                "path": "CloudMoviesStack/getEpisodeDetailsLambda/ServiceRole",
                "children": {
                  "ImportServiceRole": {
                    "id": "ImportServiceRole",
                    "path": "CloudMoviesStack/getEpisodeDetailsLambda/ServiceRole/ImportServiceRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.142.1"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/getEpisodeDetailsLambda/ServiceRole/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "lambda.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "managedPolicyArns": [
                          {
                            "Fn::Join": [
                              "",
                              [
                                "arn:",
                                {
                                  "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                              ]
                            ]
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.142.1"
                    }
                  },
                  "DefaultPolicy": {
                    "id": "DefaultPolicy",
                    "path": "CloudMoviesStack/getEpisodeDetailsLambda/ServiceRole/DefaultPolicy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "CloudMoviesStack/getEpisodeDetailsLambda/ServiceRole/DefaultPolicy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                          "aws:cdk:cloudformation:props": {
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": [
                                    "dynamodb:BatchGetItem",
                                    "dynamodb:ConditionCheckItem",
                                    "dynamodb:DescribeTable",
                                    "dynamodb:GetItem",
                                    "dynamodb:GetRecords",
                                    "dynamodb:GetShardIterator",
                                    "dynamodb:Query",
                                    "dynamodb:Scan"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "videosTableBCC40D2B",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          {
                                            "Fn::GetAtt": [
                                              "videosTableBCC40D2B",
                                              "Arn"
                                            ]
                                          },
                                          "/index/*"
                                        ]
                                      ]
                                    }
                                  ]
                                }
                              ],
                              "Version": "2012-10-17"
                            },
                            "policyName": "getEpisodeDetailsLambdaServiceRoleDefaultPolicyF281FC65",
                            "roles": [
                              {
                                "Ref": "getEpisodeDetailsLambdaServiceRole4EDAC85E"
                              }
                            ]
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                          "version": "2.142.1"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Policy",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.142.1"
                }
              },
              "Code": {
                "id": "Code",
                "path": "CloudMoviesStack/getEpisodeDetailsLambda/Code",
                "children": {
                  "Stage": {
                    "id": "Stage",
                    "path": "CloudMoviesStack/getEpisodeDetailsLambda/Code/Stage",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.AssetStaging",
                      "version": "2.142.1"
                    }
                  },
                  "AssetBucket": {
                    "id": "AssetBucket",
                    "path": "CloudMoviesStack/getEpisodeDetailsLambda/Code/AssetBucket",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                  "version": "2.142.1"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/getEpisodeDetailsLambda/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                  "aws:cdk:cloudformation:props": {
                    "code": {
                      "s3Bucket": {
                        "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
                      },
                      "s3Key": "4b9653d8e02f9314bc13c1f3068b778c0467e8554b1da714e9150ca4f07ab4bd.zip"
                    },
                    "environment": {
                      "variables": {
                        "VIDEOS_TABLE": {
                          "Ref": "videosTableBCC40D2B"
                        }
                      }
                    },
                    "handler": "get_episode_details.handler",
                    "memorySize": 128,
                    "role": {
                      "Fn::GetAtt": [
                        "getEpisodeDetailsLambdaServiceRole4EDAC85E",
                        "Arn"
                      ]
                    },
                    "runtime": "python3.9",
                    "timeout": 10
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_lambda.Function",
              "version": "2.142.1"
            }
          },
          "createShowLambda": {
            "id": "createShowLambda",
            "path": "CloudMoviesStack/createShowLambda",
            "children": {
              "ServiceRole": {
                "id": "ServiceRole",
                "path": "CloudMoviesStack/createShowLambda/ServiceRole",
                "children": {
                  "ImportServiceRole": {
                    "id": "ImportServiceRole",
                    "path": "CloudMoviesStack/createShowLambda/ServiceRole/ImportServiceRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.142.1"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/createShowLambda/ServiceRole/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "lambda.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "managedPolicyArns": [
                          {
                            "Fn::Join": [
                              "",
                              [
                                "arn:",
                                {
                                  "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                              ]
                            ]
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.142.1"
                    }
                  },
                  "DefaultPolicy": {
                    "id": "DefaultPolicy",
                    "path": "CloudMoviesStack/createShowLambda/ServiceRole/DefaultPolicy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "CloudMoviesStack/createShowLambda/ServiceRole/DefaultPolicy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                          "aws:cdk:cloudformation:props": {
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": [
                                    "dynamodb:BatchGetItem",
                                    "dynamodb:BatchWriteItem",
                                    "dynamodb:ConditionCheckItem",
                                    "dynamodb:DeleteItem",
                                    "dynamodb:DescribeTable",
                                    "dynamodb:GetItem",
                                    "dynamodb:GetRecords",
                                    "dynamodb:GetShardIterator",
                                    "dynamodb:PutItem",
                                    "dynamodb:Query",
                                    "dynamodb:Scan",
                                    "dynamodb:UpdateItem"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "videosTableBCC40D2B",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          {
                                            "Fn::GetAtt": [
                                              "videosTableBCC40D2B",
                                              "Arn"
                                            ]
                                          },
                                          "/index/*"
                                        ]
                                      ]
                                    }
                                  ]
                                }
                              ],
                              "Version": "2012-10-17"
                            },
                            "policyName": "createShowLambdaServiceRoleDefaultPolicy1E2158A5",
                            "roles": [
                              {
                                "Ref": "createShowLambdaServiceRoleB610ADA4"
                              }
                            ]
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                          "version": "2.142.1"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Policy",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.142.1"
                }
              },
              "Code": {
                "id": "Code",
                "path": "CloudMoviesStack/createShowLambda/Code",
                "children": {
                  "Stage": {
                    "id": "Stage",
                    "path": "CloudMoviesStack/createShowLambda/Code/Stage",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.AssetStaging",
                      "version": "2.142.1"
                    }
                  },
                  "AssetBucket": {
                    "id": "AssetBucket",
                    "path": "CloudMoviesStack/createShowLambda/Code/AssetBucket",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                  "version": "2.142.1"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/createShowLambda/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                  "aws:cdk:cloudformation:props": {
                    "code": {
                      "s3Bucket": {
                        "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
                      },
                      "s3Key": "04d108dbbcf8db637f13d2a3877fe04956e8557290744f0a5b8046ced6e482bc.zip"
                    },
                    "environment": {
                      "variables": {
                        "VIDEOS_TABLE": {
                          "Ref": "videosTableBCC40D2B"
                        }
                      }
                    },
                    "handler": "create_show.handler",
                    "memorySize": 128,
                    "role": {
                      "Fn::GetAtt": [
                        "createShowLambdaServiceRoleB610ADA4",
                        "Arn"
                      ]
                    },
                    "runtime": "python3.9",
                    "timeout": 10
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_lambda.Function",
              "version": "2.142.1"
            }
          },
          "createSeasonLambda": {
            "id": "createSeasonLambda",
            "path": "CloudMoviesStack/createSeasonLambda",
            "children": {
              "ServiceRole": {
                "id": "ServiceRole",
                "path": "CloudMoviesStack/createSeasonLambda/ServiceRole",
                "children": {
                  "ImportServiceRole": {
                    "id": "ImportServiceRole",
                    "path": "CloudMoviesStack/createSeasonLambda/ServiceRole/ImportServiceRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.142.1"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/createSeasonLambda/ServiceRole/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "lambda.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "managedPolicyArns": [
                          {
                            "Fn::Join": [
                              "",
                              [
                                "arn:",
                                {
                                  "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                              ]
                            ]
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.142.1"
                    }
                  },
                  "DefaultPolicy": {
                    "id": "DefaultPolicy",
                    "path": "CloudMoviesStack/createSeasonLambda/ServiceRole/DefaultPolicy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "CloudMoviesStack/createSeasonLambda/ServiceRole/DefaultPolicy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                          "aws:cdk:cloudformation:props": {
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": [
                                    "dynamodb:BatchGetItem",
                                    "dynamodb:BatchWriteItem",
                                    "dynamodb:ConditionCheckItem",
                                    "dynamodb:DeleteItem",
                                    "dynamodb:DescribeTable",
                                    "dynamodb:GetItem",
                                    "dynamodb:GetRecords",
                                    "dynamodb:GetShardIterator",
                                    "dynamodb:PutItem",
                                    "dynamodb:Query",
                                    "dynamodb:Scan",
                                    "dynamodb:UpdateItem"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "videosTableBCC40D2B",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          {
                                            "Fn::GetAtt": [
                                              "videosTableBCC40D2B",
                                              "Arn"
                                            ]
                                          },
                                          "/index/*"
                                        ]
                                      ]
                                    }
                                  ]
                                }
                              ],
                              "Version": "2012-10-17"
                            },
                            "policyName": "createSeasonLambdaServiceRoleDefaultPolicyE5AB1EC8",
                            "roles": [
                              {
                                "Ref": "createSeasonLambdaServiceRole7234FCF8"
                              }
                            ]
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                          "version": "2.142.1"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Policy",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.142.1"
                }
              },
              "Code": {
                "id": "Code",
                "path": "CloudMoviesStack/createSeasonLambda/Code",
                "children": {
                  "Stage": {
                    "id": "Stage",
                    "path": "CloudMoviesStack/createSeasonLambda/Code/Stage",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.AssetStaging",
                      "version": "2.142.1"
                    }
                  },
                  "AssetBucket": {
                    "id": "AssetBucket",
                    "path": "CloudMoviesStack/createSeasonLambda/Code/AssetBucket",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                  "version": "2.142.1"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/createSeasonLambda/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                  "aws:cdk:cloudformation:props": {
                    "code": {
                      "s3Bucket": {
                        "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
                      },
                      "s3Key": "e96491383c3ef490f5a12570c94c5e56b627a74535e72c966a18e62b7fb1f0c3.zip"
                    },
                    "environment": {
                      "variables": {
                        "VIDEOS_TABLE": {
                          "Ref": "videosTableBCC40D2B"
                        }
                      }
                    },
                    "handler": "create_season.handler",
                    "memorySize": 128,
                    "role": {
                      "Fn::GetAtt": [
                        "createSeasonLambdaServiceRole7234FCF8",
                        "Arn"
                      ]
                    },
                    "runtime": "python3.9",
                    "timeout": 10
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_lambda.Function",
              "version": "2.142.1"
            }
          },
          "editDetailsLambda": {
            "id": "editDetailsLambda",
            "path": "CloudMoviesStack/editDetailsLambda",
            "children": {
              "ServiceRole": {
                "id": "ServiceRole",
                "path": "CloudMoviesStack/editDetailsLambda/ServiceRole",
                "children": {
                  "ImportServiceRole": {
                    "id": "ImportServiceRole",
                    "path": "CloudMoviesStack/editDetailsLambda/ServiceRole/ImportServiceRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.142.1"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/editDetailsLambda/ServiceRole/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "lambda.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "managedPolicyArns": [
                          {
                            "Fn::Join": [
                              "",
                              [
                                "arn:",
                                {
                                  "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                              ]
                            ]
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.142.1"
                    }
                  },
                  "DefaultPolicy": {
                    "id": "DefaultPolicy",
                    "path": "CloudMoviesStack/editDetailsLambda/ServiceRole/DefaultPolicy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "CloudMoviesStack/editDetailsLambda/ServiceRole/DefaultPolicy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                          "aws:cdk:cloudformation:props": {
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": [
                                    "dynamodb:BatchGetItem",
                                    "dynamodb:BatchWriteItem",
                                    "dynamodb:ConditionCheckItem",
                                    "dynamodb:DeleteItem",
                                    "dynamodb:DescribeTable",
                                    "dynamodb:GetItem",
                                    "dynamodb:GetRecords",
                                    "dynamodb:GetShardIterator",
                                    "dynamodb:PutItem",
                                    "dynamodb:Query",
                                    "dynamodb:Scan",
                                    "dynamodb:UpdateItem"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "videosTableBCC40D2B",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          {
                                            "Fn::GetAtt": [
                                              "videosTableBCC40D2B",
                                              "Arn"
                                            ]
                                          },
                                          "/index/*"
                                        ]
                                      ]
                                    }
                                  ]
                                }
                              ],
                              "Version": "2012-10-17"
                            },
                            "policyName": "editDetailsLambdaServiceRoleDefaultPolicy4BA15104",
                            "roles": [
                              {
                                "Ref": "editDetailsLambdaServiceRole1AFC67A8"
                              }
                            ]
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                          "version": "2.142.1"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Policy",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.142.1"
                }
              },
              "Code": {
                "id": "Code",
                "path": "CloudMoviesStack/editDetailsLambda/Code",
                "children": {
                  "Stage": {
                    "id": "Stage",
                    "path": "CloudMoviesStack/editDetailsLambda/Code/Stage",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.AssetStaging",
                      "version": "2.142.1"
                    }
                  },
                  "AssetBucket": {
                    "id": "AssetBucket",
                    "path": "CloudMoviesStack/editDetailsLambda/Code/AssetBucket",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                  "version": "2.142.1"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/editDetailsLambda/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                  "aws:cdk:cloudformation:props": {
                    "code": {
                      "s3Bucket": {
                        "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
                      },
                      "s3Key": "aed09bbed6c063810c9a5a7755e1b317d16d0c74bb1a31d96d8fa2b9a5f02c3f.zip"
                    },
                    "environment": {
                      "variables": {
                        "VIDEOS_TABLE": {
                          "Ref": "videosTableBCC40D2B"
                        }
                      }
                    },
                    "handler": "edit_details.handler",
                    "memorySize": 128,
                    "role": {
                      "Fn::GetAtt": [
                        "editDetailsLambdaServiceRole1AFC67A8",
                        "Arn"
                      ]
                    },
                    "runtime": "python3.9",
                    "timeout": 10
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_lambda.Function",
              "version": "2.142.1"
            }
          },
          "editEpisodeLambda": {
            "id": "editEpisodeLambda",
            "path": "CloudMoviesStack/editEpisodeLambda",
            "children": {
              "ServiceRole": {
                "id": "ServiceRole",
                "path": "CloudMoviesStack/editEpisodeLambda/ServiceRole",
                "children": {
                  "ImportServiceRole": {
                    "id": "ImportServiceRole",
                    "path": "CloudMoviesStack/editEpisodeLambda/ServiceRole/ImportServiceRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.142.1"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/editEpisodeLambda/ServiceRole/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "lambda.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "managedPolicyArns": [
                          {
                            "Fn::Join": [
                              "",
                              [
                                "arn:",
                                {
                                  "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                              ]
                            ]
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.142.1"
                    }
                  },
                  "DefaultPolicy": {
                    "id": "DefaultPolicy",
                    "path": "CloudMoviesStack/editEpisodeLambda/ServiceRole/DefaultPolicy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "CloudMoviesStack/editEpisodeLambda/ServiceRole/DefaultPolicy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                          "aws:cdk:cloudformation:props": {
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": [
                                    "dynamodb:BatchGetItem",
                                    "dynamodb:BatchWriteItem",
                                    "dynamodb:ConditionCheckItem",
                                    "dynamodb:DeleteItem",
                                    "dynamodb:DescribeTable",
                                    "dynamodb:GetItem",
                                    "dynamodb:GetRecords",
                                    "dynamodb:GetShardIterator",
                                    "dynamodb:PutItem",
                                    "dynamodb:Query",
                                    "dynamodb:Scan",
                                    "dynamodb:UpdateItem"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "videosTableBCC40D2B",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          {
                                            "Fn::GetAtt": [
                                              "videosTableBCC40D2B",
                                              "Arn"
                                            ]
                                          },
                                          "/index/*"
                                        ]
                                      ]
                                    }
                                  ]
                                }
                              ],
                              "Version": "2012-10-17"
                            },
                            "policyName": "editEpisodeLambdaServiceRoleDefaultPolicyD62A0672",
                            "roles": [
                              {
                                "Ref": "editEpisodeLambdaServiceRoleBF877A38"
                              }
                            ]
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                          "version": "2.142.1"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Policy",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.142.1"
                }
              },
              "Code": {
                "id": "Code",
                "path": "CloudMoviesStack/editEpisodeLambda/Code",
                "children": {
                  "Stage": {
                    "id": "Stage",
                    "path": "CloudMoviesStack/editEpisodeLambda/Code/Stage",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.AssetStaging",
                      "version": "2.142.1"
                    }
                  },
                  "AssetBucket": {
                    "id": "AssetBucket",
                    "path": "CloudMoviesStack/editEpisodeLambda/Code/AssetBucket",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                  "version": "2.142.1"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/editEpisodeLambda/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                  "aws:cdk:cloudformation:props": {
                    "code": {
                      "s3Bucket": {
                        "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
                      },
                      "s3Key": "3a46e12fa067a01e1a86c1cd0da24226a950d0dd05e490882760c57ecc0f51a5.zip"
                    },
                    "environment": {
                      "variables": {
                        "VIDEOS_TABLE": {
                          "Ref": "videosTableBCC40D2B"
                        }
                      }
                    },
                    "handler": "edit_episode.handler",
                    "memorySize": 128,
                    "role": {
                      "Fn::GetAtt": [
                        "editEpisodeLambdaServiceRoleBF877A38",
                        "Arn"
                      ]
                    },
                    "runtime": "python3.9",
                    "timeout": 10
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_lambda.Function",
              "version": "2.142.1"
            }
          },
          "deleteShowLambda": {
            "id": "deleteShowLambda",
            "path": "CloudMoviesStack/deleteShowLambda",
            "children": {
              "ServiceRole": {
                "id": "ServiceRole",
                "path": "CloudMoviesStack/deleteShowLambda/ServiceRole",
                "children": {
                  "ImportServiceRole": {
                    "id": "ImportServiceRole",
                    "path": "CloudMoviesStack/deleteShowLambda/ServiceRole/ImportServiceRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.142.1"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/deleteShowLambda/ServiceRole/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "lambda.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "managedPolicyArns": [
                          {
                            "Fn::Join": [
                              "",
                              [
                                "arn:",
                                {
                                  "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                              ]
                            ]
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.142.1"
                    }
                  },
                  "DefaultPolicy": {
                    "id": "DefaultPolicy",
                    "path": "CloudMoviesStack/deleteShowLambda/ServiceRole/DefaultPolicy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "CloudMoviesStack/deleteShowLambda/ServiceRole/DefaultPolicy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                          "aws:cdk:cloudformation:props": {
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": [
                                    "dynamodb:BatchGetItem",
                                    "dynamodb:BatchWriteItem",
                                    "dynamodb:ConditionCheckItem",
                                    "dynamodb:DeleteItem",
                                    "dynamodb:DescribeTable",
                                    "dynamodb:GetItem",
                                    "dynamodb:GetRecords",
                                    "dynamodb:GetShardIterator",
                                    "dynamodb:PutItem",
                                    "dynamodb:Query",
                                    "dynamodb:Scan",
                                    "dynamodb:UpdateItem"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "videosTableBCC40D2B",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          {
                                            "Fn::GetAtt": [
                                              "videosTableBCC40D2B",
                                              "Arn"
                                            ]
                                          },
                                          "/index/*"
                                        ]
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "Action": "s3:DeleteObject*",
                                  "Effect": "Allow",
                                  "Resource": {
                                    "Fn::Join": [
                                      "",
                                      [
                                        {
                                          "Fn::GetAtt": [
                                            "publishBucketBD758787",
                                            "Arn"
                                          ]
                                        },
                                        "/*"
                                      ]
                                    ]
                                  }
                                }
                              ],
                              "Version": "2012-10-17"
                            },
                            "policyName": "deleteShowLambdaServiceRoleDefaultPolicy7DC4F099",
                            "roles": [
                              {
                                "Ref": "deleteShowLambdaServiceRole91DBB5FC"
                              }
                            ]
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                          "version": "2.142.1"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Policy",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.142.1"
                }
              },
              "Code": {
                "id": "Code",
                "path": "CloudMoviesStack/deleteShowLambda/Code",
                "children": {
                  "Stage": {
                    "id": "Stage",
                    "path": "CloudMoviesStack/deleteShowLambda/Code/Stage",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.AssetStaging",
                      "version": "2.142.1"
                    }
                  },
                  "AssetBucket": {
                    "id": "AssetBucket",
                    "path": "CloudMoviesStack/deleteShowLambda/Code/AssetBucket",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                  "version": "2.142.1"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/deleteShowLambda/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                  "aws:cdk:cloudformation:props": {
                    "code": {
                      "s3Bucket": {
                        "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
                      },
                      "s3Key": "476919fc2ea4aef97d717fcfdf86e3e7109714f3b918fbe4c5faded02d9663e4.zip"
                    },
                    "environment": {
                      "variables": {
                        "VIDEOS_TABLE": {
                          "Ref": "videosTableBCC40D2B"
                        },
                        "PUBLISH_BUCKET": {
                          "Ref": "publishBucketBD758787"
                        }
                      }
                    },
                    "handler": "delete_show.handler",
                    "memorySize": 128,
                    "role": {
                      "Fn::GetAtt": [
                        "deleteShowLambdaServiceRole91DBB5FC",
                        "Arn"
                      ]
                    },
                    "runtime": "python3.9",
                    "timeout": 10
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_lambda.Function",
              "version": "2.142.1"
            }
          },
          "deleteSeasonLambda": {
            "id": "deleteSeasonLambda",
            "path": "CloudMoviesStack/deleteSeasonLambda",
            "children": {
              "ServiceRole": {
                "id": "ServiceRole",
                "path": "CloudMoviesStack/deleteSeasonLambda/ServiceRole",
                "children": {
                  "ImportServiceRole": {
                    "id": "ImportServiceRole",
                    "path": "CloudMoviesStack/deleteSeasonLambda/ServiceRole/ImportServiceRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.142.1"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/deleteSeasonLambda/ServiceRole/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "lambda.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "managedPolicyArns": [
                          {
                            "Fn::Join": [
                              "",
                              [
                                "arn:",
                                {
                                  "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                              ]
                            ]
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.142.1"
                    }
                  },
                  "DefaultPolicy": {
                    "id": "DefaultPolicy",
                    "path": "CloudMoviesStack/deleteSeasonLambda/ServiceRole/DefaultPolicy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "CloudMoviesStack/deleteSeasonLambda/ServiceRole/DefaultPolicy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                          "aws:cdk:cloudformation:props": {
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": [
                                    "dynamodb:BatchGetItem",
                                    "dynamodb:BatchWriteItem",
                                    "dynamodb:ConditionCheckItem",
                                    "dynamodb:DeleteItem",
                                    "dynamodb:DescribeTable",
                                    "dynamodb:GetItem",
                                    "dynamodb:GetRecords",
                                    "dynamodb:GetShardIterator",
                                    "dynamodb:PutItem",
                                    "dynamodb:Query",
                                    "dynamodb:Scan",
                                    "dynamodb:UpdateItem"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "videosTableBCC40D2B",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          {
                                            "Fn::GetAtt": [
                                              "videosTableBCC40D2B",
                                              "Arn"
                                            ]
                                          },
                                          "/index/*"
                                        ]
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "Action": "s3:DeleteObject*",
                                  "Effect": "Allow",
                                  "Resource": {
                                    "Fn::Join": [
                                      "",
                                      [
                                        {
                                          "Fn::GetAtt": [
                                            "publishBucketBD758787",
                                            "Arn"
                                          ]
                                        },
                                        "/*"
                                      ]
                                    ]
                                  }
                                }
                              ],
                              "Version": "2012-10-17"
                            },
                            "policyName": "deleteSeasonLambdaServiceRoleDefaultPolicyF52D2B58",
                            "roles": [
                              {
                                "Ref": "deleteSeasonLambdaServiceRoleDAA94112"
                              }
                            ]
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                          "version": "2.142.1"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Policy",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.142.1"
                }
              },
              "Code": {
                "id": "Code",
                "path": "CloudMoviesStack/deleteSeasonLambda/Code",
                "children": {
                  "Stage": {
                    "id": "Stage",
                    "path": "CloudMoviesStack/deleteSeasonLambda/Code/Stage",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.AssetStaging",
                      "version": "2.142.1"
                    }
                  },
                  "AssetBucket": {
                    "id": "AssetBucket",
                    "path": "CloudMoviesStack/deleteSeasonLambda/Code/AssetBucket",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                  "version": "2.142.1"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/deleteSeasonLambda/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                  "aws:cdk:cloudformation:props": {
                    "code": {
                      "s3Bucket": {
                        "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
                      },
                      "s3Key": "712a7444a70e90cd302f3e07d3bcf259f7c036f76f0ce0c268a1d6d67c27a444.zip"
                    },
                    "environment": {
                      "variables": {
                        "VIDEOS_TABLE": {
                          "Ref": "videosTableBCC40D2B"
                        },
                        "PUBLISH_BUCKET": {
                          "Ref": "publishBucketBD758787"
                        }
                      }
                    },
                    "handler": "delete_season.handler",
                    "memorySize": 128,
                    "role": {
                      "Fn::GetAtt": [
                        "deleteSeasonLambdaServiceRoleDAA94112",
                        "Arn"
                      ]
                    },
                    "runtime": "python3.9",
                    "timeout": 10
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_lambda.Function",
              "version": "2.142.1"
            }
          },
          "deleteEpisodeLambda": {
            "id": "deleteEpisodeLambda",
            "path": "CloudMoviesStack/deleteEpisodeLambda",
            "children": {
              "ServiceRole": {
                "id": "ServiceRole",
                "path": "CloudMoviesStack/deleteEpisodeLambda/ServiceRole",
                "children": {
                  "ImportServiceRole": {
                    "id": "ImportServiceRole",
                    "path": "CloudMoviesStack/deleteEpisodeLambda/ServiceRole/ImportServiceRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.142.1"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/deleteEpisodeLambda/ServiceRole/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "lambda.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "managedPolicyArns": [
                          {
                            "Fn::Join": [
                              "",
                              [
                                "arn:",
                                {
                                  "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                              ]
                            ]
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.142.1"
                    }
                  },
                  "DefaultPolicy": {
                    "id": "DefaultPolicy",
                    "path": "CloudMoviesStack/deleteEpisodeLambda/ServiceRole/DefaultPolicy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "CloudMoviesStack/deleteEpisodeLambda/ServiceRole/DefaultPolicy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                          "aws:cdk:cloudformation:props": {
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": [
                                    "dynamodb:BatchGetItem",
                                    "dynamodb:BatchWriteItem",
                                    "dynamodb:ConditionCheckItem",
                                    "dynamodb:DeleteItem",
                                    "dynamodb:DescribeTable",
                                    "dynamodb:GetItem",
                                    "dynamodb:GetRecords",
                                    "dynamodb:GetShardIterator",
                                    "dynamodb:PutItem",
                                    "dynamodb:Query",
                                    "dynamodb:Scan",
                                    "dynamodb:UpdateItem"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "videosTableBCC40D2B",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          {
                                            "Fn::GetAtt": [
                                              "videosTableBCC40D2B",
                                              "Arn"
                                            ]
                                          },
                                          "/index/*"
                                        ]
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "Action": "s3:DeleteObject*",
                                  "Effect": "Allow",
                                  "Resource": {
                                    "Fn::Join": [
                                      "",
                                      [
                                        {
                                          "Fn::GetAtt": [
                                            "publishBucketBD758787",
                                            "Arn"
                                          ]
                                        },
                                        "/*"
                                      ]
                                    ]
                                  }
                                }
                              ],
                              "Version": "2012-10-17"
                            },
                            "policyName": "deleteEpisodeLambdaServiceRoleDefaultPolicy2891B7B0",
                            "roles": [
                              {
                                "Ref": "deleteEpisodeLambdaServiceRole93483ADD"
                              }
                            ]
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                          "version": "2.142.1"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Policy",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.142.1"
                }
              },
              "Code": {
                "id": "Code",
                "path": "CloudMoviesStack/deleteEpisodeLambda/Code",
                "children": {
                  "Stage": {
                    "id": "Stage",
                    "path": "CloudMoviesStack/deleteEpisodeLambda/Code/Stage",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.AssetStaging",
                      "version": "2.142.1"
                    }
                  },
                  "AssetBucket": {
                    "id": "AssetBucket",
                    "path": "CloudMoviesStack/deleteEpisodeLambda/Code/AssetBucket",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                  "version": "2.142.1"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/deleteEpisodeLambda/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                  "aws:cdk:cloudformation:props": {
                    "code": {
                      "s3Bucket": {
                        "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
                      },
                      "s3Key": "4ec8fb01f41f7d5e40b69c3a08dab654d387bdb1c17ca31a5f891f5b6d480ca8.zip"
                    },
                    "environment": {
                      "variables": {
                        "VIDEOS_TABLE": {
                          "Ref": "videosTableBCC40D2B"
                        },
                        "PUBLISH_BUCKET": {
                          "Ref": "publishBucketBD758787"
                        }
                      }
                    },
                    "handler": "delete_episode.handler",
                    "memorySize": 128,
                    "role": {
                      "Fn::GetAtt": [
                        "deleteEpisodeLambdaServiceRole93483ADD",
                        "Arn"
                      ]
                    },
                    "runtime": "python3.9",
                    "timeout": 10
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_lambda.Function",
              "version": "2.142.1"
            }
          },
          "deleteMovieLambda": {
            "id": "deleteMovieLambda",
            "path": "CloudMoviesStack/deleteMovieLambda",
            "children": {
              "ServiceRole": {
                "id": "ServiceRole",
                "path": "CloudMoviesStack/deleteMovieLambda/ServiceRole",
                "children": {
                  "ImportServiceRole": {
                    "id": "ImportServiceRole",
                    "path": "CloudMoviesStack/deleteMovieLambda/ServiceRole/ImportServiceRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.142.1"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/deleteMovieLambda/ServiceRole/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "lambda.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "managedPolicyArns": [
                          {
                            "Fn::Join": [
                              "",
                              [
                                "arn:",
                                {
                                  "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                              ]
                            ]
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.142.1"
                    }
                  },
                  "DefaultPolicy": {
                    "id": "DefaultPolicy",
                    "path": "CloudMoviesStack/deleteMovieLambda/ServiceRole/DefaultPolicy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "CloudMoviesStack/deleteMovieLambda/ServiceRole/DefaultPolicy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                          "aws:cdk:cloudformation:props": {
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": [
                                    "dynamodb:BatchGetItem",
                                    "dynamodb:BatchWriteItem",
                                    "dynamodb:ConditionCheckItem",
                                    "dynamodb:DeleteItem",
                                    "dynamodb:DescribeTable",
                                    "dynamodb:GetItem",
                                    "dynamodb:GetRecords",
                                    "dynamodb:GetShardIterator",
                                    "dynamodb:PutItem",
                                    "dynamodb:Query",
                                    "dynamodb:Scan",
                                    "dynamodb:UpdateItem"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "videosTableBCC40D2B",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          {
                                            "Fn::GetAtt": [
                                              "videosTableBCC40D2B",
                                              "Arn"
                                            ]
                                          },
                                          "/index/*"
                                        ]
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "Action": "s3:DeleteObject*",
                                  "Effect": "Allow",
                                  "Resource": {
                                    "Fn::Join": [
                                      "",
                                      [
                                        {
                                          "Fn::GetAtt": [
                                            "publishBucketBD758787",
                                            "Arn"
                                          ]
                                        },
                                        "/*"
                                      ]
                                    ]
                                  }
                                }
                              ],
                              "Version": "2012-10-17"
                            },
                            "policyName": "deleteMovieLambdaServiceRoleDefaultPolicy9A6A0C78",
                            "roles": [
                              {
                                "Ref": "deleteMovieLambdaServiceRole18A98B24"
                              }
                            ]
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                          "version": "2.142.1"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Policy",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.142.1"
                }
              },
              "Code": {
                "id": "Code",
                "path": "CloudMoviesStack/deleteMovieLambda/Code",
                "children": {
                  "Stage": {
                    "id": "Stage",
                    "path": "CloudMoviesStack/deleteMovieLambda/Code/Stage",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.AssetStaging",
                      "version": "2.142.1"
                    }
                  },
                  "AssetBucket": {
                    "id": "AssetBucket",
                    "path": "CloudMoviesStack/deleteMovieLambda/Code/AssetBucket",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                  "version": "2.142.1"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/deleteMovieLambda/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                  "aws:cdk:cloudformation:props": {
                    "code": {
                      "s3Bucket": {
                        "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
                      },
                      "s3Key": "0402440f4dd515bfb3690a13029abafb6e97e3382bc2db55381b5b5c25cc1210.zip"
                    },
                    "environment": {
                      "variables": {
                        "VIDEOS_TABLE": {
                          "Ref": "videosTableBCC40D2B"
                        },
                        "PUBLISH_BUCKET": {
                          "Ref": "publishBucketBD758787"
                        }
                      }
                    },
                    "handler": "delete_movie.handler",
                    "memorySize": 128,
                    "role": {
                      "Fn::GetAtt": [
                        "deleteMovieLambdaServiceRole18A98B24",
                        "Arn"
                      ]
                    },
                    "runtime": "python3.9",
                    "timeout": 10
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_lambda.Function",
              "version": "2.142.1"
            }
          },
          "getFeedLambda": {
            "id": "getFeedLambda",
            "path": "CloudMoviesStack/getFeedLambda",
            "children": {
              "ServiceRole": {
                "id": "ServiceRole",
                "path": "CloudMoviesStack/getFeedLambda/ServiceRole",
                "children": {
                  "ImportServiceRole": {
                    "id": "ImportServiceRole",
                    "path": "CloudMoviesStack/getFeedLambda/ServiceRole/ImportServiceRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.142.1"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/getFeedLambda/ServiceRole/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "lambda.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "managedPolicyArns": [
                          {
                            "Fn::Join": [
                              "",
                              [
                                "arn:",
                                {
                                  "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                              ]
                            ]
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.142.1"
                    }
                  },
                  "DefaultPolicy": {
                    "id": "DefaultPolicy",
                    "path": "CloudMoviesStack/getFeedLambda/ServiceRole/DefaultPolicy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "CloudMoviesStack/getFeedLambda/ServiceRole/DefaultPolicy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                          "aws:cdk:cloudformation:props": {
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": [
                                    "dynamodb:BatchGetItem",
                                    "dynamodb:ConditionCheckItem",
                                    "dynamodb:DescribeTable",
                                    "dynamodb:GetItem",
                                    "dynamodb:GetRecords",
                                    "dynamodb:GetShardIterator",
                                    "dynamodb:Query",
                                    "dynamodb:Scan"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "feedsTable2B322F8D",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Fn::GetAtt": [
                                        "videosTableBCC40D2B",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          {
                                            "Fn::GetAtt": [
                                              "videosTableBCC40D2B",
                                              "Arn"
                                            ]
                                          },
                                          "/index/*"
                                        ]
                                      ]
                                    },
                                    {
                                      "Ref": "AWS::NoValue"
                                    }
                                  ]
                                }
                              ],
                              "Version": "2012-10-17"
                            },
                            "policyName": "getFeedLambdaServiceRoleDefaultPolicyD682A319",
                            "roles": [
                              {
                                "Ref": "getFeedLambdaServiceRole581C19F8"
                              }
                            ]
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                          "version": "2.142.1"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Policy",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.142.1"
                }
              },
              "Code": {
                "id": "Code",
                "path": "CloudMoviesStack/getFeedLambda/Code",
                "children": {
                  "Stage": {
                    "id": "Stage",
                    "path": "CloudMoviesStack/getFeedLambda/Code/Stage",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.AssetStaging",
                      "version": "2.142.1"
                    }
                  },
                  "AssetBucket": {
                    "id": "AssetBucket",
                    "path": "CloudMoviesStack/getFeedLambda/Code/AssetBucket",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                  "version": "2.142.1"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/getFeedLambda/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                  "aws:cdk:cloudformation:props": {
                    "code": {
                      "s3Bucket": {
                        "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
                      },
                      "s3Key": "754a899f3bcc08f397f8401f5379be90944e6e9dbb7a950aeed37ecb665ee080.zip"
                    },
                    "environment": {
                      "variables": {
                        "FEEDS_TABLE": {
                          "Ref": "feedsTable2B322F8D"
                        },
                        "VIDEOS_TABLE": {
                          "Ref": "videosTableBCC40D2B"
                        }
                      }
                    },
                    "handler": "get_feed.handler",
                    "memorySize": 128,
                    "role": {
                      "Fn::GetAtt": [
                        "getFeedLambdaServiceRole581C19F8",
                        "Arn"
                      ]
                    },
                    "runtime": "python3.9",
                    "timeout": 10
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_lambda.Function",
              "version": "2.142.1"
            }
          },
          "unzipvideolambdaLambda": {
            "id": "unzipvideolambdaLambda",
            "path": "CloudMoviesStack/unzipvideolambdaLambda",
            "children": {
              "ServiceRole": {
                "id": "ServiceRole",
                "path": "CloudMoviesStack/unzipvideolambdaLambda/ServiceRole",
                "children": {
                  "ImportServiceRole": {
                    "id": "ImportServiceRole",
                    "path": "CloudMoviesStack/unzipvideolambdaLambda/ServiceRole/ImportServiceRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.142.1"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/unzipvideolambdaLambda/ServiceRole/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "lambda.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "managedPolicyArns": [
                          {
                            "Fn::Join": [
                              "",
                              [
                                "arn:",
                                {
                                  "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                              ]
                            ]
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.142.1"
                    }
                  },
                  "DefaultPolicy": {
                    "id": "DefaultPolicy",
                    "path": "CloudMoviesStack/unzipvideolambdaLambda/ServiceRole/DefaultPolicy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "CloudMoviesStack/unzipvideolambdaLambda/ServiceRole/DefaultPolicy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                          "aws:cdk:cloudformation:props": {
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": [
                                    "dynamodb:BatchWriteItem",
                                    "dynamodb:DeleteItem",
                                    "dynamodb:DescribeTable",
                                    "dynamodb:PutItem",
                                    "dynamodb:UpdateItem"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "videosTableBCC40D2B",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          {
                                            "Fn::GetAtt": [
                                              "videosTableBCC40D2B",
                                              "Arn"
                                            ]
                                          },
                                          "/index/*"
                                        ]
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "Action": [
                                    "s3:Abort*",
                                    "s3:DeleteObject*",
                                    "s3:GetBucket*",
                                    "s3:GetObject*",
                                    "s3:List*",
                                    "s3:PutObject",
                                    "s3:PutObjectLegalHold",
                                    "s3:PutObjectRetention",
                                    "s3:PutObjectTagging",
                                    "s3:PutObjectVersionTagging"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "sourceBucket5C83C9D6",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          {
                                            "Fn::GetAtt": [
                                              "sourceBucket5C83C9D6",
                                              "Arn"
                                            ]
                                          },
                                          "/*"
                                        ]
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "Action": "sns:Publish",
                                  "Effect": "Allow",
                                  "Resource": {
                                    "Ref": "sourceUploadProcessingTopic119D2B2E"
                                  }
                                }
                              ],
                              "Version": "2012-10-17"
                            },
                            "policyName": "unzipvideolambdaLambdaServiceRoleDefaultPolicy09D6CAF8",
                            "roles": [
                              {
                                "Ref": "unzipvideolambdaLambdaServiceRoleE83CCEB3"
                              }
                            ]
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                          "version": "2.142.1"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Policy",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.142.1"
                }
              },
              "Code": {
                "id": "Code",
                "path": "CloudMoviesStack/unzipvideolambdaLambda/Code",
                "children": {
                  "Stage": {
                    "id": "Stage",
                    "path": "CloudMoviesStack/unzipvideolambdaLambda/Code/Stage",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.AssetStaging",
                      "version": "2.142.1"
                    }
                  },
                  "AssetBucket": {
                    "id": "AssetBucket",
                    "path": "CloudMoviesStack/unzipvideolambdaLambda/Code/AssetBucket",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                  "version": "2.142.1"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/unzipvideolambdaLambda/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                  "aws:cdk:cloudformation:props": {
                    "code": {
                      "s3Bucket": {
                        "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
                      },
                      "s3Key": "da1a170efee5cfd10e51ccbaae6c878602082f7918c0db1a2613aa8735dfb4d6.zip"
                    },
                    "environment": {
                      "variables": {
                        "VIDEOS_TABLE": {
                          "Ref": "videosTableBCC40D2B"
                        },
                        "EXTENSIONS": "mp4,mov,m4v",
                        "FAILED_TOPIC_ARN": {
                          "Ref": "sourceUploadProcessingTopic119D2B2E"
                        }
                      }
                    },
                    "handler": "unzip_video.handler",
                    "memorySize": 128,
                    "role": {
                      "Fn::GetAtt": [
                        "unzipvideolambdaLambdaServiceRoleE83CCEB3",
                        "Arn"
                      ]
                    },
                    "runtime": "python3.9",
                    "timeout": 10
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_lambda.Function",
              "version": "2.142.1"
            }
          },
          "BucketNotificationsHandler050a0587b7544547bf325f094a3db834": {
            "id": "BucketNotificationsHandler050a0587b7544547bf325f094a3db834",
            "path": "CloudMoviesStack/BucketNotificationsHandler050a0587b7544547bf325f094a3db834",
            "children": {
              "Role": {
                "id": "Role",
                "path": "CloudMoviesStack/BucketNotificationsHandler050a0587b7544547bf325f094a3db834/Role",
                "children": {
                  "ImportRole": {
                    "id": "ImportRole",
                    "path": "CloudMoviesStack/BucketNotificationsHandler050a0587b7544547bf325f094a3db834/Role/ImportRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.142.1"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/BucketNotificationsHandler050a0587b7544547bf325f094a3db834/Role/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "lambda.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "managedPolicyArns": [
                          {
                            "Fn::Join": [
                              "",
                              [
                                "arn:",
                                {
                                  "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                              ]
                            ]
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.142.1"
                    }
                  },
                  "DefaultPolicy": {
                    "id": "DefaultPolicy",
                    "path": "CloudMoviesStack/BucketNotificationsHandler050a0587b7544547bf325f094a3db834/Role/DefaultPolicy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "CloudMoviesStack/BucketNotificationsHandler050a0587b7544547bf325f094a3db834/Role/DefaultPolicy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                          "aws:cdk:cloudformation:props": {
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": "s3:PutBucketNotification",
                                  "Effect": "Allow",
                                  "Resource": "*"
                                }
                              ],
                              "Version": "2012-10-17"
                            },
                            "policyName": "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleDefaultPolicy2CF63D36",
                            "roles": [
                              {
                                "Ref": "BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleB6FB88EC"
                              }
                            ]
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                          "version": "2.142.1"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Policy",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.142.1"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/BucketNotificationsHandler050a0587b7544547bf325f094a3db834/Resource",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.CfnResource",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "constructs.Construct",
              "version": "10.3.0"
            }
          },
          "ffmpegLayer": {
            "id": "ffmpegLayer",
            "path": "CloudMoviesStack/ffmpegLayer",
            "children": {
              "Code": {
                "id": "Code",
                "path": "CloudMoviesStack/ffmpegLayer/Code",
                "children": {
                  "Stage": {
                    "id": "Stage",
                    "path": "CloudMoviesStack/ffmpegLayer/Code/Stage",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.AssetStaging",
                      "version": "2.142.1"
                    }
                  },
                  "AssetBucket": {
                    "id": "AssetBucket",
                    "path": "CloudMoviesStack/ffmpegLayer/Code/AssetBucket",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                  "version": "2.142.1"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/ffmpegLayer/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::LayerVersion",
                  "aws:cdk:cloudformation:props": {
                    "compatibleRuntimes": [
                      "python3.9"
                    ],
                    "content": {
                      "s3Bucket": {
                        "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
                      },
                      "s3Key": "e9d3ac6e04486a38d3bc9c11c8c1496d20d63a0379e6de211698f41b6deffe30.zip"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnLayerVersion",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_lambda.LayerVersion",
              "version": "2.142.1"
            }
          },
          "transcodevideolambdaLambda": {
            "id": "transcodevideolambdaLambda",
            "path": "CloudMoviesStack/transcodevideolambdaLambda",
            "children": {
              "ServiceRole": {
                "id": "ServiceRole",
                "path": "CloudMoviesStack/transcodevideolambdaLambda/ServiceRole",
                "children": {
                  "ImportServiceRole": {
                    "id": "ImportServiceRole",
                    "path": "CloudMoviesStack/transcodevideolambdaLambda/ServiceRole/ImportServiceRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.142.1"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/transcodevideolambdaLambda/ServiceRole/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "lambda.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "managedPolicyArns": [
                          {
                            "Fn::Join": [
                              "",
                              [
                                "arn:",
                                {
                                  "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                              ]
                            ]
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.142.1"
                    }
                  },
                  "DefaultPolicy": {
                    "id": "DefaultPolicy",
                    "path": "CloudMoviesStack/transcodevideolambdaLambda/ServiceRole/DefaultPolicy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "CloudMoviesStack/transcodevideolambdaLambda/ServiceRole/DefaultPolicy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                          "aws:cdk:cloudformation:props": {
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": [
                                    "s3:GetBucket*",
                                    "s3:GetObject*",
                                    "s3:List*"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "sourceBucket5C83C9D6",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          {
                                            "Fn::GetAtt": [
                                              "sourceBucket5C83C9D6",
                                              "Arn"
                                            ]
                                          },
                                          "/*"
                                        ]
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "Action": [
                                    "s3:Abort*",
                                    "s3:DeleteObject*",
                                    "s3:PutObject",
                                    "s3:PutObjectLegalHold",
                                    "s3:PutObjectRetention",
                                    "s3:PutObjectTagging",
                                    "s3:PutObjectVersionTagging"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "publishBucketBD758787",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          {
                                            "Fn::GetAtt": [
                                              "publishBucketBD758787",
                                              "Arn"
                                            ]
                                          },
                                          "/*"
                                        ]
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "Action": "sns:Publish",
                                  "Effect": "Allow",
                                  "Resource": {
                                    "Ref": "sourceUploadProcessingTopic119D2B2E"
                                  }
                                }
                              ],
                              "Version": "2012-10-17"
                            },
                            "policyName": "transcodevideolambdaLambdaServiceRoleDefaultPolicyF686B00A",
                            "roles": [
                              {
                                "Ref": "transcodevideolambdaLambdaServiceRole49831FF4"
                              }
                            ]
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                          "version": "2.142.1"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Policy",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.142.1"
                }
              },
              "Code": {
                "id": "Code",
                "path": "CloudMoviesStack/transcodevideolambdaLambda/Code",
                "children": {
                  "Stage": {
                    "id": "Stage",
                    "path": "CloudMoviesStack/transcodevideolambdaLambda/Code/Stage",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.AssetStaging",
                      "version": "2.142.1"
                    }
                  },
                  "AssetBucket": {
                    "id": "AssetBucket",
                    "path": "CloudMoviesStack/transcodevideolambdaLambda/Code/AssetBucket",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                  "version": "2.142.1"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/transcodevideolambdaLambda/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                  "aws:cdk:cloudformation:props": {
                    "code": {
                      "s3Bucket": {
                        "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
                      },
                      "s3Key": "6511acbc80785ff234a7f7cab94337b4a4f8aa21735602d365fa986ce837d975.zip"
                    },
                    "environment": {
                      "variables": {
                        "SOURCE_BUCKET": {
                          "Ref": "sourceBucket5C83C9D6"
                        },
                        "PUBLISH_BUCKET": {
                          "Ref": "publishBucketBD758787"
                        }
                      }
                    },
                    "handler": "transcode_video.handler",
                    "layers": [
                      {
                        "Ref": "ffmpegLayerE970AD5E"
                      }
                    ],
                    "memorySize": 1024,
                    "role": {
                      "Fn::GetAtt": [
                        "transcodevideolambdaLambdaServiceRole49831FF4",
                        "Arn"
                      ]
                    },
                    "runtime": "python3.9",
                    "timeout": 900
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_lambda.Function",
              "version": "2.142.1"
            }
          },
          "parallelTranscoding": {
            "id": "parallelTranscoding",
            "path": "CloudMoviesStack/parallelTranscoding",
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_stepfunctions.Parallel",
              "version": "2.142.1"
            }
          },
          "transcoding360": {
            "id": "transcoding360",
            "path": "CloudMoviesStack/transcoding360",
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_stepfunctions_tasks.LambdaInvoke",
              "version": "2.142.1"
            }
          },
          "transcoding480": {
            "id": "transcoding480",
            "path": "CloudMoviesStack/transcoding480",
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_stepfunctions_tasks.LambdaInvoke",
              "version": "2.142.1"
            }
          },
          "transcoding720": {
            "id": "transcoding720",
            "path": "CloudMoviesStack/transcoding720",
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_stepfunctions_tasks.LambdaInvoke",
              "version": "2.142.1"
            }
          },
          "publishSuccessfulTranscoding": {
            "id": "publishSuccessfulTranscoding",
            "path": "CloudMoviesStack/publishSuccessfulTranscoding",
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_stepfunctions_tasks.SnsPublish",
              "version": "2.142.1"
            }
          },
          "publishFailedTranscoding": {
            "id": "publishFailedTranscoding",
            "path": "CloudMoviesStack/publishFailedTranscoding",
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_stepfunctions_tasks.SnsPublish",
              "version": "2.142.1"
            }
          },
          "transcodingStateMachine": {
            "id": "transcodingStateMachine",
            "path": "CloudMoviesStack/transcodingStateMachine",
            "children": {
              "Role": {
                "id": "Role",
                "path": "CloudMoviesStack/transcodingStateMachine/Role",
                "children": {
                  "ImportRole": {
                    "id": "ImportRole",
                    "path": "CloudMoviesStack/transcodingStateMachine/Role/ImportRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.142.1"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/transcodingStateMachine/Role/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "states.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.142.1"
                    }
                  },
                  "DefaultPolicy": {
                    "id": "DefaultPolicy",
                    "path": "CloudMoviesStack/transcodingStateMachine/Role/DefaultPolicy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "CloudMoviesStack/transcodingStateMachine/Role/DefaultPolicy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                          "aws:cdk:cloudformation:props": {
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": "sns:Publish",
                                  "Effect": "Allow",
                                  "Resource": {
                                    "Ref": "sourceUploadProcessingTopic119D2B2E"
                                  }
                                },
                                {
                                  "Action": "lambda:InvokeFunction",
                                  "Effect": "Allow",
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "transcodevideolambdaLambda131AAF32",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          {
                                            "Fn::GetAtt": [
                                              "transcodevideolambdaLambda131AAF32",
                                              "Arn"
                                            ]
                                          },
                                          ":*"
                                        ]
                                      ]
                                    }
                                  ]
                                }
                              ],
                              "Version": "2012-10-17"
                            },
                            "policyName": "transcodingStateMachineRoleDefaultPolicy71D5302A",
                            "roles": [
                              {
                                "Ref": "transcodingStateMachineRole3CDDD4E2"
                              }
                            ]
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                          "version": "2.142.1"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Policy",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.142.1"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/transcodingStateMachine/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::StepFunctions::StateMachine",
                  "aws:cdk:cloudformation:props": {
                    "definitionString": {
                      "Fn::Join": [
                        "",
                        [
                          "{\"StartAt\":\"parallelTranscoding\",\"States\":{\"parallelTranscoding\":{\"Type\":\"Parallel\",\"Next\":\"publishSuccessfulTranscoding\",\"Catch\":[{\"ErrorEquals\":[\"States.ALL\"],\"ResultPath\":\"$.errorInfo\",\"Next\":\"publishFailedTranscoding\"}],\"Branches\":[{\"StartAt\":\"transcoding360\",\"States\":{\"transcoding360\":{\"End\":true,\"Retry\":[{\"ErrorEquals\":[\"Lambda.ClientExecutionTimeoutException\",\"Lambda.ServiceException\",\"Lambda.AWSLambdaException\",\"Lambda.SdkClientException\"],\"IntervalSeconds\":2,\"MaxAttempts\":6,\"BackoffRate\":2},{\"ErrorEquals\":[\"States.ALL\"],\"MaxAttempts\":3,\"BackoffRate\":2}],\"Type\":\"Task\",\"Resource\":\"arn:",
                          {
                            "Ref": "AWS::Partition"
                          },
                          ":states:::lambda:invoke\",\"Parameters\":{\"FunctionName\":\"",
                          {
                            "Fn::GetAtt": [
                              "transcodevideolambdaLambda131AAF32",
                              "Arn"
                            ]
                          },
                          "\",\"Payload\":{\"resolution\":\"360\",\"objectKey.$\":\"$.objectKey\",\"timestamp.$\":\"$.timestamp\"}}}}},{\"StartAt\":\"transcoding480\",\"States\":{\"transcoding480\":{\"End\":true,\"Retry\":[{\"ErrorEquals\":[\"Lambda.ClientExecutionTimeoutException\",\"Lambda.ServiceException\",\"Lambda.AWSLambdaException\",\"Lambda.SdkClientException\"],\"IntervalSeconds\":2,\"MaxAttempts\":6,\"BackoffRate\":2},{\"ErrorEquals\":[\"States.ALL\"],\"MaxAttempts\":3,\"BackoffRate\":2}],\"Type\":\"Task\",\"Resource\":\"arn:",
                          {
                            "Ref": "AWS::Partition"
                          },
                          ":states:::lambda:invoke\",\"Parameters\":{\"FunctionName\":\"",
                          {
                            "Fn::GetAtt": [
                              "transcodevideolambdaLambda131AAF32",
                              "Arn"
                            ]
                          },
                          "\",\"Payload\":{\"resolution\":\"480\",\"objectKey.$\":\"$.objectKey\",\"timestamp.$\":\"$.timestamp\"}}}}},{\"StartAt\":\"transcoding720\",\"States\":{\"transcoding720\":{\"End\":true,\"Retry\":[{\"ErrorEquals\":[\"Lambda.ClientExecutionTimeoutException\",\"Lambda.ServiceException\",\"Lambda.AWSLambdaException\",\"Lambda.SdkClientException\"],\"IntervalSeconds\":2,\"MaxAttempts\":6,\"BackoffRate\":2},{\"ErrorEquals\":[\"States.ALL\"],\"MaxAttempts\":3,\"BackoffRate\":2}],\"Type\":\"Task\",\"Resource\":\"arn:",
                          {
                            "Ref": "AWS::Partition"
                          },
                          ":states:::lambda:invoke\",\"Parameters\":{\"FunctionName\":\"",
                          {
                            "Fn::GetAtt": [
                              "transcodevideolambdaLambda131AAF32",
                              "Arn"
                            ]
                          },
                          "\",\"Payload\":{\"resolution\":\"720\",\"objectKey.$\":\"$.objectKey\",\"timestamp.$\":\"$.timestamp\"}}}}}]},\"publishSuccessfulTranscoding\":{\"End\":true,\"Type\":\"Task\",\"Resource\":\"arn:",
                          {
                            "Ref": "AWS::Partition"
                          },
                          ":states:::sns:publish\",\"Parameters\":{\"TopicArn\":\"",
                          {
                            "Ref": "sourceUploadProcessingTopic119D2B2E"
                          },
                          "\",\"Message\":{\"success\":true,\"state\":\"transcoding\",\"objectKey.$\":\"$.[0].Payload.objectKey\"}}},\"publishFailedTranscoding\":{\"End\":true,\"Type\":\"Task\",\"Resource\":\"arn:",
                          {
                            "Ref": "AWS::Partition"
                          },
                          ":states:::sns:publish\",\"Parameters\":{\"TopicArn\":\"",
                          {
                            "Ref": "sourceUploadProcessingTopic119D2B2E"
                          },
                          "\",\"Message\":{\"success\":false,\"state\":\"transcoding\",\"error.$\":\"$.errorInfo.Cause\"}}}}}"
                        ]
                      ]
                    },
                    "roleArn": {
                      "Fn::GetAtt": [
                        "transcodingStateMachineRole3CDDD4E2",
                        "Arn"
                      ]
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_stepfunctions.CfnStateMachine",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_stepfunctions.StateMachine",
              "version": "2.142.1"
            }
          },
          "starttranscodinglambdaLambda": {
            "id": "starttranscodinglambdaLambda",
            "path": "CloudMoviesStack/starttranscodinglambdaLambda",
            "children": {
              "ServiceRole": {
                "id": "ServiceRole",
                "path": "CloudMoviesStack/starttranscodinglambdaLambda/ServiceRole",
                "children": {
                  "ImportServiceRole": {
                    "id": "ImportServiceRole",
                    "path": "CloudMoviesStack/starttranscodinglambdaLambda/ServiceRole/ImportServiceRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.142.1"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/starttranscodinglambdaLambda/ServiceRole/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "lambda.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "managedPolicyArns": [
                          {
                            "Fn::Join": [
                              "",
                              [
                                "arn:",
                                {
                                  "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                              ]
                            ]
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.142.1"
                    }
                  },
                  "DefaultPolicy": {
                    "id": "DefaultPolicy",
                    "path": "CloudMoviesStack/starttranscodinglambdaLambda/ServiceRole/DefaultPolicy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "CloudMoviesStack/starttranscodinglambdaLambda/ServiceRole/DefaultPolicy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                          "aws:cdk:cloudformation:props": {
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": "states:StartExecution",
                                  "Effect": "Allow",
                                  "Resource": {
                                    "Ref": "transcodingStateMachine0BE86125"
                                  }
                                }
                              ],
                              "Version": "2012-10-17"
                            },
                            "policyName": "starttranscodinglambdaLambdaServiceRoleDefaultPolicy246A74A0",
                            "roles": [
                              {
                                "Ref": "starttranscodinglambdaLambdaServiceRole7F9B7DD2"
                              }
                            ]
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                          "version": "2.142.1"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Policy",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.142.1"
                }
              },
              "Code": {
                "id": "Code",
                "path": "CloudMoviesStack/starttranscodinglambdaLambda/Code",
                "children": {
                  "Stage": {
                    "id": "Stage",
                    "path": "CloudMoviesStack/starttranscodinglambdaLambda/Code/Stage",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.AssetStaging",
                      "version": "2.142.1"
                    }
                  },
                  "AssetBucket": {
                    "id": "AssetBucket",
                    "path": "CloudMoviesStack/starttranscodinglambdaLambda/Code/AssetBucket",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                  "version": "2.142.1"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/starttranscodinglambdaLambda/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                  "aws:cdk:cloudformation:props": {
                    "code": {
                      "s3Bucket": {
                        "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
                      },
                      "s3Key": "8a9eb6941ec79e3885e48f7cd2a9c0cae3828b380683566cc6cd7a2c5fd308b3.zip"
                    },
                    "environment": {
                      "variables": {
                        "TRANSCODING_STATE_MACHINE": {
                          "Ref": "transcodingStateMachine0BE86125"
                        }
                      }
                    },
                    "handler": "start_transcoding.handler",
                    "memorySize": 128,
                    "role": {
                      "Fn::GetAtt": [
                        "starttranscodinglambdaLambdaServiceRole7F9B7DD2",
                        "Arn"
                      ]
                    },
                    "runtime": "python3.9",
                    "timeout": 10
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_lambda.Function",
              "version": "2.142.1"
            }
          },
          "handleProcessingResultLambda": {
            "id": "handleProcessingResultLambda",
            "path": "CloudMoviesStack/handleProcessingResultLambda",
            "children": {
              "ServiceRole": {
                "id": "ServiceRole",
                "path": "CloudMoviesStack/handleProcessingResultLambda/ServiceRole",
                "children": {
                  "ImportServiceRole": {
                    "id": "ImportServiceRole",
                    "path": "CloudMoviesStack/handleProcessingResultLambda/ServiceRole/ImportServiceRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.142.1"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/handleProcessingResultLambda/ServiceRole/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "lambda.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "managedPolicyArns": [
                          {
                            "Fn::Join": [
                              "",
                              [
                                "arn:",
                                {
                                  "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                              ]
                            ]
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.142.1"
                    }
                  },
                  "DefaultPolicy": {
                    "id": "DefaultPolicy",
                    "path": "CloudMoviesStack/handleProcessingResultLambda/ServiceRole/DefaultPolicy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "CloudMoviesStack/handleProcessingResultLambda/ServiceRole/DefaultPolicy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                          "aws:cdk:cloudformation:props": {
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": [
                                    "s3:GetBucket*",
                                    "s3:GetObject*",
                                    "s3:List*"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "publishBucketBD758787",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          {
                                            "Fn::GetAtt": [
                                              "publishBucketBD758787",
                                              "Arn"
                                            ]
                                          },
                                          "/*"
                                        ]
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "Action": "s3:DeleteObject*",
                                  "Effect": "Allow",
                                  "Resource": [
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          {
                                            "Fn::GetAtt": [
                                              "publishBucketBD758787",
                                              "Arn"
                                            ]
                                          },
                                          "/*"
                                        ]
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          {
                                            "Fn::GetAtt": [
                                              "sourceBucket5C83C9D6",
                                              "Arn"
                                            ]
                                          },
                                          "/*"
                                        ]
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "Action": [
                                    "dynamodb:BatchGetItem",
                                    "dynamodb:BatchWriteItem",
                                    "dynamodb:ConditionCheckItem",
                                    "dynamodb:DeleteItem",
                                    "dynamodb:DescribeTable",
                                    "dynamodb:GetItem",
                                    "dynamodb:GetRecords",
                                    "dynamodb:GetShardIterator",
                                    "dynamodb:PutItem",
                                    "dynamodb:Query",
                                    "dynamodb:Scan",
                                    "dynamodb:UpdateItem"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "videosTableBCC40D2B",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          {
                                            "Fn::GetAtt": [
                                              "videosTableBCC40D2B",
                                              "Arn"
                                            ]
                                          },
                                          "/index/*"
                                        ]
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "Action": "sns:Publish",
                                  "Effect": "Allow",
                                  "Resource": {
                                    "Ref": "videoPublishedTopic0F33FD9B"
                                  }
                                }
                              ],
                              "Version": "2012-10-17"
                            },
                            "policyName": "handleProcessingResultLambdaServiceRoleDefaultPolicy9B5B03E7",
                            "roles": [
                              {
                                "Ref": "handleProcessingResultLambdaServiceRole1E231D03"
                              }
                            ]
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                          "version": "2.142.1"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Policy",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.142.1"
                }
              },
              "Code": {
                "id": "Code",
                "path": "CloudMoviesStack/handleProcessingResultLambda/Code",
                "children": {
                  "Stage": {
                    "id": "Stage",
                    "path": "CloudMoviesStack/handleProcessingResultLambda/Code/Stage",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.AssetStaging",
                      "version": "2.142.1"
                    }
                  },
                  "AssetBucket": {
                    "id": "AssetBucket",
                    "path": "CloudMoviesStack/handleProcessingResultLambda/Code/AssetBucket",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                  "version": "2.142.1"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/handleProcessingResultLambda/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                  "aws:cdk:cloudformation:props": {
                    "code": {
                      "s3Bucket": {
                        "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
                      },
                      "s3Key": "b68863b6caec5982eb261ba036e19c6f4d21d82832c4149475ab637f1e2acb17.zip"
                    },
                    "environment": {
                      "variables": {
                        "SOURCE_BUCKET": {
                          "Ref": "sourceBucket5C83C9D6"
                        },
                        "PUBLISH_BUCKET": {
                          "Ref": "publishBucketBD758787"
                        },
                        "VIDEOS_TABLE": {
                          "Ref": "videosTableBCC40D2B"
                        },
                        "PUBLISHED_VIDEO_ARN": {
                          "Ref": "videoPublishedTopic0F33FD9B"
                        },
                        "RESOLUTIONS": "360,480,720"
                      }
                    },
                    "handler": "handle_processing_result.handler",
                    "memorySize": 128,
                    "role": {
                      "Fn::GetAtt": [
                        "handleProcessingResultLambdaServiceRole1E231D03",
                        "Arn"
                      ]
                    },
                    "runtime": "python3.9",
                    "timeout": 10
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                  "version": "2.142.1"
                }
              },
              "AllowInvoke:CloudMoviesStacksourceUploadProcessingTopicC8A49003": {
                "id": "AllowInvoke:CloudMoviesStacksourceUploadProcessingTopicC8A49003",
                "path": "CloudMoviesStack/handleProcessingResultLambda/AllowInvoke:CloudMoviesStacksourceUploadProcessingTopicC8A49003",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                  "aws:cdk:cloudformation:props": {
                    "action": "lambda:InvokeFunction",
                    "functionName": {
                      "Fn::GetAtt": [
                        "handleProcessingResultLambda73BFA016",
                        "Arn"
                      ]
                    },
                    "principal": "sns.amazonaws.com",
                    "sourceArn": {
                      "Ref": "sourceUploadProcessingTopic119D2B2E"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                  "version": "2.142.1"
                }
              },
              "sourceUploadProcessingTopic": {
                "id": "sourceUploadProcessingTopic",
                "path": "CloudMoviesStack/handleProcessingResultLambda/sourceUploadProcessingTopic",
                "children": {
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/handleProcessingResultLambda/sourceUploadProcessingTopic/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::SNS::Subscription",
                      "aws:cdk:cloudformation:props": {
                        "endpoint": {
                          "Fn::GetAtt": [
                            "handleProcessingResultLambda73BFA016",
                            "Arn"
                          ]
                        },
                        "protocol": "lambda",
                        "topicArn": {
                          "Ref": "sourceUploadProcessingTopic119D2B2E"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_sns.CfnSubscription",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_sns.Subscription",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_lambda.Function",
              "version": "2.142.1"
            }
          },
          "notifySubscribersLambda": {
            "id": "notifySubscribersLambda",
            "path": "CloudMoviesStack/notifySubscribersLambda",
            "children": {
              "ServiceRole": {
                "id": "ServiceRole",
                "path": "CloudMoviesStack/notifySubscribersLambda/ServiceRole",
                "children": {
                  "ImportServiceRole": {
                    "id": "ImportServiceRole",
                    "path": "CloudMoviesStack/notifySubscribersLambda/ServiceRole/ImportServiceRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.142.1"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/notifySubscribersLambda/ServiceRole/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "lambda.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "managedPolicyArns": [
                          {
                            "Fn::Join": [
                              "",
                              [
                                "arn:",
                                {
                                  "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                              ]
                            ]
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.142.1"
                    }
                  },
                  "DefaultPolicy": {
                    "id": "DefaultPolicy",
                    "path": "CloudMoviesStack/notifySubscribersLambda/ServiceRole/DefaultPolicy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "CloudMoviesStack/notifySubscribersLambda/ServiceRole/DefaultPolicy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                          "aws:cdk:cloudformation:props": {
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": [
                                    "dynamodb:BatchGetItem",
                                    "dynamodb:ConditionCheckItem",
                                    "dynamodb:DescribeTable",
                                    "dynamodb:GetItem",
                                    "dynamodb:GetRecords",
                                    "dynamodb:GetShardIterator",
                                    "dynamodb:Query",
                                    "dynamodb:Scan"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "subscriptionsTable99FE4D04",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Ref": "AWS::NoValue"
                                    }
                                  ]
                                },
                                {
                                  "Action": "sns:*",
                                  "Effect": "Allow",
                                  "Resource": {
                                    "Fn::GetAtt": [
                                      "moviesUserPool80190EBD",
                                      "Arn"
                                    ]
                                  }
                                }
                              ],
                              "Version": "2012-10-17"
                            },
                            "policyName": "notifySubscribersLambdaServiceRoleDefaultPolicy053ACCC4",
                            "roles": [
                              {
                                "Ref": "notifySubscribersLambdaServiceRole18CA8BD6"
                              }
                            ]
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                          "version": "2.142.1"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Policy",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.142.1"
                }
              },
              "Code": {
                "id": "Code",
                "path": "CloudMoviesStack/notifySubscribersLambda/Code",
                "children": {
                  "Stage": {
                    "id": "Stage",
                    "path": "CloudMoviesStack/notifySubscribersLambda/Code/Stage",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.AssetStaging",
                      "version": "2.142.1"
                    }
                  },
                  "AssetBucket": {
                    "id": "AssetBucket",
                    "path": "CloudMoviesStack/notifySubscribersLambda/Code/AssetBucket",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                  "version": "2.142.1"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/notifySubscribersLambda/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                  "aws:cdk:cloudformation:props": {
                    "code": {
                      "s3Bucket": {
                        "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
                      },
                      "s3Key": "da158df24bb6c9405d4111ece36d080911e79b6792812ec381cbdae34268e636.zip"
                    },
                    "environment": {
                      "variables": {
                        "SUBSCRIPTIONS_TABLE": {
                          "Ref": "subscriptionsTable99FE4D04"
                        }
                      }
                    },
                    "handler": "notify_subscribers.handler",
                    "memorySize": 128,
                    "role": {
                      "Fn::GetAtt": [
                        "notifySubscribersLambdaServiceRole18CA8BD6",
                        "Arn"
                      ]
                    },
                    "runtime": "python3.9",
                    "timeout": 10
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                  "version": "2.142.1"
                }
              },
              "AllowInvoke:CloudMoviesStackvideoPublishedTopic42F971A2": {
                "id": "AllowInvoke:CloudMoviesStackvideoPublishedTopic42F971A2",
                "path": "CloudMoviesStack/notifySubscribersLambda/AllowInvoke:CloudMoviesStackvideoPublishedTopic42F971A2",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                  "aws:cdk:cloudformation:props": {
                    "action": "lambda:InvokeFunction",
                    "functionName": {
                      "Fn::GetAtt": [
                        "notifySubscribersLambda728C006F",
                        "Arn"
                      ]
                    },
                    "principal": "sns.amazonaws.com",
                    "sourceArn": {
                      "Ref": "videoPublishedTopic0F33FD9B"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                  "version": "2.142.1"
                }
              },
              "videoPublishedTopic": {
                "id": "videoPublishedTopic",
                "path": "CloudMoviesStack/notifySubscribersLambda/videoPublishedTopic",
                "children": {
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/notifySubscribersLambda/videoPublishedTopic/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::SNS::Subscription",
                      "aws:cdk:cloudformation:props": {
                        "endpoint": {
                          "Fn::GetAtt": [
                            "notifySubscribersLambda728C006F",
                            "Arn"
                          ]
                        },
                        "protocol": "lambda",
                        "topicArn": {
                          "Ref": "videoPublishedTopic0F33FD9B"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_sns.CfnSubscription",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_sns.Subscription",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_lambda.Function",
              "version": "2.142.1"
            }
          },
          "createUserFeedLambda": {
            "id": "createUserFeedLambda",
            "path": "CloudMoviesStack/createUserFeedLambda",
            "children": {
              "ServiceRole": {
                "id": "ServiceRole",
                "path": "CloudMoviesStack/createUserFeedLambda/ServiceRole",
                "children": {
                  "ImportServiceRole": {
                    "id": "ImportServiceRole",
                    "path": "CloudMoviesStack/createUserFeedLambda/ServiceRole/ImportServiceRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.142.1"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/createUserFeedLambda/ServiceRole/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "lambda.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "managedPolicyArns": [
                          {
                            "Fn::Join": [
                              "",
                              [
                                "arn:",
                                {
                                  "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                              ]
                            ]
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.142.1"
                    }
                  },
                  "DefaultPolicy": {
                    "id": "DefaultPolicy",
                    "path": "CloudMoviesStack/createUserFeedLambda/ServiceRole/DefaultPolicy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "CloudMoviesStack/createUserFeedLambda/ServiceRole/DefaultPolicy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                          "aws:cdk:cloudformation:props": {
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": [
                                    "dynamodb:BatchWriteItem",
                                    "dynamodb:DeleteItem",
                                    "dynamodb:DescribeTable",
                                    "dynamodb:PutItem",
                                    "dynamodb:UpdateItem"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "feedsTable2B322F8D",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Ref": "AWS::NoValue"
                                    }
                                  ]
                                },
                                {
                                  "Action": [
                                    "dynamodb:BatchGetItem",
                                    "dynamodb:ConditionCheckItem",
                                    "dynamodb:DescribeTable",
                                    "dynamodb:GetItem",
                                    "dynamodb:GetRecords",
                                    "dynamodb:GetShardIterator",
                                    "dynamodb:Query",
                                    "dynamodb:Scan"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "videosTableBCC40D2B",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          {
                                            "Fn::GetAtt": [
                                              "videosTableBCC40D2B",
                                              "Arn"
                                            ]
                                          },
                                          "/index/*"
                                        ]
                                      ]
                                    }
                                  ]
                                }
                              ],
                              "Version": "2012-10-17"
                            },
                            "policyName": "createUserFeedLambdaServiceRoleDefaultPolicy0E6F2890",
                            "roles": [
                              {
                                "Ref": "createUserFeedLambdaServiceRoleE1A60815"
                              }
                            ]
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                          "version": "2.142.1"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Policy",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.142.1"
                }
              },
              "Code": {
                "id": "Code",
                "path": "CloudMoviesStack/createUserFeedLambda/Code",
                "children": {
                  "Stage": {
                    "id": "Stage",
                    "path": "CloudMoviesStack/createUserFeedLambda/Code/Stage",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.AssetStaging",
                      "version": "2.142.1"
                    }
                  },
                  "AssetBucket": {
                    "id": "AssetBucket",
                    "path": "CloudMoviesStack/createUserFeedLambda/Code/AssetBucket",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                  "version": "2.142.1"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/createUserFeedLambda/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                  "aws:cdk:cloudformation:props": {
                    "code": {
                      "s3Bucket": {
                        "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
                      },
                      "s3Key": "858d4a725bf043233d66c73c2557bb75c5ea8338c14a66340f38d7be77149f82.zip"
                    },
                    "environment": {
                      "variables": {
                        "FEEDS_TABLE": {
                          "Ref": "feedsTable2B322F8D"
                        },
                        "VIDEOS_TABLE": {
                          "Ref": "videosTableBCC40D2B"
                        }
                      }
                    },
                    "handler": "create_user_feed.handler",
                    "memorySize": 128,
                    "role": {
                      "Fn::GetAtt": [
                        "createUserFeedLambdaServiceRoleE1A60815",
                        "Arn"
                      ]
                    },
                    "runtime": "python3.9",
                    "timeout": 10
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                  "version": "2.142.1"
                }
              },
              "AllowInvoke:CloudMoviesStackregisterConfirmationTopic946C1E0B": {
                "id": "AllowInvoke:CloudMoviesStackregisterConfirmationTopic946C1E0B",
                "path": "CloudMoviesStack/createUserFeedLambda/AllowInvoke:CloudMoviesStackregisterConfirmationTopic946C1E0B",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Permission",
                  "aws:cdk:cloudformation:props": {
                    "action": "lambda:InvokeFunction",
                    "functionName": {
                      "Fn::GetAtt": [
                        "createUserFeedLambdaD7C2905C",
                        "Arn"
                      ]
                    },
                    "principal": "sns.amazonaws.com",
                    "sourceArn": {
                      "Ref": "registerConfirmationTopicEB93F8F5"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnPermission",
                  "version": "2.142.1"
                }
              },
              "registerConfirmationTopic": {
                "id": "registerConfirmationTopic",
                "path": "CloudMoviesStack/createUserFeedLambda/registerConfirmationTopic",
                "children": {
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/createUserFeedLambda/registerConfirmationTopic/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::SNS::Subscription",
                      "aws:cdk:cloudformation:props": {
                        "endpoint": {
                          "Fn::GetAtt": [
                            "createUserFeedLambdaD7C2905C",
                            "Arn"
                          ]
                        },
                        "protocol": "lambda",
                        "topicArn": {
                          "Ref": "registerConfirmationTopicEB93F8F5"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_sns.CfnSubscription",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_sns.Subscription",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_lambda.Function",
              "version": "2.142.1"
            }
          },
          "userUpdateFeedLambda": {
            "id": "userUpdateFeedLambda",
            "path": "CloudMoviesStack/userUpdateFeedLambda",
            "children": {
              "ServiceRole": {
                "id": "ServiceRole",
                "path": "CloudMoviesStack/userUpdateFeedLambda/ServiceRole",
                "children": {
                  "ImportServiceRole": {
                    "id": "ImportServiceRole",
                    "path": "CloudMoviesStack/userUpdateFeedLambda/ServiceRole/ImportServiceRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.142.1"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/userUpdateFeedLambda/ServiceRole/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "lambda.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "managedPolicyArns": [
                          {
                            "Fn::Join": [
                              "",
                              [
                                "arn:",
                                {
                                  "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                              ]
                            ]
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.142.1"
                    }
                  },
                  "DefaultPolicy": {
                    "id": "DefaultPolicy",
                    "path": "CloudMoviesStack/userUpdateFeedLambda/ServiceRole/DefaultPolicy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "CloudMoviesStack/userUpdateFeedLambda/ServiceRole/DefaultPolicy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                          "aws:cdk:cloudformation:props": {
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": [
                                    "dynamodb:BatchGetItem",
                                    "dynamodb:ConditionCheckItem",
                                    "dynamodb:DescribeTable",
                                    "dynamodb:GetItem",
                                    "dynamodb:GetRecords",
                                    "dynamodb:GetShardIterator",
                                    "dynamodb:Query",
                                    "dynamodb:Scan"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "videosTableBCC40D2B",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          {
                                            "Fn::GetAtt": [
                                              "videosTableBCC40D2B",
                                              "Arn"
                                            ]
                                          },
                                          "/index/*"
                                        ]
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "Action": [
                                    "dynamodb:BatchGetItem",
                                    "dynamodb:BatchWriteItem",
                                    "dynamodb:ConditionCheckItem",
                                    "dynamodb:DeleteItem",
                                    "dynamodb:DescribeTable",
                                    "dynamodb:GetItem",
                                    "dynamodb:GetRecords",
                                    "dynamodb:GetShardIterator",
                                    "dynamodb:PutItem",
                                    "dynamodb:Query",
                                    "dynamodb:Scan",
                                    "dynamodb:UpdateItem"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "feedsTable2B322F8D",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Ref": "AWS::NoValue"
                                    }
                                  ]
                                },
                                {
                                  "Action": [
                                    "sqs:ChangeMessageVisibility",
                                    "sqs:DeleteMessage",
                                    "sqs:GetQueueAttributes",
                                    "sqs:GetQueueUrl",
                                    "sqs:ReceiveMessage"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": {
                                    "Fn::GetAtt": [
                                      "userEventFeedQueue35797794",
                                      "Arn"
                                    ]
                                  }
                                }
                              ],
                              "Version": "2012-10-17"
                            },
                            "policyName": "userUpdateFeedLambdaServiceRoleDefaultPolicy08B4A744",
                            "roles": [
                              {
                                "Ref": "userUpdateFeedLambdaServiceRole15CF3A26"
                              }
                            ]
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                          "version": "2.142.1"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Policy",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.142.1"
                }
              },
              "Code": {
                "id": "Code",
                "path": "CloudMoviesStack/userUpdateFeedLambda/Code",
                "children": {
                  "Stage": {
                    "id": "Stage",
                    "path": "CloudMoviesStack/userUpdateFeedLambda/Code/Stage",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.AssetStaging",
                      "version": "2.142.1"
                    }
                  },
                  "AssetBucket": {
                    "id": "AssetBucket",
                    "path": "CloudMoviesStack/userUpdateFeedLambda/Code/AssetBucket",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                  "version": "2.142.1"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/userUpdateFeedLambda/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                  "aws:cdk:cloudformation:props": {
                    "code": {
                      "s3Bucket": {
                        "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
                      },
                      "s3Key": "9af795cb2a4bed5008addb92431c2d0a2e9b645c426f99c19f88be50649939d6.zip"
                    },
                    "environment": {
                      "variables": {
                        "VIDEOS_TABLE": {
                          "Ref": "videosTableBCC40D2B"
                        },
                        "FEEDS_TABLE": {
                          "Ref": "feedsTable2B322F8D"
                        }
                      }
                    },
                    "handler": "user_update_feed.handler",
                    "memorySize": 128,
                    "role": {
                      "Fn::GetAtt": [
                        "userUpdateFeedLambdaServiceRole15CF3A26",
                        "Arn"
                      ]
                    },
                    "runtime": "python3.9",
                    "timeout": 10
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                  "version": "2.142.1"
                }
              },
              "userEventFeedSource": {
                "id": "userEventFeedSource",
                "path": "CloudMoviesStack/userUpdateFeedLambda/userEventFeedSource",
                "children": {
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/userUpdateFeedLambda/userEventFeedSource/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::Lambda::EventSourceMapping",
                      "aws:cdk:cloudformation:props": {
                        "batchSize": 1,
                        "eventSourceArn": {
                          "Fn::GetAtt": [
                            "userEventFeedQueue35797794",
                            "Arn"
                          ]
                        },
                        "functionName": {
                          "Ref": "userUpdateFeedLambdaCA6766D6"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_lambda.CfnEventSourceMapping",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.EventSourceMapping",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_lambda.Function",
              "version": "2.142.1"
            }
          },
          "publishUpdateFeedLambda": {
            "id": "publishUpdateFeedLambda",
            "path": "CloudMoviesStack/publishUpdateFeedLambda",
            "children": {
              "ServiceRole": {
                "id": "ServiceRole",
                "path": "CloudMoviesStack/publishUpdateFeedLambda/ServiceRole",
                "children": {
                  "ImportServiceRole": {
                    "id": "ImportServiceRole",
                    "path": "CloudMoviesStack/publishUpdateFeedLambda/ServiceRole/ImportServiceRole",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.Resource",
                      "version": "2.142.1"
                    }
                  },
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/publishUpdateFeedLambda/ServiceRole/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                      "aws:cdk:cloudformation:props": {
                        "assumeRolePolicyDocument": {
                          "Statement": [
                            {
                              "Action": "sts:AssumeRole",
                              "Effect": "Allow",
                              "Principal": {
                                "Service": "lambda.amazonaws.com"
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        },
                        "managedPolicyArns": [
                          {
                            "Fn::Join": [
                              "",
                              [
                                "arn:",
                                {
                                  "Ref": "AWS::Partition"
                                },
                                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                              ]
                            ]
                          }
                        ]
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                      "version": "2.142.1"
                    }
                  },
                  "DefaultPolicy": {
                    "id": "DefaultPolicy",
                    "path": "CloudMoviesStack/publishUpdateFeedLambda/ServiceRole/DefaultPolicy",
                    "children": {
                      "Resource": {
                        "id": "Resource",
                        "path": "CloudMoviesStack/publishUpdateFeedLambda/ServiceRole/DefaultPolicy/Resource",
                        "attributes": {
                          "aws:cdk:cloudformation:type": "AWS::IAM::Policy",
                          "aws:cdk:cloudformation:props": {
                            "policyDocument": {
                              "Statement": [
                                {
                                  "Action": [
                                    "dynamodb:BatchGetItem",
                                    "dynamodb:ConditionCheckItem",
                                    "dynamodb:DescribeTable",
                                    "dynamodb:GetItem",
                                    "dynamodb:GetRecords",
                                    "dynamodb:GetShardIterator",
                                    "dynamodb:Query",
                                    "dynamodb:Scan"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "ratingTable2AEECFA5",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Fn::GetAtt": [
                                        "subscriptionsTable99FE4D04",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Fn::GetAtt": [
                                        "videosTableBCC40D2B",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Fn::Join": [
                                        "",
                                        [
                                          {
                                            "Fn::GetAtt": [
                                              "videosTableBCC40D2B",
                                              "Arn"
                                            ]
                                          },
                                          "/index/*"
                                        ]
                                      ]
                                    },
                                    {
                                      "Ref": "AWS::NoValue"
                                    }
                                  ]
                                },
                                {
                                  "Action": [
                                    "dynamodb:BatchGetItem",
                                    "dynamodb:BatchWriteItem",
                                    "dynamodb:ConditionCheckItem",
                                    "dynamodb:DeleteItem",
                                    "dynamodb:DescribeTable",
                                    "dynamodb:GetItem",
                                    "dynamodb:GetRecords",
                                    "dynamodb:GetShardIterator",
                                    "dynamodb:PutItem",
                                    "dynamodb:Query",
                                    "dynamodb:Scan",
                                    "dynamodb:UpdateItem"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": [
                                    {
                                      "Fn::GetAtt": [
                                        "feedsTable2B322F8D",
                                        "Arn"
                                      ]
                                    },
                                    {
                                      "Ref": "AWS::NoValue"
                                    }
                                  ]
                                },
                                {
                                  "Action": [
                                    "sqs:ChangeMessageVisibility",
                                    "sqs:DeleteMessage",
                                    "sqs:GetQueueAttributes",
                                    "sqs:GetQueueUrl",
                                    "sqs:ReceiveMessage"
                                  ],
                                  "Effect": "Allow",
                                  "Resource": {
                                    "Fn::GetAtt": [
                                      "publishEventFeedQueueF16A58E7",
                                      "Arn"
                                    ]
                                  }
                                }
                              ],
                              "Version": "2012-10-17"
                            },
                            "policyName": "publishUpdateFeedLambdaServiceRoleDefaultPolicyF1CE9110",
                            "roles": [
                              {
                                "Ref": "publishUpdateFeedLambdaServiceRole63A4A808"
                              }
                            ]
                          }
                        },
                        "constructInfo": {
                          "fqn": "aws-cdk-lib.aws_iam.CfnPolicy",
                          "version": "2.142.1"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_iam.Policy",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.Role",
                  "version": "2.142.1"
                }
              },
              "Code": {
                "id": "Code",
                "path": "CloudMoviesStack/publishUpdateFeedLambda/Code",
                "children": {
                  "Stage": {
                    "id": "Stage",
                    "path": "CloudMoviesStack/publishUpdateFeedLambda/Code/Stage",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.AssetStaging",
                      "version": "2.142.1"
                    }
                  },
                  "AssetBucket": {
                    "id": "AssetBucket",
                    "path": "CloudMoviesStack/publishUpdateFeedLambda/Code/AssetBucket",
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_s3.BucketBase",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_s3_assets.Asset",
                  "version": "2.142.1"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/publishUpdateFeedLambda/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::Lambda::Function",
                  "aws:cdk:cloudformation:props": {
                    "code": {
                      "s3Bucket": {
                        "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
                      },
                      "s3Key": "15d9d28ceed4b74d3bfc31b1c6e5a693ff653646c80b4d3d0ca5b8e577512954.zip"
                    },
                    "environment": {
                      "variables": {
                        "VIDEOS_TABLE": {
                          "Ref": "videosTableBCC40D2B"
                        },
                        "SUBSCRIPTIONS_TABLE": {
                          "Ref": "subscriptionsTable99FE4D04"
                        },
                        "RATINGS_TABLE": {
                          "Ref": "ratingTable2AEECFA5"
                        },
                        "FEEDS_TABLE": {
                          "Ref": "feedsTable2B322F8D"
                        }
                      }
                    },
                    "handler": "publish_update_feed.handler",
                    "memorySize": 128,
                    "role": {
                      "Fn::GetAtt": [
                        "publishUpdateFeedLambdaServiceRole63A4A808",
                        "Arn"
                      ]
                    },
                    "runtime": "python3.9",
                    "timeout": 10
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.CfnFunction",
                  "version": "2.142.1"
                }
              },
              "publishEventFeedSource": {
                "id": "publishEventFeedSource",
                "path": "CloudMoviesStack/publishUpdateFeedLambda/publishEventFeedSource",
                "children": {
                  "Resource": {
                    "id": "Resource",
                    "path": "CloudMoviesStack/publishUpdateFeedLambda/publishEventFeedSource/Resource",
                    "attributes": {
                      "aws:cdk:cloudformation:type": "AWS::Lambda::EventSourceMapping",
                      "aws:cdk:cloudformation:props": {
                        "batchSize": 1,
                        "eventSourceArn": {
                          "Fn::GetAtt": [
                            "publishEventFeedQueueF16A58E7",
                            "Arn"
                          ]
                        },
                        "functionName": {
                          "Ref": "publishUpdateFeedLambda0D7129F3"
                        }
                      }
                    },
                    "constructInfo": {
                      "fqn": "aws-cdk-lib.aws_lambda.CfnEventSourceMapping",
                      "version": "2.142.1"
                    }
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_lambda.EventSourceMapping",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_lambda.Function",
              "version": "2.142.1"
            }
          },
          "videosFeedPipeRole": {
            "id": "videosFeedPipeRole",
            "path": "CloudMoviesStack/videosFeedPipeRole",
            "children": {
              "ImportvideosFeedPipeRole": {
                "id": "ImportvideosFeedPipeRole",
                "path": "CloudMoviesStack/videosFeedPipeRole/ImportvideosFeedPipeRole",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.Resource",
                  "version": "2.142.1"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/videosFeedPipeRole/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                  "aws:cdk:cloudformation:props": {
                    "assumeRolePolicyDocument": {
                      "Statement": [
                        {
                          "Action": "sts:AssumeRole",
                          "Effect": "Allow",
                          "Principal": {
                            "Service": "pipes.amazonaws.com"
                          }
                        }
                      ],
                      "Version": "2012-10-17"
                    },
                    "policies": [
                      {
                        "policyName": "PipeSourcePolicy",
                        "policyDocument": {
                          "Statement": [
                            {
                              "Action": [
                                "dynamodb:DescribeStream",
                                "dynamodb:GetRecords",
                                "dynamodb:GetShardIterator",
                                "dynamodb:ListStreams"
                              ],
                              "Effect": "Allow",
                              "Resource": {
                                "Fn::GetAtt": [
                                  "videosTableBCC40D2B",
                                  "StreamArn"
                                ]
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        }
                      },
                      {
                        "policyName": "PipeTargetPolicy",
                        "policyDocument": {
                          "Statement": [
                            {
                              "Action": "sqs:SendMessage",
                              "Effect": "Allow",
                              "Resource": {
                                "Fn::GetAtt": [
                                  "publishEventFeedQueueF16A58E7",
                                  "Arn"
                                ]
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        }
                      }
                    ]
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_iam.Role",
              "version": "2.142.1"
            }
          },
          "videosFeedPipe": {
            "id": "videosFeedPipe",
            "path": "CloudMoviesStack/videosFeedPipe",
            "attributes": {
              "aws:cdk:cloudformation:type": "AWS::Pipes::Pipe",
              "aws:cdk:cloudformation:props": {
                "roleArn": {
                  "Fn::GetAtt": [
                    "videosFeedPipeRoleBC0EBD5F",
                    "Arn"
                  ]
                },
                "source": {
                  "Fn::GetAtt": [
                    "videosTableBCC40D2B",
                    "StreamArn"
                  ]
                },
                "sourceParameters": {
                  "dynamoDbStreamParameters": {
                    "startingPosition": "LATEST"
                  },
                  "filterCriteria": {
                    "filters": [
                      {
                        "pattern": "{\"eventName\": [\"MODIFY\"], \"dynamodb\": {\"NewImage\": {\"videoType\": {\"S\": [\"MOVIE\", \"SHOW\"]}}}}"
                      }
                    ]
                  }
                },
                "target": {
                  "Fn::GetAtt": [
                    "publishEventFeedQueueF16A58E7",
                    "Arn"
                  ]
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_pipes.CfnPipe",
              "version": "2.142.1"
            }
          },
          "subscriptionsFeedPipeRole": {
            "id": "subscriptionsFeedPipeRole",
            "path": "CloudMoviesStack/subscriptionsFeedPipeRole",
            "children": {
              "ImportsubscriptionsFeedPipeRole": {
                "id": "ImportsubscriptionsFeedPipeRole",
                "path": "CloudMoviesStack/subscriptionsFeedPipeRole/ImportsubscriptionsFeedPipeRole",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.Resource",
                  "version": "2.142.1"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/subscriptionsFeedPipeRole/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                  "aws:cdk:cloudformation:props": {
                    "assumeRolePolicyDocument": {
                      "Statement": [
                        {
                          "Action": "sts:AssumeRole",
                          "Effect": "Allow",
                          "Principal": {
                            "Service": "pipes.amazonaws.com"
                          }
                        }
                      ],
                      "Version": "2012-10-17"
                    },
                    "policies": [
                      {
                        "policyName": "PipeSourcePolicy",
                        "policyDocument": {
                          "Statement": [
                            {
                              "Action": [
                                "dynamodb:DescribeStream",
                                "dynamodb:GetRecords",
                                "dynamodb:GetShardIterator",
                                "dynamodb:ListStreams"
                              ],
                              "Effect": "Allow",
                              "Resource": {
                                "Fn::GetAtt": [
                                  "subscriptionsTable99FE4D04",
                                  "StreamArn"
                                ]
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        }
                      },
                      {
                        "policyName": "PipeTargetPolicy",
                        "policyDocument": {
                          "Statement": [
                            {
                              "Action": "sqs:SendMessage",
                              "Effect": "Allow",
                              "Resource": {
                                "Fn::GetAtt": [
                                  "userEventFeedQueue35797794",
                                  "Arn"
                                ]
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        }
                      }
                    ]
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_iam.Role",
              "version": "2.142.1"
            }
          },
          "subscriptionsFeedPipe": {
            "id": "subscriptionsFeedPipe",
            "path": "CloudMoviesStack/subscriptionsFeedPipe",
            "attributes": {
              "aws:cdk:cloudformation:type": "AWS::Pipes::Pipe",
              "aws:cdk:cloudformation:props": {
                "roleArn": {
                  "Fn::GetAtt": [
                    "subscriptionsFeedPipeRole2D8B4D76",
                    "Arn"
                  ]
                },
                "source": {
                  "Fn::GetAtt": [
                    "subscriptionsTable99FE4D04",
                    "StreamArn"
                  ]
                },
                "sourceParameters": {
                  "dynamoDbStreamParameters": {
                    "startingPosition": "LATEST"
                  },
                  "filterCriteria": {
                    "filters": [
                      {
                        "pattern": "{\"eventName\": [\"INSERT\", \"REMOVE\"]}"
                      }
                    ]
                  }
                },
                "target": {
                  "Fn::GetAtt": [
                    "userEventFeedQueue35797794",
                    "Arn"
                  ]
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_pipes.CfnPipe",
              "version": "2.142.1"
            }
          },
          "ratingsFeedPipeRole": {
            "id": "ratingsFeedPipeRole",
            "path": "CloudMoviesStack/ratingsFeedPipeRole",
            "children": {
              "ImportratingsFeedPipeRole": {
                "id": "ImportratingsFeedPipeRole",
                "path": "CloudMoviesStack/ratingsFeedPipeRole/ImportratingsFeedPipeRole",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.Resource",
                  "version": "2.142.1"
                }
              },
              "Resource": {
                "id": "Resource",
                "path": "CloudMoviesStack/ratingsFeedPipeRole/Resource",
                "attributes": {
                  "aws:cdk:cloudformation:type": "AWS::IAM::Role",
                  "aws:cdk:cloudformation:props": {
                    "assumeRolePolicyDocument": {
                      "Statement": [
                        {
                          "Action": "sts:AssumeRole",
                          "Effect": "Allow",
                          "Principal": {
                            "Service": "pipes.amazonaws.com"
                          }
                        }
                      ],
                      "Version": "2012-10-17"
                    },
                    "policies": [
                      {
                        "policyName": "PipeSourcePolicy",
                        "policyDocument": {
                          "Statement": [
                            {
                              "Action": [
                                "dynamodb:DescribeStream",
                                "dynamodb:GetRecords",
                                "dynamodb:GetShardIterator",
                                "dynamodb:ListStreams"
                              ],
                              "Effect": "Allow",
                              "Resource": {
                                "Fn::GetAtt": [
                                  "ratingTable2AEECFA5",
                                  "StreamArn"
                                ]
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        }
                      },
                      {
                        "policyName": "PipeTargetPolicy",
                        "policyDocument": {
                          "Statement": [
                            {
                              "Action": "sqs:SendMessage",
                              "Effect": "Allow",
                              "Resource": {
                                "Fn::GetAtt": [
                                  "userEventFeedQueue35797794",
                                  "Arn"
                                ]
                              }
                            }
                          ],
                          "Version": "2012-10-17"
                        }
                      }
                    ]
                  }
                },
                "constructInfo": {
                  "fqn": "aws-cdk-lib.aws_iam.CfnRole",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_iam.Role",
              "version": "2.142.1"
            }
          },
          "ratingsFeedPipe": {
            "id": "ratingsFeedPipe",
            "path": "CloudMoviesStack/ratingsFeedPipe",
            "attributes": {
              "aws:cdk:cloudformation:type": "AWS::Pipes::Pipe",
              "aws:cdk:cloudformation:props": {
                "roleArn": {
                  "Fn::GetAtt": [
                    "ratingsFeedPipeRole54FCC01D",
                    "Arn"
                  ]
                },
                "source": {
                  "Fn::GetAtt": [
                    "ratingTable2AEECFA5",
                    "StreamArn"
                  ]
                },
                "sourceParameters": {
                  "dynamoDbStreamParameters": {
                    "startingPosition": "LATEST"
                  },
                  "filterCriteria": {
                    "filters": [
                      {
                        "pattern": "{\"eventName\": [\"INSERT\", \"MODIFY\", \"REMOVE\"]}"
                      }
                    ]
                  }
                },
                "target": {
                  "Fn::GetAtt": [
                    "userEventFeedQueue35797794",
                    "Arn"
                  ]
                }
              }
            },
            "constructInfo": {
              "fqn": "aws-cdk-lib.aws_pipes.CfnPipe",
              "version": "2.142.1"
            }
          },
          "CDKMetadata": {
            "id": "CDKMetadata",
            "path": "CloudMoviesStack/CDKMetadata",
            "children": {
              "Default": {
                "id": "Default",
                "path": "CloudMoviesStack/CDKMetadata/Default",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.CfnResource",
                  "version": "2.142.1"
                }
              },
              "Condition": {
                "id": "Condition",
                "path": "CloudMoviesStack/CDKMetadata/Condition",
                "constructInfo": {
                  "fqn": "aws-cdk-lib.CfnCondition",
                  "version": "2.142.1"
                }
              }
            },
            "constructInfo": {
              "fqn": "constructs.Construct",
              "version": "10.3.0"
            }
          },
          "BootstrapVersion": {
            "id": "BootstrapVersion",
            "path": "CloudMoviesStack/BootstrapVersion",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnParameter",
              "version": "2.142.1"
            }
          },
          "CheckBootstrapVersion": {
            "id": "CheckBootstrapVersion",
            "path": "CloudMoviesStack/CheckBootstrapVersion",
            "constructInfo": {
              "fqn": "aws-cdk-lib.CfnRule",
              "version": "2.142.1"
            }
          }
        },
        "constructInfo": {
          "fqn": "aws-cdk-lib.Stack",
          "version": "2.142.1"
        }
      },
      "Tree": {
        "id": "Tree",
        "path": "Tree",
        "constructInfo": {
          "fqn": "constructs.Construct",
          "version": "10.3.0"
        }
      }
    },
    "constructInfo": {
      "fqn": "aws-cdk-lib.App",
      "version": "2.142.1"
    }
  }
}